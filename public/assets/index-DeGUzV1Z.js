var eU=Object.defineProperty;var eS=t=>{throw TypeError(t)};var tU=(t,e,r)=>e in t?eU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var q=(t,e,r)=>tU(t,typeof e!="symbol"?e+"":e,r),gy=(t,e,r)=>e.has(t)||eS("Cannot "+r);var U=(t,e,r)=>(gy(t,e,"read from private field"),r?r.call(t):e.get(t)),Ye=(t,e,r)=>e.has(t)?eS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Oe=(t,e,r,s)=>(gy(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),At=(t,e,r)=>(gy(t,e,"access private method"),r);var Um=(t,e,r,s)=>({set _(a){Oe(t,e,a,r)},get _(){return U(t,e,s)}});function t4(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var r4={exports:{}},$x={},s4={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),rU=Symbol.for("react.portal"),sU=Symbol.for("react.fragment"),nU=Symbol.for("react.strict_mode"),aU=Symbol.for("react.profiler"),iU=Symbol.for("react.provider"),oU=Symbol.for("react.context"),lU=Symbol.for("react.forward_ref"),cU=Symbol.for("react.suspense"),dU=Symbol.for("react.memo"),uU=Symbol.for("react.lazy"),tS=Symbol.iterator;function hU(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var n4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a4=Object.assign,i4={};function Tu(t,e,r){this.props=t,this.context=e,this.refs=i4,this.updater=r||n4}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o4(){}o4.prototype=Tu.prototype;function jj(t,e,r){this.props=t,this.context=e,this.refs=i4,this.updater=r||n4}var Nj=jj.prototype=new o4;Nj.constructor=jj;a4(Nj,Tu.prototype);Nj.isPureReactComponent=!0;var rS=Array.isArray,l4=Object.prototype.hasOwnProperty,_j={current:null},c4={key:!0,ref:!0,__self:!0,__source:!0};function d4(t,e,r){var s,a={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)l4.call(e,s)&&!c4.hasOwnProperty(s)&&(a[s]=e[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:rm,type:t,key:i,ref:o,props:a,_owner:_j.current}}function fU(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sj(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function mU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var sS=/\/+/g;function xy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mU(""+t.key):e.toString(36)}function Dp(t,e,r,s,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rm:case rU:o=!0}}if(o)return o=t,a=a(o),t=s===""?"."+xy(o,0):s,rS(a)?(r="",t!=null&&(r=t.replace(sS,"$&/")+"/"),Dp(a,e,r,"",function(d){return d})):a!=null&&(Sj(a)&&(a=fU(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(sS,"$&/")+"/")+t)),e.push(a)),1;if(o=0,s=s===""?".":s+":",rS(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+xy(i,l);o+=Dp(i,e,r,c,a)}else if(c=hU(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+xy(i,l++),o+=Dp(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qm(t,e,r){if(t==null)return t;var s=[],a=0;return Dp(t,s,"","",function(i){return e.call(r,i,a++)}),s}function pU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ys={current:null},Mp={transition:null},gU={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:_j};function u4(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:qm,forEach:function(t,e,r){qm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qm(t,function(){e++}),e},toArray:function(t){return qm(t,function(e){return e})||[]},only:function(t){if(!Sj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=Tu;$t.Fragment=sU;$t.Profiler=aU;$t.PureComponent=jj;$t.StrictMode=nU;$t.Suspense=cU;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gU;$t.act=u4;$t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=a4({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_j.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)l4.call(e,c)&&!c4.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:rm,type:t.type,key:a,ref:i,props:s,_owner:o}};$t.createContext=function(t){return t={$$typeof:oU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iU,_context:t},t.Consumer=t};$t.createElement=d4;$t.createFactory=function(t){var e=d4.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:lU,render:t}};$t.isValidElement=Sj;$t.lazy=function(t){return{$$typeof:uU,_payload:{_status:-1,_result:t},_init:pU}};$t.memo=function(t,e){return{$$typeof:dU,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=Mp.transition;Mp.transition={};try{t()}finally{Mp.transition=e}};$t.unstable_act=u4;$t.useCallback=function(t,e){return Ys.current.useCallback(t,e)};$t.useContext=function(t){return Ys.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return Ys.current.useDeferredValue(t)};$t.useEffect=function(t,e){return Ys.current.useEffect(t,e)};$t.useId=function(){return Ys.current.useId()};$t.useImperativeHandle=function(t,e,r){return Ys.current.useImperativeHandle(t,e,r)};$t.useInsertionEffect=function(t,e){return Ys.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return Ys.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return Ys.current.useMemo(t,e)};$t.useReducer=function(t,e,r){return Ys.current.useReducer(t,e,r)};$t.useRef=function(t){return Ys.current.useRef(t)};$t.useState=function(t){return Ys.current.useState(t)};$t.useSyncExternalStore=function(t,e,r){return Ys.current.useSyncExternalStore(t,e,r)};$t.useTransition=function(){return Ys.current.useTransition()};$t.version="18.3.1";s4.exports=$t;var m=s4.exports;const $e=Lx(m),h4=t4({__proto__:null,default:$e},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xU=m,vU=Symbol.for("react.element"),yU=Symbol.for("react.fragment"),bU=Object.prototype.hasOwnProperty,wU=xU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jU={key:!0,ref:!0,__self:!0,__source:!0};function f4(t,e,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)bU.call(e,s)&&!jU.hasOwnProperty(s)&&(a[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)a[s]===void 0&&(a[s]=e[s]);return{$$typeof:vU,type:t,key:i,ref:o,props:a,_owner:wU.current}}$x.Fragment=yU;$x.jsx=f4;$x.jsxs=f4;r4.exports=$x;var n=r4.exports,m4={exports:{}},$n={},p4={exports:{}},g4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,z){var Z=H.length;H.push(z);e:for(;0<Z;){var me=Z-1>>>1,Se=H[me];if(0<a(Se,z))H[me]=z,H[Z]=Se,Z=me;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var z=H[0],Z=H.pop();if(Z!==z){H[0]=Z;e:for(var me=0,Se=H.length,tt=Se>>>1;me<tt;){var Pt=2*(me+1)-1,Ae=H[Pt],wt=Pt+1,we=H[wt];if(0>a(Ae,Z))wt<Se&&0>a(we,Ae)?(H[me]=we,H[wt]=Z,me=wt):(H[me]=Ae,H[Pt]=Z,me=Pt);else if(wt<Se&&0>a(we,Z))H[me]=we,H[wt]=Z,me=wt;else break e}}return z}function a(H,z){var Z=H.sortIndex-z.sortIndex;return Z!==0?Z:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,b=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var z=r(d);z!==null;){if(z.callback===null)s(d);else if(z.startTime<=H)s(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(d)}}function _(H){if(x=!1,N(H),!b)if(r(c)!==null)b=!0,G(k);else{var z=r(d);z!==null&&ae(_,z.startTime-H)}}function k(H,z){b=!1,x&&(x=!1,y(T),T=-1),g=!0;var Z=f;try{for(N(z),h=r(c);h!==null&&(!(h.expirationTime>z)||H&&!W());){var me=h.callback;if(typeof me=="function"){h.callback=null,f=h.priorityLevel;var Se=me(h.expirationTime<=z);z=t.unstable_now(),typeof Se=="function"?h.callback=Se:h===r(c)&&s(c),N(z)}else s(c);h=r(c)}if(h!==null)var tt=!0;else{var Pt=r(d);Pt!==null&&ae(_,Pt.startTime-z),tt=!1}return tt}finally{h=null,f=Z,g=!1}}var P=!1,C=null,T=-1,M=5,A=-1;function W(){return!(t.unstable_now()-A<M)}function B(){if(C!==null){var H=t.unstable_now();A=H;var z=!0;try{z=C(!0,H)}finally{z?L():(P=!1,C=null)}}else P=!1}var L;if(typeof v=="function")L=function(){v(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=B,L=function(){X.postMessage(null)}}else L=function(){j(B,0)};function G(H){C=H,P||(P=!0,L())}function ae(H,z){T=j(function(){H(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,G(k))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Z=f;f=z;try{return H()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=f;f=H;try{return z()}finally{f=Z}},t.unstable_scheduleCallback=function(H,z,Z){var me=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,H){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Z+Se,H={id:u++,callback:z,priorityLevel:H,startTime:Z,expirationTime:Se,sortIndex:-1},Z>me?(H.sortIndex=Z,e(d,H),r(c)===null&&H===r(d)&&(x?(y(T),T=-1):x=!0,ae(_,Z-me))):(H.sortIndex=Se,e(c,H),b||g||(b=!0,G(k))),H},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(H){var z=f;return function(){var Z=f;f=z;try{return H.apply(this,arguments)}finally{f=Z}}}})(g4);p4.exports=g4;var NU=p4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _U=m,Mn=NU;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x4=new Set,ef={};function jc(t,e){Zd(t,e),Zd(t+"Capture",e)}function Zd(t,e){for(ef[t]=e,t=0;t<e.length;t++)x4.add(e[t])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bb=Object.prototype.hasOwnProperty,SU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nS={},aS={};function kU(t){return Bb.call(aS,t)?!0:Bb.call(nS,t)?!1:SU.test(t)?aS[t]=!0:(nS[t]=!0,!1)}function CU(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EU(t,e,r,s){if(e===null||typeof e>"u"||CU(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zs(t,e,r,s,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ns[t]=new Zs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ns[e]=new Zs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ns[t]=new Zs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ns[t]=new Zs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ns[t]=new Zs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ns[t]=new Zs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ns[t]=new Zs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ns[t]=new Zs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ns[t]=new Zs(t,5,!1,t.toLowerCase(),null,!1,!1)});var kj=/[\-:]([a-z])/g;function Cj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kj,Cj);Ns[e]=new Zs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kj,Cj);Ns[e]=new Zs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kj,Cj);Ns[e]=new Zs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ns[t]=new Zs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ns.xlinkHref=new Zs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ns[t]=new Zs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ej(t,e,r,s){var a=Ns.hasOwnProperty(e)?Ns[e]:null;(a!==null?a.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EU(e,r,a,s)&&(r=null),s||a===null?kU(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,s=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var Zi=_U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hm=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),v4=Symbol.for("react.provider"),y4=Symbol.for("react.context"),Tj=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),qb=Symbol.for("react.suspense_list"),Aj=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),b4=Symbol.for("react.offscreen"),iS=Symbol.iterator;function lh(t){return t===null||typeof t!="object"?null:(t=iS&&t[iS]||t["@@iterator"],typeof t=="function"?t:null)}var Er=Object.assign,vy;function _h(t){if(vy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vy=e&&e[1]||""}return`
`+vy+t}var yy=!1;function by(t,e){if(!t||yy)return"";yy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{yy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_h(t):""}function PU(t){switch(t.tag){case 5:return _h(t.type);case 16:return _h("Lazy");case 13:return _h("Suspense");case 19:return _h("SuspenseList");case 0:case 2:case 15:return t=by(t.type,!1),t;case 11:return t=by(t.type.render,!1),t;case 1:return t=by(t.type,!0),t;default:return""}}function Hb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case td:return"Fragment";case ed:return"Portal";case zb:return"Profiler";case Pj:return"StrictMode";case Ub:return"Suspense";case qb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y4:return(t.displayName||"Context")+".Consumer";case v4:return(t._context.displayName||"Context")+".Provider";case Tj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aj:return e=t.displayName||null,e!==null?e:Hb(t.type)||"Memo";case vo:e=t._payload,t=t._init;try{return Hb(t(e))}catch{}}return null}function TU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hb(e);case 8:return e===Pj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AU(t){var e=w4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wm(t){t._valueTracker||(t._valueTracker=AU(t))}function j4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=w4(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function hg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wb(t,e){var r=e.checked;return Er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oS(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=Zo(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N4(t,e){e=e.checked,e!=null&&Ej(t,"checked",e,!1)}function Kb(t,e){N4(t,e);var r=Zo(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gb(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gb(t,e.type,Zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gb(t,e,r){(e!=="number"||hg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sh=Array.isArray;function bd(t,e,r,s){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&s&&(t[r].defaultSelected=!0)}else{for(r=""+Zo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,s&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Xb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(Sh(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zo(r)}}function _4(t,e){var r=Zo(e.value),s=Zo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function dS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Km,k4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Km=Km||document.createElement("div"),Km.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Km.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RU=["Webkit","ms","Moz","O"];Object.keys(Mh).forEach(function(t){RU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mh[e]=Mh[t]})});function C4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mh.hasOwnProperty(t)&&Mh[t]?(""+e).trim():e+"px"}function E4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=C4(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,a):t[r]=a}}var OU=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jb(t,e){if(e){if(OU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function Yb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=null;function Rj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e0=null,wd=null,jd=null;function uS(t){if(t=am(t)){if(typeof e0!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=Ux(e),e0(t.stateNode,t.type,e))}}function P4(t){wd?jd?jd.push(t):jd=[t]:wd=t}function T4(){if(wd){var t=wd,e=jd;if(jd=wd=null,uS(t),e)for(t=0;t<e.length;t++)uS(e[t])}}function A4(t,e){return t(e)}function R4(){}var wy=!1;function O4(t,e,r){if(wy)return t(e,r);wy=!0;try{return A4(t,e,r)}finally{wy=!1,(wd!==null||jd!==null)&&(R4(),T4())}}function rf(t,e){var r=t.stateNode;if(r===null)return null;var s=Ux(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var t0=!1;if(zi)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){t0=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{t0=!1}function IU(t,e,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Lh=!1,fg=null,mg=!1,r0=null,DU={onError:function(t){Lh=!0,fg=t}};function MU(t,e,r,s,a,i,o,l,c){Lh=!1,fg=null,IU.apply(DU,arguments)}function LU(t,e,r,s,a,i,o,l,c){if(MU.apply(this,arguments),Lh){if(Lh){var d=fg;Lh=!1,fg=null}else throw Error(xe(198));mg||(mg=!0,r0=d)}}function Nc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function I4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hS(t){if(Nc(t)!==t)throw Error(xe(188))}function $U(t){var e=t.alternate;if(!e){if(e=Nc(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,s=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return hS(a),t;if(i===s)return hS(a),e;i=i.sibling}throw Error(xe(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==s)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function D4(t){return t=$U(t),t!==null?M4(t):null}function M4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M4(t);if(e!==null)return e;t=t.sibling}return null}var L4=Mn.unstable_scheduleCallback,fS=Mn.unstable_cancelCallback,FU=Mn.unstable_shouldYield,VU=Mn.unstable_requestPaint,Br=Mn.unstable_now,BU=Mn.unstable_getCurrentPriorityLevel,Oj=Mn.unstable_ImmediatePriority,$4=Mn.unstable_UserBlockingPriority,pg=Mn.unstable_NormalPriority,zU=Mn.unstable_LowPriority,F4=Mn.unstable_IdlePriority,Fx=null,ti=null;function UU(t){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(Fx,t,void 0,(t.current.flags&128)===128)}catch{}}var Oa=Math.clz32?Math.clz32:WU,qU=Math.log,HU=Math.LN2;function WU(t){return t>>>=0,t===0?32:31-(qU(t)/HU|0)|0}var Gm=64,Xm=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gg(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=kh(l):(i&=o,i!==0&&(s=kh(i)))}else o=r&~a,o!==0?s=kh(o):i!==0&&(s=kh(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&a)&&(a=s&-s,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-Oa(e),a=1<<r,s|=t[r],e&=~a;return s}function KU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GU(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Oa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=KU(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function s0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V4(){var t=Gm;return Gm<<=1,!(Gm&4194240)&&(Gm=64),t}function jy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function sm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oa(e),t[e]=r}function XU(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Oa(r),i=1<<a;e[a]=0,s[a]=-1,t[a]=-1,r&=~i}}function Ij(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-Oa(r),a=1<<s;a&e|t[s]&e&&(t[s]|=e),r&=~a}}var rr=0;function B4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z4,Dj,U4,q4,H4,n0=!1,Qm=[],Vo=null,Bo=null,zo=null,sf=new Map,nf=new Map,bo=[],QU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mS(t,e){switch(t){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":sf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(e.pointerId)}}function dh(t,e,r,s,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},e!==null&&(e=am(e),e!==null&&Dj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function JU(t,e,r,s,a){switch(e){case"focusin":return Vo=dh(Vo,t,e,r,s,a),!0;case"dragenter":return Bo=dh(Bo,t,e,r,s,a),!0;case"mouseover":return zo=dh(zo,t,e,r,s,a),!0;case"pointerover":var i=a.pointerId;return sf.set(i,dh(sf.get(i)||null,t,e,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,nf.set(i,dh(nf.get(i)||null,t,e,r,s,a)),!0}return!1}function W4(t){var e=Bl(t.target);if(e!==null){var r=Nc(e);if(r!==null){if(e=r.tag,e===13){if(e=I4(r),e!==null){t.blockedOn=e,H4(t.priority,function(){U4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=a0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);Zb=s,r.target.dispatchEvent(s),Zb=null}else return e=am(r),e!==null&&Dj(e),t.blockedOn=r,!1;e.shift()}return!0}function pS(t,e,r){Lp(t)&&r.delete(e)}function YU(){n0=!1,Vo!==null&&Lp(Vo)&&(Vo=null),Bo!==null&&Lp(Bo)&&(Bo=null),zo!==null&&Lp(zo)&&(zo=null),sf.forEach(pS),nf.forEach(pS)}function uh(t,e){t.blockedOn===e&&(t.blockedOn=null,n0||(n0=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,YU)))}function af(t){function e(a){return uh(a,t)}if(0<Qm.length){uh(Qm[0],t);for(var r=1;r<Qm.length;r++){var s=Qm[r];s.blockedOn===t&&(s.blockedOn=null)}}for(Vo!==null&&uh(Vo,t),Bo!==null&&uh(Bo,t),zo!==null&&uh(zo,t),sf.forEach(e),nf.forEach(e),r=0;r<bo.length;r++)s=bo[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)W4(r),r.blockedOn===null&&bo.shift()}var Nd=Zi.ReactCurrentBatchConfig,xg=!0;function ZU(t,e,r,s){var a=rr,i=Nd.transition;Nd.transition=null;try{rr=1,Mj(t,e,r,s)}finally{rr=a,Nd.transition=i}}function eq(t,e,r,s){var a=rr,i=Nd.transition;Nd.transition=null;try{rr=4,Mj(t,e,r,s)}finally{rr=a,Nd.transition=i}}function Mj(t,e,r,s){if(xg){var a=a0(t,e,r,s);if(a===null)Ry(t,e,s,vg,r),mS(t,s);else if(JU(a,t,e,r,s))s.stopPropagation();else if(mS(t,s),e&4&&-1<QU.indexOf(t)){for(;a!==null;){var i=am(a);if(i!==null&&z4(i),i=a0(t,e,r,s),i===null&&Ry(t,e,s,vg,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Ry(t,e,s,null,r)}}var vg=null;function a0(t,e,r,s){if(vg=null,t=Rj(s),t=Bl(t),t!==null)if(e=Nc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=I4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vg=t,null}function K4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BU()){case Oj:return 1;case $4:return 4;case pg:case zU:return 16;case F4:return 536870912;default:return 16}default:return 16}}var Mo=null,Lj=null,$p=null;function G4(){if($p)return $p;var t,e=Lj,r=e.length,s,a="value"in Mo?Mo.value:Mo.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===a[i-s];s++);return $p=a.slice(t,1<s?1-s:void 0)}function Fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jm(){return!0}function gS(){return!1}function Fn(t){function e(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jm:gS,this.isPropagationStopped=gS,this}return Er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jm)},persist:function(){},isPersistent:Jm}),e}var Au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$j=Fn(Au),nm=Er({},Au,{view:0,detail:0}),tq=Fn(nm),Ny,_y,hh,Vx=Er({},nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hh&&(hh&&t.type==="mousemove"?(Ny=t.screenX-hh.screenX,_y=t.screenY-hh.screenY):_y=Ny=0,hh=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:_y}}),xS=Fn(Vx),rq=Er({},Vx,{dataTransfer:0}),sq=Fn(rq),nq=Er({},nm,{relatedTarget:0}),Sy=Fn(nq),aq=Er({},Au,{animationName:0,elapsedTime:0,pseudoElement:0}),iq=Fn(aq),oq=Er({},Au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lq=Fn(oq),cq=Er({},Au,{data:0}),vS=Fn(cq),dq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hq[t])?!!e[t]:!1}function Fj(){return fq}var mq=Er({},nm,{key:function(t){if(t.key){var e=dq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fj,charCode:function(t){return t.type==="keypress"?Fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pq=Fn(mq),gq=Er({},Vx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=Fn(gq),xq=Er({},nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fj}),vq=Fn(xq),yq=Er({},Au,{propertyName:0,elapsedTime:0,pseudoElement:0}),bq=Fn(yq),wq=Er({},Vx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jq=Fn(wq),Nq=[9,13,27,32],Vj=zi&&"CompositionEvent"in window,$h=null;zi&&"documentMode"in document&&($h=document.documentMode);var _q=zi&&"TextEvent"in window&&!$h,X4=zi&&(!Vj||$h&&8<$h&&11>=$h),bS=" ",wS=!1;function Q4(t,e){switch(t){case"keyup":return Nq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rd=!1;function Sq(t,e){switch(t){case"compositionend":return J4(e);case"keypress":return e.which!==32?null:(wS=!0,bS);case"textInput":return t=e.data,t===bS&&wS?null:t;default:return null}}function kq(t,e){if(rd)return t==="compositionend"||!Vj&&Q4(t,e)?(t=G4(),$p=Lj=Mo=null,rd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X4&&e.locale!=="ko"?null:e.data;default:return null}}var Cq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cq[t.type]:e==="textarea"}function Y4(t,e,r,s){P4(s),e=yg(e,"onChange"),0<e.length&&(r=new $j("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var Fh=null,of=null;function Eq(t){cO(t,0)}function Bx(t){var e=ad(t);if(j4(e))return t}function Pq(t,e){if(t==="change")return e}var Z4=!1;if(zi){var ky;if(zi){var Cy="oninput"in document;if(!Cy){var NS=document.createElement("div");NS.setAttribute("oninput","return;"),Cy=typeof NS.oninput=="function"}ky=Cy}else ky=!1;Z4=ky&&(!document.documentMode||9<document.documentMode)}function _S(){Fh&&(Fh.detachEvent("onpropertychange",eO),of=Fh=null)}function eO(t){if(t.propertyName==="value"&&Bx(of)){var e=[];Y4(e,of,t,Rj(t)),O4(Eq,e)}}function Tq(t,e,r){t==="focusin"?(_S(),Fh=e,of=r,Fh.attachEvent("onpropertychange",eO)):t==="focusout"&&_S()}function Aq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bx(of)}function Rq(t,e){if(t==="click")return Bx(e)}function Oq(t,e){if(t==="input"||t==="change")return Bx(e)}function Iq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $a=typeof Object.is=="function"?Object.is:Iq;function lf(t,e){if($a(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Bb.call(e,a)||!$a(t[a],e[a]))return!1}return!0}function SS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kS(t,e){var r=SS(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SS(r)}}function tO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rO(){for(var t=window,e=hg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hg(t.document)}return e}function Bj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dq(t){var e=rO(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&tO(r.ownerDocument.documentElement,r)){if(s!==null&&Bj(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!t.extend&&i>s&&(a=s,s=i,i=a),a=kS(r,i);var o=kS(r,s);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mq=zi&&"documentMode"in document&&11>=document.documentMode,sd=null,i0=null,Vh=null,o0=!1;function CS(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;o0||sd==null||sd!==hg(s)||(s=sd,"selectionStart"in s&&Bj(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vh&&lf(Vh,s)||(Vh=s,s=yg(i0,"onSelect"),0<s.length&&(e=new $j("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=sd)))}function Ym(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var nd={animationend:Ym("Animation","AnimationEnd"),animationiteration:Ym("Animation","AnimationIteration"),animationstart:Ym("Animation","AnimationStart"),transitionend:Ym("Transition","TransitionEnd")},Ey={},sO={};zi&&(sO=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function zx(t){if(Ey[t])return Ey[t];if(!nd[t])return t;var e=nd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sO)return Ey[t]=e[r];return t}var nO=zx("animationend"),aO=zx("animationiteration"),iO=zx("animationstart"),oO=zx("transitionend"),lO=new Map,ES="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(t,e){lO.set(t,e),jc(e,[t])}for(var Py=0;Py<ES.length;Py++){var Ty=ES[Py],Lq=Ty.toLowerCase(),$q=Ty[0].toUpperCase()+Ty.slice(1);hl(Lq,"on"+$q)}hl(nO,"onAnimationEnd");hl(aO,"onAnimationIteration");hl(iO,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(oO,"onTransitionEnd");Zd("onMouseEnter",["mouseout","mouseover"]);Zd("onMouseLeave",["mouseout","mouseover"]);Zd("onPointerEnter",["pointerout","pointerover"]);Zd("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function PS(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,LU(s,e,void 0,t),t.currentTarget=null}function cO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],a=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;PS(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;PS(a,l,d),i=c}}}if(mg)throw t=r0,mg=!1,r0=null,t}function fr(t,e){var r=e[h0];r===void 0&&(r=e[h0]=new Set);var s=t+"__bubble";r.has(s)||(dO(e,t,2,!1),r.add(s))}function Ay(t,e,r){var s=0;e&&(s|=4),dO(r,t,s,e)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Zm]){t[Zm]=!0,x4.forEach(function(r){r!=="selectionchange"&&(Fq.has(r)||Ay(r,!1,t),Ay(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zm]||(e[Zm]=!0,Ay("selectionchange",!1,e))}}function dO(t,e,r,s){switch(K4(e)){case 1:var a=ZU;break;case 4:a=eq;break;default:a=Mj}r=a.bind(null,e,r,t),a=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),s?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Ry(t,e,r,s,a){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Bl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}O4(function(){var d=i,u=Rj(r),h=[];e:{var f=lO.get(t);if(f!==void 0){var g=$j,b=t;switch(t){case"keypress":if(Fp(r)===0)break e;case"keydown":case"keyup":g=pq;break;case"focusin":b="focus",g=Sy;break;case"focusout":b="blur",g=Sy;break;case"beforeblur":case"afterblur":g=Sy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vq;break;case nO:case aO:case iO:g=iq;break;case oO:g=bq;break;case"scroll":g=tq;break;case"wheel":g=jq;break;case"copy":case"cut":case"paste":g=lq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yS}var x=(e&4)!==0,j=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var v=d,N;v!==null;){N=v;var _=N.stateNode;if(N.tag===5&&_!==null&&(N=_,y!==null&&(_=rf(v,y),_!=null&&x.push(df(v,_,N)))),j)break;v=v.return}0<x.length&&(f=new g(f,b,null,r,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Zb&&(b=r.relatedTarget||r.fromElement)&&(Bl(b)||b[Ui]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=d,b=b?Bl(b):null,b!==null&&(j=Nc(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=d),g!==b)){if(x=xS,_="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=yS,_="onPointerLeave",y="onPointerEnter",v="pointer"),j=g==null?f:ad(g),N=b==null?f:ad(b),f=new x(_,v+"leave",g,r,u),f.target=j,f.relatedTarget=N,_=null,Bl(u)===d&&(x=new x(y,v+"enter",b,r,u),x.target=N,x.relatedTarget=j,_=x),j=_,g&&b)t:{for(x=g,y=b,v=0,N=x;N;N=$c(N))v++;for(N=0,_=y;_;_=$c(_))N++;for(;0<v-N;)x=$c(x),v--;for(;0<N-v;)y=$c(y),N--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=$c(x),y=$c(y)}x=null}else x=null;g!==null&&TS(h,f,g,x,!1),b!==null&&j!==null&&TS(h,j,b,x,!0)}}e:{if(f=d?ad(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=Pq;else if(jS(f))if(Z4)k=Oq;else{k=Aq;var P=Tq}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Rq);if(k&&(k=k(t,d))){Y4(h,k,r,u);break e}P&&P(t,f,d),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Gb(f,"number",f.value)}switch(P=d?ad(d):window,t){case"focusin":(jS(P)||P.contentEditable==="true")&&(sd=P,i0=d,Vh=null);break;case"focusout":Vh=i0=sd=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,CS(h,r,u);break;case"selectionchange":if(Mq)break;case"keydown":case"keyup":CS(h,r,u)}var C;if(Vj)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else rd?Q4(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(X4&&r.locale!=="ko"&&(rd||T!=="onCompositionStart"?T==="onCompositionEnd"&&rd&&(C=G4()):(Mo=u,Lj="value"in Mo?Mo.value:Mo.textContent,rd=!0)),P=yg(d,T),0<P.length&&(T=new vS(T,t,null,r,u),h.push({event:T,listeners:P}),C?T.data=C:(C=J4(r),C!==null&&(T.data=C)))),(C=_q?Sq(t,r):kq(t,r))&&(d=yg(d,"onBeforeInput"),0<d.length&&(u=new vS("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}cO(h,e)})}function df(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yg(t,e){for(var r=e+"Capture",s=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rf(t,r),i!=null&&s.unshift(df(t,i,a)),i=rf(t,e),i!=null&&s.push(df(t,i,a))),t=t.return}return s}function $c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TS(t,e,r,s,a){for(var i=e._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=rf(r,i),c!=null&&o.unshift(df(r,c,l))):a||(c=rf(r,i),c!=null&&o.push(df(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Vq=/\r\n?/g,Bq=/\u0000|\uFFFD/g;function AS(t){return(typeof t=="string"?t:""+t).replace(Vq,`
`).replace(Bq,"")}function ep(t,e,r){if(e=AS(e),AS(t)!==e&&r)throw Error(xe(425))}function bg(){}var l0=null,c0=null;function d0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u0=typeof setTimeout=="function"?setTimeout:void 0,zq=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,Uq=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(t){return RS.resolve(null).then(t).catch(qq)}:u0;function qq(t){setTimeout(function(){throw t})}function Oy(t,e){var r=e,s=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){t.removeChild(a),af(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);af(e)}function Uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Ru,uf="__reactProps$"+Ru,Ui="__reactContainer$"+Ru,h0="__reactEvents$"+Ru,Hq="__reactListeners$"+Ru,Wq="__reactHandles$"+Ru;function Bl(t){var e=t[Ja];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ui]||r[Ja]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=OS(t);t!==null;){if(r=t[Ja])return r;t=OS(t)}return e}t=r,r=t.parentNode}return null}function am(t){return t=t[Ja]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ad(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function Ux(t){return t[uf]||null}var f0=[],id=-1;function fl(t){return{current:t}}function mr(t){0>id||(t.current=f0[id],f0[id]=null,id--)}function ur(t,e){id++,f0[id]=t.current,t.current=e}var el={},Is=fl(el),fn=fl(!1),ic=el;function eu(t,e){var r=t.type.contextTypes;if(!r)return el;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function mn(t){return t=t.childContextTypes,t!=null}function wg(){mr(fn),mr(Is)}function IS(t,e,r){if(Is.current!==el)throw Error(xe(168));ur(Is,e),ur(fn,r)}function uO(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in e))throw Error(xe(108,TU(t)||"Unknown",a));return Er({},r,s)}function jg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||el,ic=Is.current,ur(Is,t),ur(fn,fn.current),!0}function DS(t,e,r){var s=t.stateNode;if(!s)throw Error(xe(169));r?(t=uO(t,e,ic),s.__reactInternalMemoizedMergedChildContext=t,mr(fn),mr(Is),ur(Is,t)):mr(fn),ur(fn,r)}var Ni=null,qx=!1,Iy=!1;function hO(t){Ni===null?Ni=[t]:Ni.push(t)}function Kq(t){qx=!0,hO(t)}function ml(){if(!Iy&&Ni!==null){Iy=!0;var t=0,e=rr;try{var r=Ni;for(rr=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}Ni=null,qx=!1}catch(a){throw Ni!==null&&(Ni=Ni.slice(t+1)),L4(Oj,ml),a}finally{rr=e,Iy=!1}}return null}var od=[],ld=0,Ng=null,_g=0,ea=[],ta=0,oc=null,ki=1,Ci="";function Al(t,e){od[ld++]=_g,od[ld++]=Ng,Ng=t,_g=e}function fO(t,e,r){ea[ta++]=ki,ea[ta++]=Ci,ea[ta++]=oc,oc=t;var s=ki;t=Ci;var a=32-Oa(s)-1;s&=~(1<<a),r+=1;var i=32-Oa(e)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,ki=1<<32-Oa(e)+a|r<<a|s,Ci=i+t}else ki=1<<i|r<<a|s,Ci=t}function zj(t){t.return!==null&&(Al(t,1),fO(t,1,0))}function Uj(t){for(;t===Ng;)Ng=od[--ld],od[ld]=null,_g=od[--ld],od[ld]=null;for(;t===oc;)oc=ea[--ta],ea[ta]=null,Ci=ea[--ta],ea[ta]=null,ki=ea[--ta],ea[ta]=null}var On=null,En=null,xr=!1,Ca=null;function mO(t,e){var r=ia(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function MS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,En=Uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=oc!==null?{id:ki,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ia(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,On=t,En=null,!0):!1;default:return!1}}function m0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p0(t){if(xr){var e=En;if(e){var r=e;if(!MS(t,e)){if(m0(t))throw Error(xe(418));e=Uo(r.nextSibling);var s=On;e&&MS(t,e)?mO(s,r):(t.flags=t.flags&-4097|2,xr=!1,On=t)}}else{if(m0(t))throw Error(xe(418));t.flags=t.flags&-4097|2,xr=!1,On=t}}}function LS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function tp(t){if(t!==On)return!1;if(!xr)return LS(t),xr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!d0(t.type,t.memoizedProps)),e&&(e=En)){if(m0(t))throw pO(),Error(xe(418));for(;e;)mO(t,e),e=Uo(e.nextSibling)}if(LS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){En=Uo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}En=null}}else En=On?Uo(t.stateNode.nextSibling):null;return!0}function pO(){for(var t=En;t;)t=Uo(t.nextSibling)}function tu(){En=On=null,xr=!1}function qj(t){Ca===null?Ca=[t]:Ca.push(t)}var Gq=Zi.ReactCurrentBatchConfig;function fh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var s=r.stateNode}if(!s)throw Error(xe(147,t));var a=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function rp(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $S(t){var e=t._init;return e(t._payload)}function gO(t){function e(y,v){if(t){var N=y.deletions;N===null?(y.deletions=[v],y.flags|=16):N.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=Ko(y,v),y.index=0,y.sibling=null,y}function i(y,v,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<v?(y.flags|=2,v):N):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,N,_){return v===null||v.tag!==6?(v=By(N,y.mode,_),v.return=y,v):(v=a(v,N),v.return=y,v)}function c(y,v,N,_){var k=N.type;return k===td?u(y,v,N.props.children,_,N.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vo&&$S(k)===v.type)?(_=a(v,N.props),_.ref=fh(y,v,N),_.return=y,_):(_=Wp(N.type,N.key,N.props,null,y.mode,_),_.ref=fh(y,v,N),_.return=y,_)}function d(y,v,N,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=zy(N,y.mode,_),v.return=y,v):(v=a(v,N.children||[]),v.return=y,v)}function u(y,v,N,_,k){return v===null||v.tag!==7?(v=rc(N,y.mode,_,k),v.return=y,v):(v=a(v,N),v.return=y,v)}function h(y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=By(""+v,y.mode,N),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hm:return N=Wp(v.type,v.key,v.props,null,y.mode,N),N.ref=fh(y,null,v),N.return=y,N;case ed:return v=zy(v,y.mode,N),v.return=y,v;case vo:var _=v._init;return h(y,_(v._payload),N)}if(Sh(v)||lh(v))return v=rc(v,y.mode,N,null),v.return=y,v;rp(y,v)}return null}function f(y,v,N,_){var k=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return k!==null?null:l(y,v,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hm:return N.key===k?c(y,v,N,_):null;case ed:return N.key===k?d(y,v,N,_):null;case vo:return k=N._init,f(y,v,k(N._payload),_)}if(Sh(N)||lh(N))return k!==null?null:u(y,v,N,_,null);rp(y,N)}return null}function g(y,v,N,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(N)||null,l(v,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hm:return y=y.get(_.key===null?N:_.key)||null,c(v,y,_,k);case ed:return y=y.get(_.key===null?N:_.key)||null,d(v,y,_,k);case vo:var P=_._init;return g(y,v,N,P(_._payload),k)}if(Sh(_)||lh(_))return y=y.get(N)||null,u(v,y,_,k,null);rp(v,_)}return null}function b(y,v,N,_){for(var k=null,P=null,C=v,T=v=0,M=null;C!==null&&T<N.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var A=f(y,C,N[T],_);if(A===null){C===null&&(C=M);break}t&&C&&A.alternate===null&&e(y,C),v=i(A,v,T),P===null?k=A:P.sibling=A,P=A,C=M}if(T===N.length)return r(y,C),xr&&Al(y,T),k;if(C===null){for(;T<N.length;T++)C=h(y,N[T],_),C!==null&&(v=i(C,v,T),P===null?k=C:P.sibling=C,P=C);return xr&&Al(y,T),k}for(C=s(y,C);T<N.length;T++)M=g(C,y,T,N[T],_),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?T:M.key),v=i(M,v,T),P===null?k=M:P.sibling=M,P=M);return t&&C.forEach(function(W){return e(y,W)}),xr&&Al(y,T),k}function x(y,v,N,_){var k=lh(N);if(typeof k!="function")throw Error(xe(150));if(N=k.call(N),N==null)throw Error(xe(151));for(var P=k=null,C=v,T=v=0,M=null,A=N.next();C!==null&&!A.done;T++,A=N.next()){C.index>T?(M=C,C=null):M=C.sibling;var W=f(y,C,A.value,_);if(W===null){C===null&&(C=M);break}t&&C&&W.alternate===null&&e(y,C),v=i(W,v,T),P===null?k=W:P.sibling=W,P=W,C=M}if(A.done)return r(y,C),xr&&Al(y,T),k;if(C===null){for(;!A.done;T++,A=N.next())A=h(y,A.value,_),A!==null&&(v=i(A,v,T),P===null?k=A:P.sibling=A,P=A);return xr&&Al(y,T),k}for(C=s(y,C);!A.done;T++,A=N.next())A=g(C,y,T,A.value,_),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),v=i(A,v,T),P===null?k=A:P.sibling=A,P=A);return t&&C.forEach(function(B){return e(y,B)}),xr&&Al(y,T),k}function j(y,v,N,_){if(typeof N=="object"&&N!==null&&N.type===td&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Hm:e:{for(var k=N.key,P=v;P!==null;){if(P.key===k){if(k=N.type,k===td){if(P.tag===7){r(y,P.sibling),v=a(P,N.props.children),v.return=y,y=v;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vo&&$S(k)===P.type){r(y,P.sibling),v=a(P,N.props),v.ref=fh(y,P,N),v.return=y,y=v;break e}r(y,P);break}else e(y,P);P=P.sibling}N.type===td?(v=rc(N.props.children,y.mode,_,N.key),v.return=y,y=v):(_=Wp(N.type,N.key,N.props,null,y.mode,_),_.ref=fh(y,v,N),_.return=y,y=_)}return o(y);case ed:e:{for(P=N.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){r(y,v.sibling),v=a(v,N.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=zy(N,y.mode,_),v.return=y,y=v}return o(y);case vo:return P=N._init,j(y,v,P(N._payload),_)}if(Sh(N))return b(y,v,N,_);if(lh(N))return x(y,v,N,_);rp(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,N),v.return=y,y=v):(r(y,v),v=By(N,y.mode,_),v.return=y,y=v),o(y)):r(y,v)}return j}var ru=gO(!0),xO=gO(!1),Sg=fl(null),kg=null,cd=null,Hj=null;function Wj(){Hj=cd=kg=null}function Kj(t){var e=Sg.current;mr(Sg),t._currentValue=e}function g0(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function _d(t,e){kg=t,Hj=cd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function ha(t){var e=t._currentValue;if(Hj!==t)if(t={context:t,memoizedValue:e,next:null},cd===null){if(kg===null)throw Error(xe(308));cd=t,kg.dependencies={lanes:0,firstContext:t}}else cd=cd.next=t;return e}var zl=null;function Gj(t){zl===null?zl=[t]:zl.push(t)}function vO(t,e,r,s){var a=e.interleaved;return a===null?(r.next=r,Gj(e)):(r.next=a.next,a.next=r),e.interleaved=r,qi(t,s)}function qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yo=!1;function Xj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Xt&2){var a=s.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e,qi(t,r)}return a=s.interleaved,a===null?(e.next=e,Gj(s)):(e.next=a.next,a.next=e),s.interleaved=e,qi(t,r)}function Vp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Ij(t,r)}}function FS(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cg(t,e,r,s){var a=t.updateQueue;yo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,x=l;switch(f=e,g=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){h=b.call(g,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,f=typeof b=="function"?b.call(g,h,f):b,f==null)break e;h=Er({},h,f);break e;case 2:yo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);cc|=o,t.lanes=o,t.memoizedState=h}}function VS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(xe(191,a));a.call(s)}}}var im={},ri=fl(im),hf=fl(im),ff=fl(im);function Ul(t){if(t===im)throw Error(xe(174));return t}function Qj(t,e){switch(ur(ff,e),ur(hf,t),ur(ri,im),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qb(e,t)}mr(ri),ur(ri,e)}function su(){mr(ri),mr(hf),mr(ff)}function bO(t){Ul(ff.current);var e=Ul(ri.current),r=Qb(e,t.type);e!==r&&(ur(hf,t),ur(ri,r))}function Jj(t){hf.current===t&&(mr(ri),mr(hf))}var Nr=fl(0);function Eg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dy=[];function Yj(){for(var t=0;t<Dy.length;t++)Dy[t]._workInProgressVersionPrimary=null;Dy.length=0}var Bp=Zi.ReactCurrentDispatcher,My=Zi.ReactCurrentBatchConfig,lc=0,Cr=null,ts=null,is=null,Pg=!1,Bh=!1,mf=0,Xq=0;function _s(){throw Error(xe(321))}function Zj(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$a(t[r],e[r]))return!1;return!0}function e1(t,e,r,s,a,i){if(lc=i,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bp.current=t===null||t.memoizedState===null?Zq:e9,t=r(s,a),Bh){i=0;do{if(Bh=!1,mf=0,25<=i)throw Error(xe(301));i+=1,is=ts=null,e.updateQueue=null,Bp.current=t9,t=r(s,a)}while(Bh)}if(Bp.current=Tg,e=ts!==null&&ts.next!==null,lc=0,is=ts=Cr=null,Pg=!1,e)throw Error(xe(300));return t}function t1(){var t=mf!==0;return mf=0,t}function Ha(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?Cr.memoizedState=is=t:is=is.next=t,is}function fa(){if(ts===null){var t=Cr.alternate;t=t!==null?t.memoizedState:null}else t=ts.next;var e=is===null?Cr.memoizedState:is.next;if(e!==null)is=e,ts=t;else{if(t===null)throw Error(xe(310));ts=t,t={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},is===null?Cr.memoizedState=is=t:is=is.next=t}return is}function pf(t,e){return typeof e=="function"?e(t):e}function Ly(t){var e=fa(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var s=ts,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((lc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Cr.lanes|=u,cc|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,$a(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Cr.lanes|=i,cc|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $y(t){var e=fa(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var s=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);$a(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,s]}function wO(){}function jO(t,e){var r=Cr,s=fa(),a=e(),i=!$a(s.memoizedState,a);if(i&&(s.memoizedState=a,hn=!0),s=s.queue,r1(SO.bind(null,r,s,t),[t]),s.getSnapshot!==e||i||is!==null&&is.memoizedState.tag&1){if(r.flags|=2048,gf(9,_O.bind(null,r,s,a,e),void 0,null),cs===null)throw Error(xe(349));lc&30||NO(r,e,a)}return a}function NO(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _O(t,e,r,s){e.value=r,e.getSnapshot=s,kO(e)&&CO(t)}function SO(t,e,r){return r(function(){kO(e)&&CO(t)})}function kO(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$a(t,r)}catch{return!0}}function CO(t){var e=qi(t,1);e!==null&&Ia(e,t,1,-1)}function BS(t){var e=Ha();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=Yq.bind(null,Cr,t),[e.memoizedState,t]}function gf(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function EO(){return fa().memoizedState}function zp(t,e,r,s){var a=Ha();Cr.flags|=t,a.memoizedState=gf(1|e,r,void 0,s===void 0?null:s)}function Hx(t,e,r,s){var a=fa();s=s===void 0?null:s;var i=void 0;if(ts!==null){var o=ts.memoizedState;if(i=o.destroy,s!==null&&Zj(s,o.deps)){a.memoizedState=gf(e,r,i,s);return}}Cr.flags|=t,a.memoizedState=gf(1|e,r,i,s)}function zS(t,e){return zp(8390656,8,t,e)}function r1(t,e){return Hx(2048,8,t,e)}function PO(t,e){return Hx(4,2,t,e)}function TO(t,e){return Hx(4,4,t,e)}function AO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RO(t,e,r){return r=r!=null?r.concat([t]):null,Hx(4,4,AO.bind(null,e,t),r)}function s1(){}function OO(t,e){var r=fa();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Zj(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function IO(t,e){var r=fa();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Zj(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function DO(t,e,r){return lc&21?($a(r,e)||(r=V4(),Cr.lanes|=r,cc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=r)}function Qq(t,e){var r=rr;rr=r!==0&&4>r?r:4,t(!0);var s=My.transition;My.transition={};try{t(!1),e()}finally{rr=r,My.transition=s}}function MO(){return fa().memoizedState}function Jq(t,e,r){var s=Wo(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},LO(t))$O(e,r);else if(r=vO(t,e,r,s),r!==null){var a=Qs();Ia(r,t,s,a),FO(r,e,s)}}function Yq(t,e,r){var s=Wo(t),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(LO(t))$O(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,$a(l,o)){var c=e.interleaved;c===null?(a.next=a,Gj(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=vO(t,e,a,s),r!==null&&(a=Qs(),Ia(r,t,s,a),FO(r,e,s))}}function LO(t){var e=t.alternate;return t===Cr||e!==null&&e===Cr}function $O(t,e){Bh=Pg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FO(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Ij(t,r)}}var Tg={readContext:ha,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},Zq={readContext:ha,useCallback:function(t,e){return Ha().memoizedState=[t,e===void 0?null:e],t},useContext:ha,useEffect:zS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zp(4194308,4,AO.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return zp(4,2,t,e)},useMemo:function(t,e){var r=Ha();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=Ha();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Jq.bind(null,Cr,t),[s.memoizedState,t]},useRef:function(t){var e=Ha();return t={current:t},e.memoizedState=t},useState:BS,useDebugValue:s1,useDeferredValue:function(t){return Ha().memoizedState=t},useTransition:function(){var t=BS(!1),e=t[0];return t=Qq.bind(null,t[1]),Ha().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=Cr,a=Ha();if(xr){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),cs===null)throw Error(xe(349));lc&30||NO(s,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,zS(SO.bind(null,s,i,t),[t]),s.flags|=2048,gf(9,_O.bind(null,s,i,r,e),void 0,null),r},useId:function(){var t=Ha(),e=cs.identifierPrefix;if(xr){var r=Ci,s=ki;r=(s&~(1<<32-Oa(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=mf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Xq++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},e9={readContext:ha,useCallback:OO,useContext:ha,useEffect:r1,useImperativeHandle:RO,useInsertionEffect:PO,useLayoutEffect:TO,useMemo:IO,useReducer:Ly,useRef:EO,useState:function(){return Ly(pf)},useDebugValue:s1,useDeferredValue:function(t){var e=fa();return DO(e,ts.memoizedState,t)},useTransition:function(){var t=Ly(pf)[0],e=fa().memoizedState;return[t,e]},useMutableSource:wO,useSyncExternalStore:jO,useId:MO,unstable_isNewReconciler:!1},t9={readContext:ha,useCallback:OO,useContext:ha,useEffect:r1,useImperativeHandle:RO,useInsertionEffect:PO,useLayoutEffect:TO,useMemo:IO,useReducer:$y,useRef:EO,useState:function(){return $y(pf)},useDebugValue:s1,useDeferredValue:function(t){var e=fa();return ts===null?e.memoizedState=t:DO(e,ts.memoizedState,t)},useTransition:function(){var t=$y(pf)[0],e=fa().memoizedState;return[t,e]},useMutableSource:wO,useSyncExternalStore:jO,useId:MO,unstable_isNewReconciler:!1};function ja(t,e){if(t&&t.defaultProps){e=Er({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function x0(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Er({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wx={isMounted:function(t){return(t=t._reactInternals)?Nc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=Qs(),a=Wo(t),i=Ii(s,a);i.payload=e,r!=null&&(i.callback=r),e=qo(t,i,a),e!==null&&(Ia(e,t,a,s),Vp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=Qs(),a=Wo(t),i=Ii(s,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=qo(t,i,a),e!==null&&(Ia(e,t,a,s),Vp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qs(),s=Wo(t),a=Ii(r,s);a.tag=2,e!=null&&(a.callback=e),e=qo(t,a,s),e!==null&&(Ia(e,t,s,r),Vp(e,t,s))}};function US(t,e,r,s,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!lf(r,s)||!lf(a,i):!0}function VO(t,e,r){var s=!1,a=el,i=e.contextType;return typeof i=="object"&&i!==null?i=ha(i):(a=mn(e)?ic:Is.current,s=e.contextTypes,i=(s=s!=null)?eu(t,a):el),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wx,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function qS(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&Wx.enqueueReplaceState(e,e.state,null)}function v0(t,e,r,s){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Xj(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ha(i):(i=mn(e)?ic:Is.current,a.context=eu(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(x0(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Wx.enqueueReplaceState(a,a.state,null),Cg(t,r,a,s),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function nu(t,e){try{var r="",s=e;do r+=PU(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Fy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function y0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var r9=typeof WeakMap=="function"?WeakMap:Map;function BO(t,e,r){r=Ii(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){Rg||(Rg=!0,P0=s),y0(t,e)},r}function zO(t,e,r){r=Ii(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var a=e.value;r.payload=function(){return s(a)},r.callback=function(){y0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){y0(t,e),typeof s!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function HS(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new r9;var a=new Set;s.set(e,a)}else a=s.get(e),a===void 0&&(a=new Set,s.set(e,a));a.has(r)||(a.add(r),t=g9.bind(null,t,e,r),e.then(t,t))}function WS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KS(t,e,r,s,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ii(-1,1),e.tag=2,qo(r,e,1))),r.lanes|=1),t)}var s9=Zi.ReactCurrentOwner,hn=!1;function Us(t,e,r,s){e.child=t===null?xO(e,null,r,s):ru(e,t.child,r,s)}function GS(t,e,r,s,a){r=r.render;var i=e.ref;return _d(e,a),s=e1(t,e,r,s,i,a),r=t1(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Hi(t,e,a)):(xr&&r&&zj(e),e.flags|=1,Us(t,e,s,a),e.child)}function XS(t,e,r,s,a){if(t===null){var i=r.type;return typeof i=="function"&&!u1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,UO(t,e,i,s,a)):(t=Wp(r.type,null,s,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:lf,r(o,s)&&t.ref===e.ref)return Hi(t,e,a)}return e.flags|=1,t=Ko(i,s),t.ref=e.ref,t.return=e,e.child=t}function UO(t,e,r,s,a){if(t!==null){var i=t.memoizedProps;if(lf(i,s)&&t.ref===e.ref)if(hn=!1,e.pendingProps=s=i,(t.lanes&a)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Hi(t,e,a)}return b0(t,e,r,s,a)}function qO(t,e,r){var s=e.pendingProps,a=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(ud,Nn),Nn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ur(ud,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,ur(ud,Nn),Nn|=s}else i!==null?(s=i.baseLanes|r,e.memoizedState=null):s=r,ur(ud,Nn),Nn|=s;return Us(t,e,a,r),e.child}function HO(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function b0(t,e,r,s,a){var i=mn(r)?ic:Is.current;return i=eu(e,i),_d(e,a),r=e1(t,e,r,s,i,a),s=t1(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Hi(t,e,a)):(xr&&s&&zj(e),e.flags|=1,Us(t,e,r,a),e.child)}function QS(t,e,r,s,a){if(mn(r)){var i=!0;jg(e)}else i=!1;if(_d(e,a),e.stateNode===null)Up(t,e),VO(e,r,s),v0(e,r,s,a),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ha(d):(d=mn(r)?ic:Is.current,d=eu(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&qS(e,o,s,d),yo=!1;var f=e.memoizedState;o.state=f,Cg(e,s,o,a),c=e.memoizedState,l!==s||f!==c||fn.current||yo?(typeof u=="function"&&(x0(e,r,u,s),c=e.memoizedState),(l=yo||US(e,r,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,yO(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ja(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ha(c):(c=mn(r)?ic:Is.current,c=eu(e,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&qS(e,o,s,c),yo=!1,f=e.memoizedState,o.state=f,Cg(e,s,o,a);var b=e.memoizedState;l!==h||f!==b||fn.current||yo?(typeof g=="function"&&(x0(e,r,g,s),b=e.memoizedState),(d=yo||US(e,r,d,s,f,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),o.props=s,o.state=b,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return w0(t,e,r,s,i,a)}function w0(t,e,r,s,a,i){HO(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return a&&DS(e,r,!1),Hi(t,e,i);s=e.stateNode,s9.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=ru(e,t.child,null,i),e.child=ru(e,null,l,i)):Us(t,e,l,i),e.memoizedState=s.state,a&&DS(e,r,!0),e.child}function WO(t){var e=t.stateNode;e.pendingContext?IS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IS(t,e.context,!1),Qj(t,e.containerInfo)}function JS(t,e,r,s,a){return tu(),qj(a),e.flags|=256,Us(t,e,r,s),e.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function N0(t){return{baseLanes:t,cachePool:null,transitions:null}}function KO(t,e,r){var s=e.pendingProps,a=Nr.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),ur(Nr,a&1),t===null)return p0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xx(o,s,0,null),t=rc(t,s,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=N0(r),e.memoizedState=j0,t):n1(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return n9(t,e,o,s,l,a,r);if(i){i=s.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==a?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Ko(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ko(l,i):(i=rc(i,o,r,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?N0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=j0,s}return i=t.child,t=i.sibling,s=Ko(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function n1(t,e){return e=Xx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sp(t,e,r,s){return s!==null&&qj(s),ru(e,t.child,null,r),t=n1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n9(t,e,r,s,a,i,o){if(r)return e.flags&256?(e.flags&=-257,s=Fy(Error(xe(422))),sp(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,a=e.mode,s=Xx({mode:"visible",children:s.children},a,0,null),i=rc(i,a,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&ru(e,t.child,null,o),e.child.memoizedState=N0(o),e.memoizedState=j0,i);if(!(e.mode&1))return sp(t,e,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(xe(419)),s=Fy(i,s,void 0),sp(t,e,o,s)}if(l=(o&t.childLanes)!==0,hn||l){if(s=cs,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,qi(t,a),Ia(s,t,a,-1))}return d1(),s=Fy(Error(xe(421))),sp(t,e,o,s)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=x9.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,En=Uo(a.nextSibling),On=e,xr=!0,Ca=null,t!==null&&(ea[ta++]=ki,ea[ta++]=Ci,ea[ta++]=oc,ki=t.id,Ci=t.overflow,oc=e),e=n1(e,s.children),e.flags|=4096,e)}function YS(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),g0(t.return,e,r)}function Vy(t,e,r,s,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function GO(t,e,r){var s=e.pendingProps,a=s.revealOrder,i=s.tail;if(Us(t,e,s.children,r),s=Nr.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YS(t,r,e);else if(t.tag===19)YS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ur(Nr,s),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Eg(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Vy(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Eg(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Vy(e,!0,r,null,i);break;case"together":Vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),cc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Ko(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ko(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function a9(t,e,r){switch(e.tag){case 3:WO(e),tu();break;case 5:bO(e);break;case 1:mn(e.type)&&jg(e);break;case 4:Qj(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,a=e.memoizedProps.value;ur(Sg,s._currentValue),s._currentValue=a;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ur(Nr,Nr.current&1),e.flags|=128,null):r&e.child.childLanes?KO(t,e,r):(ur(Nr,Nr.current&1),t=Hi(t,e,r),t!==null?t.sibling:null);ur(Nr,Nr.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return GO(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ur(Nr,Nr.current),s)break;return null;case 22:case 23:return e.lanes=0,qO(t,e,r)}return Hi(t,e,r)}var XO,_0,QO,JO;XO=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_0=function(){};QO=function(t,e,r,s){var a=t.memoizedProps;if(a!==s){t=e.stateNode,Ul(ri.current);var i=null;switch(r){case"input":a=Wb(t,a),s=Wb(t,s),i=[];break;case"select":a=Er({},a,{value:void 0}),s=Er({},s,{value:void 0}),i=[];break;case"textarea":a=Xb(t,a),s=Xb(t,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=bg)}Jb(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ef.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ef.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&fr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};JO=function(t,e,r,s){r!==s&&(e.flags|=4)};function mh(t,e){if(!xr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ss(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function i9(t,e,r){var s=e.pendingProps;switch(Uj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ss(e),null;case 1:return mn(e.type)&&wg(),Ss(e),null;case 3:return s=e.stateNode,su(),mr(fn),mr(Is),Yj(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ca!==null&&(R0(Ca),Ca=null))),_0(t,e),Ss(e),null;case 5:Jj(e);var a=Ul(ff.current);if(r=e.type,t!==null&&e.stateNode!=null)QO(t,e,r,s,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(xe(166));return Ss(e),null}if(t=Ul(ri.current),tp(e)){s=e.stateNode,r=e.type;var i=e.memoizedProps;switch(s[Ja]=e,s[uf]=i,t=(e.mode&1)!==0,r){case"dialog":fr("cancel",s),fr("close",s);break;case"iframe":case"object":case"embed":fr("load",s);break;case"video":case"audio":for(a=0;a<Ch.length;a++)fr(Ch[a],s);break;case"source":fr("error",s);break;case"img":case"image":case"link":fr("error",s),fr("load",s);break;case"details":fr("toggle",s);break;case"input":oS(s,i),fr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},fr("invalid",s);break;case"textarea":cS(s,i),fr("invalid",s)}Jb(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ep(s.textContent,l,t),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ep(s.textContent,l,t),a=["children",""+l]):ef.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fr("scroll",s)}switch(r){case"input":Wm(s),lS(s,i,!0);break;case"textarea":Wm(s),dS(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=bg)}s=a,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[Ja]=e,t[uf]=s,XO(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yb(r,s),r){case"dialog":fr("cancel",t),fr("close",t),a=s;break;case"iframe":case"object":case"embed":fr("load",t),a=s;break;case"video":case"audio":for(a=0;a<Ch.length;a++)fr(Ch[a],t);a=s;break;case"source":fr("error",t),a=s;break;case"img":case"image":case"link":fr("error",t),fr("load",t),a=s;break;case"details":fr("toggle",t),a=s;break;case"input":oS(t,s),a=Wb(t,s),fr("invalid",t);break;case"option":a=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},a=Er({},s,{value:void 0}),fr("invalid",t);break;case"textarea":cS(t,s),a=Xb(t,s),fr("invalid",t);break;default:a=s}Jb(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?E4(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k4(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tf(t,c):typeof c=="number"&&tf(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ef.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fr("scroll",t):c!=null&&Ej(t,i,c,o))}switch(r){case"input":Wm(t),lS(t,s,!1);break;case"textarea":Wm(t),dS(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Zo(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?bd(t,!!s.multiple,i,!1):s.defaultValue!=null&&bd(t,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=bg)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ss(e),null;case 6:if(t&&e.stateNode!=null)JO(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(xe(166));if(r=Ul(ff.current),Ul(ri.current),tp(e)){if(s=e.stateNode,r=e.memoizedProps,s[Ja]=e,(i=s.nodeValue!==r)&&(t=On,t!==null))switch(t.tag){case 3:ep(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ep(s.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ja]=e,e.stateNode=s}return Ss(e),null;case 13:if(mr(Nr),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xr&&En!==null&&e.mode&1&&!(e.flags&128))pO(),tu(),e.flags|=98560,i=!1;else if(i=tp(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[Ja]=e}else tu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ss(e),i=!1}else Ca!==null&&(R0(Ca),Ca=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Nr.current&1?ns===0&&(ns=3):d1())),e.updateQueue!==null&&(e.flags|=4),Ss(e),null);case 4:return su(),_0(t,e),t===null&&cf(e.stateNode.containerInfo),Ss(e),null;case 10:return Kj(e.type._context),Ss(e),null;case 17:return mn(e.type)&&wg(),Ss(e),null;case 19:if(mr(Nr),i=e.memoizedState,i===null)return Ss(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)mh(i,!1);else{if(ns!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Eg(t),o!==null){for(e.flags|=128,mh(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)i=r,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ur(Nr,Nr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Br()>au&&(e.flags|=128,s=!0,mh(i,!1),e.lanes=4194304)}else{if(!s)if(t=Eg(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xr)return Ss(e),null}else 2*Br()-i.renderingStartTime>au&&r!==1073741824&&(e.flags|=128,s=!0,mh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Br(),e.sibling=null,r=Nr.current,ur(Nr,s?r&1|2:r&1),e):(Ss(e),null);case 22:case 23:return c1(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Nn&1073741824&&(Ss(e),e.subtreeFlags&6&&(e.flags|=8192)):Ss(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function o9(t,e){switch(Uj(e),e.tag){case 1:return mn(e.type)&&wg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return su(),mr(fn),mr(Is),Yj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jj(e),null;case 13:if(mr(Nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));tu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(Nr),null;case 4:return su(),null;case 10:return Kj(e.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var np=!1,Es=!1,l9=typeof WeakSet=="function"?WeakSet:Set,De=null;function dd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ir(t,e,s)}else r.current=null}function S0(t,e,r){try{r()}catch(s){Ir(t,e,s)}}var ZS=!1;function c9(t,e){if(l0=xg,t=rO(),Bj(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===a&&(l=o),f===i&&++u===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(c0={focusedElem:t,selectionRange:r},xg=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,j=b.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:ja(e.type,x),j);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(_){Ir(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return b=ZS,ZS=!1,b}function zh(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&S0(e,r,i)}a=a.next}while(a!==s)}}function Kx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function k0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YO(t){var e=t.alternate;e!==null&&(t.alternate=null,YO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ja],delete e[uf],delete e[h0],delete e[Hq],delete e[Wq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZO(t){return t.tag===5||t.tag===3||t.tag===4}function ek(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C0(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bg));else if(s!==4&&(t=t.child,t!==null))for(C0(t,e,r),t=t.sibling;t!==null;)C0(t,e,r),t=t.sibling}function E0(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(E0(t,e,r),t=t.sibling;t!==null;)E0(t,e,r),t=t.sibling}var xs=null,Sa=!1;function co(t,e,r){for(r=r.child;r!==null;)eI(t,e,r),r=r.sibling}function eI(t,e,r){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(Fx,r)}catch{}switch(r.tag){case 5:Es||dd(r,e);case 6:var s=xs,a=Sa;xs=null,co(t,e,r),xs=s,Sa=a,xs!==null&&(Sa?(t=xs,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xs.removeChild(r.stateNode));break;case 18:xs!==null&&(Sa?(t=xs,r=r.stateNode,t.nodeType===8?Oy(t.parentNode,r):t.nodeType===1&&Oy(t,r),af(t)):Oy(xs,r.stateNode));break;case 4:s=xs,a=Sa,xs=r.stateNode.containerInfo,Sa=!0,co(t,e,r),xs=s,Sa=a;break;case 0:case 11:case 14:case 15:if(!Es&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&S0(r,e,o),a=a.next}while(a!==s)}co(t,e,r);break;case 1:if(!Es&&(dd(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ir(r,e,l)}co(t,e,r);break;case 21:co(t,e,r);break;case 22:r.mode&1?(Es=(s=Es)||r.memoizedState!==null,co(t,e,r),Es=s):co(t,e,r);break;default:co(t,e,r)}}function tk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new l9),e.forEach(function(s){var a=v9.bind(null,t,s);r.has(s)||(r.add(s),s.then(a,a))})}}function va(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xs=l.stateNode,Sa=!1;break e;case 3:xs=l.stateNode.containerInfo,Sa=!0;break e;case 4:xs=l.stateNode.containerInfo,Sa=!0;break e}l=l.return}if(xs===null)throw Error(xe(160));eI(i,o,a),xs=null,Sa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ir(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tI(e,t),e=e.sibling}function tI(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(va(e,t),Ua(t),s&4){try{zh(3,t,t.return),Kx(3,t)}catch(x){Ir(t,t.return,x)}try{zh(5,t,t.return)}catch(x){Ir(t,t.return,x)}}break;case 1:va(e,t),Ua(t),s&512&&r!==null&&dd(r,r.return);break;case 5:if(va(e,t),Ua(t),s&512&&r!==null&&dd(r,r.return),t.flags&32){var a=t.stateNode;try{tf(a,"")}catch(x){Ir(t,t.return,x)}}if(s&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&N4(a,i),Yb(l,o);var d=Yb(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?E4(a,h):u==="dangerouslySetInnerHTML"?k4(a,h):u==="children"?tf(a,h):Ej(a,u,h,d)}switch(l){case"input":Kb(a,i);break;case"textarea":_4(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?bd(a,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?bd(a,!!i.multiple,i.defaultValue,!0):bd(a,!!i.multiple,i.multiple?[]:"",!1))}a[uf]=i}catch(x){Ir(t,t.return,x)}}break;case 6:if(va(e,t),Ua(t),s&4){if(t.stateNode===null)throw Error(xe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){Ir(t,t.return,x)}}break;case 3:if(va(e,t),Ua(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{af(e.containerInfo)}catch(x){Ir(t,t.return,x)}break;case 4:va(e,t),Ua(t);break;case 13:va(e,t),Ua(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(o1=Br())),s&4&&tk(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Es=(d=Es)||u,va(e,t),Es=d):va(e,t),Ua(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(De=t,u=t.child;u!==null;){for(h=De=u;De!==null;){switch(f=De,g=f.child,f.tag){case 0:case 11:case 14:case 15:zh(4,f,f.return);break;case 1:dd(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){s=f,r=f.return;try{e=s,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Ir(s,r,x)}}break;case 5:dd(f,f.return);break;case 22:if(f.memoizedState!==null){sk(h);continue}}g!==null?(g.return=f,De=g):sk(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=C4("display",o))}catch(x){Ir(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Ir(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:va(e,t),Ua(t),s&4&&tk(t);break;case 21:break;default:va(e,t),Ua(t)}}function Ua(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ZO(r)){var s=r;break e}r=r.return}throw Error(xe(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(tf(a,""),s.flags&=-33);var i=ek(t);E0(t,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=ek(t);C0(t,l,o);break;default:throw Error(xe(161))}}catch(c){Ir(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d9(t,e,r){De=t,rI(t)}function rI(t,e,r){for(var s=(t.mode&1)!==0;De!==null;){var a=De,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||np;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Es;l=np;var d=Es;if(np=o,(Es=c)&&!d)for(De=a;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?nk(a):c!==null?(c.return=o,De=c):nk(a);for(;i!==null;)De=i,rI(i),i=i.sibling;De=a,np=l,Es=d}rk(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,De=i):rk(t)}}function rk(t){for(;De!==null;){var e=De;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Es||Kx(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Es)if(r===null)s.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ja(e.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&VS(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}VS(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&af(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Es||e.flags&512&&k0(e)}catch(f){Ir(e,e.return,f)}}if(e===t){De=null;break}if(r=e.sibling,r!==null){r.return=e.return,De=r;break}De=e.return}}function sk(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var r=e.sibling;if(r!==null){r.return=e.return,De=r;break}De=e.return}}function nk(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kx(4,e)}catch(c){Ir(e,r,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var a=e.return;try{s.componentDidMount()}catch(c){Ir(e,a,c)}}var i=e.return;try{k0(e)}catch(c){Ir(e,i,c)}break;case 5:var o=e.return;try{k0(e)}catch(c){Ir(e,o,c)}}}catch(c){Ir(e,e.return,c)}if(e===t){De=null;break}var l=e.sibling;if(l!==null){l.return=e.return,De=l;break}De=e.return}}var u9=Math.ceil,Ag=Zi.ReactCurrentDispatcher,a1=Zi.ReactCurrentOwner,ca=Zi.ReactCurrentBatchConfig,Xt=0,cs=null,Qr=null,js=0,Nn=0,ud=fl(0),ns=0,xf=null,cc=0,Gx=0,i1=0,Uh=null,on=null,o1=0,au=1/0,wi=null,Rg=!1,P0=null,Ho=null,ap=!1,Lo=null,Og=0,qh=0,T0=null,qp=-1,Hp=0;function Qs(){return Xt&6?Br():qp!==-1?qp:qp=Br()}function Wo(t){return t.mode&1?Xt&2&&js!==0?js&-js:Gq.transition!==null?(Hp===0&&(Hp=V4()),Hp):(t=rr,t!==0||(t=window.event,t=t===void 0?16:K4(t.type)),t):1}function Ia(t,e,r,s){if(50<qh)throw qh=0,T0=null,Error(xe(185));sm(t,r,s),(!(Xt&2)||t!==cs)&&(t===cs&&(!(Xt&2)&&(Gx|=r),ns===4&&wo(t,js)),pn(t,s),r===1&&Xt===0&&!(e.mode&1)&&(au=Br()+500,qx&&ml()))}function pn(t,e){var r=t.callbackNode;GU(t,e);var s=gg(t,t===cs?js:0);if(s===0)r!==null&&fS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&fS(r),e===1)t.tag===0?Kq(ak.bind(null,t)):hO(ak.bind(null,t)),Uq(function(){!(Xt&6)&&ml()}),r=null;else{switch(B4(s)){case 1:r=Oj;break;case 4:r=$4;break;case 16:r=pg;break;case 536870912:r=F4;break;default:r=pg}r=dI(r,sI.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sI(t,e){if(qp=-1,Hp=0,Xt&6)throw Error(xe(327));var r=t.callbackNode;if(Sd()&&t.callbackNode!==r)return null;var s=gg(t,t===cs?js:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ig(t,s);else{e=s;var a=Xt;Xt|=2;var i=aI();(cs!==t||js!==e)&&(wi=null,au=Br()+500,tc(t,e));do try{m9();break}catch(l){nI(t,l)}while(!0);Wj(),Ag.current=i,Xt=a,Qr!==null?e=0:(cs=null,js=0,e=ns)}if(e!==0){if(e===2&&(a=s0(t),a!==0&&(s=a,e=A0(t,a))),e===1)throw r=xf,tc(t,0),wo(t,s),pn(t,Br()),r;if(e===6)wo(t,s);else{if(a=t.current.alternate,!(s&30)&&!h9(a)&&(e=Ig(t,s),e===2&&(i=s0(t),i!==0&&(s=i,e=A0(t,i))),e===1))throw r=xf,tc(t,0),wo(t,s),pn(t,Br()),r;switch(t.finishedWork=a,t.finishedLanes=s,e){case 0:case 1:throw Error(xe(345));case 2:Rl(t,on,wi);break;case 3:if(wo(t,s),(s&130023424)===s&&(e=o1+500-Br(),10<e)){if(gg(t,0)!==0)break;if(a=t.suspendedLanes,(a&s)!==s){Qs(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=u0(Rl.bind(null,t,on,wi),e);break}Rl(t,on,wi);break;case 4:if(wo(t,s),(s&4194240)===s)break;for(e=t.eventTimes,a=-1;0<s;){var o=31-Oa(s);i=1<<o,o=e[o],o>a&&(a=o),s&=~i}if(s=a,s=Br()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*u9(s/1960))-s,10<s){t.timeoutHandle=u0(Rl.bind(null,t,on,wi),s);break}Rl(t,on,wi);break;case 5:Rl(t,on,wi);break;default:throw Error(xe(329))}}}return pn(t,Br()),t.callbackNode===r?sI.bind(null,t):null}function A0(t,e){var r=Uh;return t.current.memoizedState.isDehydrated&&(tc(t,e).flags|=256),t=Ig(t,e),t!==2&&(e=on,on=r,e!==null&&R0(e)),t}function R0(t){on===null?on=t:on.push.apply(on,t)}function h9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!$a(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wo(t,e){for(e&=~i1,e&=~Gx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Oa(e),s=1<<r;t[r]=-1,e&=~s}}function ak(t){if(Xt&6)throw Error(xe(327));Sd();var e=gg(t,0);if(!(e&1))return pn(t,Br()),null;var r=Ig(t,e);if(t.tag!==0&&r===2){var s=s0(t);s!==0&&(e=s,r=A0(t,s))}if(r===1)throw r=xf,tc(t,0),wo(t,e),pn(t,Br()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t,on,wi),pn(t,Br()),null}function l1(t,e){var r=Xt;Xt|=1;try{return t(e)}finally{Xt=r,Xt===0&&(au=Br()+500,qx&&ml())}}function dc(t){Lo!==null&&Lo.tag===0&&!(Xt&6)&&Sd();var e=Xt;Xt|=1;var r=ca.transition,s=rr;try{if(ca.transition=null,rr=1,t)return t()}finally{rr=s,ca.transition=r,Xt=e,!(Xt&6)&&ml()}}function c1(){Nn=ud.current,mr(ud)}function tc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zq(r)),Qr!==null)for(r=Qr.return;r!==null;){var s=r;switch(Uj(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wg();break;case 3:su(),mr(fn),mr(Is),Yj();break;case 5:Jj(s);break;case 4:su();break;case 13:mr(Nr);break;case 19:mr(Nr);break;case 10:Kj(s.type._context);break;case 22:case 23:c1()}r=r.return}if(cs=t,Qr=t=Ko(t.current,null),js=Nn=e,ns=0,xf=null,i1=Gx=cc=0,on=Uh=null,zl!==null){for(e=0;e<zl.length;e++)if(r=zl[e],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}zl=null}return t}function nI(t,e){do{var r=Qr;try{if(Wj(),Bp.current=Tg,Pg){for(var s=Cr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Pg=!1}if(lc=0,is=ts=Cr=null,Bh=!1,mf=0,a1.current=null,r===null||r.return===null){ns=1,xf=e,Qr=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=js,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=WS(o);if(g!==null){g.flags&=-257,KS(g,o,l,i,e),g.mode&1&&HS(i,d,e),e=g,c=d;var b=e.updateQueue;if(b===null){var x=new Set;x.add(c),e.updateQueue=x}else b.add(c);break e}else{if(!(e&1)){HS(i,d,e),d1();break e}c=Error(xe(426))}}else if(xr&&l.mode&1){var j=WS(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),KS(j,o,l,i,e),qj(nu(c,l));break e}}i=c=nu(c,l),ns!==4&&(ns=2),Uh===null?Uh=[i]:Uh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=BO(i,c,e);FS(i,y);break e;case 1:l=c;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ho===null||!Ho.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=zO(i,l,e);FS(i,_);break e}}i=i.return}while(i!==null)}oI(r)}catch(k){e=k,Qr===r&&r!==null&&(Qr=r=r.return);continue}break}while(!0)}function aI(){var t=Ag.current;return Ag.current=Tg,t===null?Tg:t}function d1(){(ns===0||ns===3||ns===2)&&(ns=4),cs===null||!(cc&268435455)&&!(Gx&268435455)||wo(cs,js)}function Ig(t,e){var r=Xt;Xt|=2;var s=aI();(cs!==t||js!==e)&&(wi=null,tc(t,e));do try{f9();break}catch(a){nI(t,a)}while(!0);if(Wj(),Xt=r,Ag.current=s,Qr!==null)throw Error(xe(261));return cs=null,js=0,ns}function f9(){for(;Qr!==null;)iI(Qr)}function m9(){for(;Qr!==null&&!FU();)iI(Qr)}function iI(t){var e=cI(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?oI(t):Qr=e,a1.current=null}function oI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=o9(r,e),r!==null){r.flags&=32767,Qr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ns=6,Qr=null;return}}else if(r=i9(r,e,Nn),r!==null){Qr=r;return}if(e=e.sibling,e!==null){Qr=e;return}Qr=e=t}while(e!==null);ns===0&&(ns=5)}function Rl(t,e,r){var s=rr,a=ca.transition;try{ca.transition=null,rr=1,p9(t,e,r,s)}finally{ca.transition=a,rr=s}return null}function p9(t,e,r,s){do Sd();while(Lo!==null);if(Xt&6)throw Error(xe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(XU(t,i),t===cs&&(Qr=cs=null,js=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ap||(ap=!0,dI(pg,function(){return Sd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ca.transition,ca.transition=null;var o=rr;rr=1;var l=Xt;Xt|=4,a1.current=null,c9(t,r),tI(r,t),Dq(c0),xg=!!l0,c0=l0=null,t.current=r,d9(r),VU(),Xt=l,rr=o,ca.transition=i}else t.current=r;if(ap&&(ap=!1,Lo=t,Og=a),i=t.pendingLanes,i===0&&(Ho=null),UU(r.stateNode),pn(t,Br()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Rg)throw Rg=!1,t=P0,P0=null,t;return Og&1&&t.tag!==0&&Sd(),i=t.pendingLanes,i&1?t===T0?qh++:(qh=0,T0=t):qh=0,ml(),null}function Sd(){if(Lo!==null){var t=B4(Og),e=ca.transition,r=rr;try{if(ca.transition=null,rr=16>t?16:t,Lo===null)var s=!1;else{if(t=Lo,Lo=null,Og=0,Xt&6)throw Error(xe(331));var a=Xt;for(Xt|=4,De=t.current;De!==null;){var i=De,o=i.child;if(De.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(De=d;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:zh(8,u,i)}var h=u.child;if(h!==null)h.return=u,De=h;else for(;De!==null;){u=De;var f=u.sibling,g=u.return;if(YO(u),u===d){De=null;break}if(f!==null){f.return=g,De=f;break}De=g}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}De=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,De=o;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,De=y;break e}De=i.return}}var v=t.current;for(De=v;De!==null;){o=De;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,De=N;else e:for(o=v;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kx(9,l)}}catch(k){Ir(l,l.return,k)}if(l===o){De=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,De=_;break e}De=l.return}}if(Xt=a,ml(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(Fx,t)}catch{}s=!0}return s}finally{rr=r,ca.transition=e}}return!1}function ik(t,e,r){e=nu(r,e),e=BO(t,e,1),t=qo(t,e,1),e=Qs(),t!==null&&(sm(t,1,e),pn(t,e))}function Ir(t,e,r){if(t.tag===3)ik(t,t,r);else for(;e!==null;){if(e.tag===3){ik(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ho===null||!Ho.has(s))){t=nu(r,t),t=zO(e,t,1),e=qo(e,t,1),t=Qs(),e!==null&&(sm(e,1,t),pn(e,t));break}}e=e.return}}function g9(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=Qs(),t.pingedLanes|=t.suspendedLanes&r,cs===t&&(js&r)===r&&(ns===4||ns===3&&(js&130023424)===js&&500>Br()-o1?tc(t,0):i1|=r),pn(t,e)}function lI(t,e){e===0&&(t.mode&1?(e=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):e=1);var r=Qs();t=qi(t,e),t!==null&&(sm(t,e,r),pn(t,r))}function x9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lI(t,r)}function v9(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(xe(314))}s!==null&&s.delete(e),lI(t,r)}var cI;cI=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return hn=!1,a9(t,e,r);hn=!!(t.flags&131072)}else hn=!1,xr&&e.flags&1048576&&fO(e,_g,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Up(t,e),t=e.pendingProps;var a=eu(e,Is.current);_d(e,r),a=e1(null,e,s,t,a,r);var i=t1();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(s)?(i=!0,jg(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xj(e),a.updater=Wx,e.stateNode=a,a._reactInternals=e,v0(e,s,t,r),e=w0(null,e,s,!0,i,r)):(e.tag=0,xr&&i&&zj(e),Us(null,e,a,r),e=e.child),e;case 16:s=e.elementType;e:{switch(Up(t,e),t=e.pendingProps,a=s._init,s=a(s._payload),e.type=s,a=e.tag=b9(s),t=ja(s,t),a){case 0:e=b0(null,e,s,t,r);break e;case 1:e=QS(null,e,s,t,r);break e;case 11:e=GS(null,e,s,t,r);break e;case 14:e=XS(null,e,s,ja(s.type,t),r);break e}throw Error(xe(306,s,""))}return e;case 0:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ja(s,a),b0(t,e,s,a,r);case 1:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ja(s,a),QS(t,e,s,a,r);case 3:e:{if(WO(e),t===null)throw Error(xe(387));s=e.pendingProps,i=e.memoizedState,a=i.element,yO(t,e),Cg(e,s,null,r);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=nu(Error(xe(423)),e),e=JS(t,e,s,r,a);break e}else if(s!==a){a=nu(Error(xe(424)),e),e=JS(t,e,s,r,a);break e}else for(En=Uo(e.stateNode.containerInfo.firstChild),On=e,xr=!0,Ca=null,r=xO(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tu(),s===a){e=Hi(t,e,r);break e}Us(t,e,s,r)}e=e.child}return e;case 5:return bO(e),t===null&&p0(e),s=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,d0(s,a)?o=null:i!==null&&d0(s,i)&&(e.flags|=32),HO(t,e),Us(t,e,o,r),e.child;case 6:return t===null&&p0(e),null;case 13:return KO(t,e,r);case 4:return Qj(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ru(e,null,s,r):Us(t,e,s,r),e.child;case 11:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ja(s,a),GS(t,e,s,a,r);case 7:return Us(t,e,e.pendingProps,r),e.child;case 8:return Us(t,e,e.pendingProps.children,r),e.child;case 12:return Us(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,ur(Sg,s._currentValue),s._currentValue=o,i!==null)if($a(i.value,o)){if(i.children===a.children&&!fn.current){e=Hi(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ii(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),g0(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),g0(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Us(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,s=e.pendingProps.children,_d(e,r),a=ha(a),s=s(a),e.flags|=1,Us(t,e,s,r),e.child;case 14:return s=e.type,a=ja(s,e.pendingProps),a=ja(s.type,a),XS(t,e,s,a,r);case 15:return UO(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ja(s,a),Up(t,e),e.tag=1,mn(s)?(t=!0,jg(e)):t=!1,_d(e,r),VO(e,s,a),v0(e,s,a,r),w0(null,e,s,!0,t,r);case 19:return GO(t,e,r);case 22:return qO(t,e,r)}throw Error(xe(156,e.tag))};function dI(t,e){return L4(t,e)}function y9(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,r,s){return new y9(t,e,r,s)}function u1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b9(t){if(typeof t=="function")return u1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tj)return 11;if(t===Aj)return 14}return 2}function Ko(t,e){var r=t.alternate;return r===null?(r=ia(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wp(t,e,r,s,a,i){var o=2;if(s=t,typeof t=="function")u1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case td:return rc(r.children,a,i,e);case Pj:o=8,a|=8;break;case zb:return t=ia(12,r,e,a|2),t.elementType=zb,t.lanes=i,t;case Ub:return t=ia(13,r,e,a),t.elementType=Ub,t.lanes=i,t;case qb:return t=ia(19,r,e,a),t.elementType=qb,t.lanes=i,t;case b4:return Xx(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v4:o=10;break e;case y4:o=9;break e;case Tj:o=11;break e;case Aj:o=14;break e;case vo:o=16,s=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=ia(o,r,e,a),e.elementType=t,e.type=s,e.lanes=i,e}function rc(t,e,r,s){return t=ia(7,t,s,e),t.lanes=r,t}function Xx(t,e,r,s){return t=ia(22,t,s,e),t.elementType=b4,t.lanes=r,t.stateNode={isHidden:!1},t}function By(t,e,r){return t=ia(6,t,null,e),t.lanes=r,t}function zy(t,e,r){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w9(t,e,r,s,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jy(0),this.expirationTimes=jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jy(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function h1(t,e,r,s,a,i,o,l,c){return t=new w9(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ia(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xj(i),t}function j9(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function uI(t){if(!t)return el;t=t._reactInternals;e:{if(Nc(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(mn(r))return uO(t,r,e)}return e}function hI(t,e,r,s,a,i,o,l,c){return t=h1(r,s,!0,t,a,i,o,l,c),t.context=uI(null),r=t.current,s=Qs(),a=Wo(r),i=Ii(s,a),i.callback=e??null,qo(r,i,a),t.current.lanes=a,sm(t,a,s),pn(t,s),t}function Qx(t,e,r,s){var a=e.current,i=Qs(),o=Wo(a);return r=uI(r),e.context===null?e.context=r:e.pendingContext=r,e=Ii(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=qo(a,e,o),t!==null&&(Ia(t,a,o,i),Vp(t,a,o)),o}function Dg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ok(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function f1(t,e){ok(t,e),(t=t.alternate)&&ok(t,e)}function N9(){return null}var fI=typeof reportError=="function"?reportError:function(t){console.error(t)};function m1(t){this._internalRoot=t}Jx.prototype.render=m1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Qx(t,e,null,null)};Jx.prototype.unmount=m1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dc(function(){Qx(null,t,null,null)}),e[Ui]=null}};function Jx(t){this._internalRoot=t}Jx.prototype.unstable_scheduleHydration=function(t){if(t){var e=q4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bo.length&&e!==0&&e<bo[r].priority;r++);bo.splice(r,0,t),r===0&&W4(t)}};function p1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lk(){}function _9(t,e,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Dg(o);i.call(d)}}var o=hI(e,s,t,0,null,!1,!1,"",lk);return t._reactRootContainer=o,t[Ui]=o.current,cf(t.nodeType===8?t.parentNode:t),dc(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Dg(c);l.call(d)}}var c=h1(t,0,!1,null,null,!1,!1,"",lk);return t._reactRootContainer=c,t[Ui]=c.current,cf(t.nodeType===8?t.parentNode:t),dc(function(){Qx(e,c,r,s)}),c}function Zx(t,e,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Dg(o);l.call(c)}}Qx(e,o,t,a)}else o=_9(r,e,t,a,s);return Dg(o)}z4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kh(e.pendingLanes);r!==0&&(Ij(e,r|1),pn(e,Br()),!(Xt&6)&&(au=Br()+500,ml()))}break;case 13:dc(function(){var s=qi(t,1);if(s!==null){var a=Qs();Ia(s,t,1,a)}}),f1(t,1)}};Dj=function(t){if(t.tag===13){var e=qi(t,134217728);if(e!==null){var r=Qs();Ia(e,t,134217728,r)}f1(t,134217728)}};U4=function(t){if(t.tag===13){var e=Wo(t),r=qi(t,e);if(r!==null){var s=Qs();Ia(r,t,e,s)}f1(t,e)}};q4=function(){return rr};H4=function(t,e){var r=rr;try{return rr=t,e()}finally{rr=r}};e0=function(t,e,r){switch(e){case"input":if(Kb(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var a=Ux(s);if(!a)throw Error(xe(90));j4(s),Kb(s,a)}}}break;case"textarea":_4(t,r);break;case"select":e=r.value,e!=null&&bd(t,!!r.multiple,e,!1)}};A4=l1;R4=dc;var S9={usingClientEntryPoint:!1,Events:[am,ad,Ux,P4,T4,l1]},ph={findFiberByHostInstance:Bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k9={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D4(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||N9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{Fx=ip.inject(k9),ti=ip}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S9;$n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p1(e))throw Error(xe(200));return j9(t,e,null,r)};$n.createRoot=function(t,e){if(!p1(t))throw Error(xe(299));var r=!1,s="",a=fI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=h1(t,1,!1,null,null,r,!1,s,a),t[Ui]=e.current,cf(t.nodeType===8?t.parentNode:t),new m1(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=D4(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return dc(t)};$n.hydrate=function(t,e,r){if(!Yx(e))throw Error(xe(200));return Zx(null,t,e,!0,r)};$n.hydrateRoot=function(t,e,r){if(!p1(t))throw Error(xe(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=fI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=hI(e,null,t,1,r??null,a,!1,i,o),t[Ui]=e.current,cf(t),s)for(t=0;t<s.length;t++)r=s[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Jx(e)};$n.render=function(t,e,r){if(!Yx(e))throw Error(xe(200));return Zx(null,t,e,!1,r)};$n.unmountComponentAtNode=function(t){if(!Yx(t))throw Error(xe(40));return t._reactRootContainer?(dc(function(){Zx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};$n.unstable_batchedUpdates=l1;$n.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!Yx(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Zx(t,e,r,!1,s)};$n.version="18.3.1-next-f1338f8080-20240426";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(t){console.error(t)}}mI(),m4.exports=$n;var _c=m4.exports;const C9=Lx(_c);var pI,ck=_c;pI=ck.createRoot,ck.hydrateRoot;function E9(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,a,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var gI={exports:{}},xI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=m;function P9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var T9=typeof Object.is=="function"?Object.is:P9,A9=iu.useState,R9=iu.useEffect,O9=iu.useLayoutEffect,I9=iu.useDebugValue;function D9(t,e){var r=e(),s=A9({inst:{value:r,getSnapshot:e}}),a=s[0].inst,i=s[1];return O9(function(){a.value=r,a.getSnapshot=e,Uy(a)&&i({inst:a})},[t,r,e]),R9(function(){return Uy(a)&&i({inst:a}),t(function(){Uy(a)&&i({inst:a})})},[t]),I9(r),r}function Uy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!T9(t,r)}catch{return!0}}function M9(t,e){return e()}var L9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M9:D9;xI.useSyncExternalStore=iu.useSyncExternalStore!==void 0?iu.useSyncExternalStore:L9;gI.exports=xI;var $9=gI.exports;const F9=h4.useInsertionEffect,V9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B9=V9?m.useLayoutEffect:m.useEffect,z9=F9||B9,vI=t=>{const e=m.useRef([t,(...r)=>e[0](...r)]).current;return z9(()=>{e[0]=t}),e[1]},U9="popstate",g1="pushState",x1="replaceState",q9="hashchange",dk=[U9,g1,x1,q9],H9=t=>{for(const e of dk)addEventListener(e,t);return()=>{for(const e of dk)removeEventListener(e,t)}},yI=(t,e)=>$9.useSyncExternalStore(H9,t,e),W9=()=>location.search,K9=({ssrSearch:t=""}={})=>yI(W9,()=>t),uk=()=>location.pathname,G9=({ssrPath:t}={})=>yI(uk,t?()=>t:uk),X9=(t,{replace:e=!1,state:r=null}={})=>history[e?x1:g1](r,"",t),Q9=(t={})=>[G9(t),X9],hk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hk]>"u"){for(const t of[g1,x1]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,hk,{value:!0})}const J9=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",bI=(t="")=>t==="/"?"":t,Y9=(t,e)=>t[0]==="~"?t.slice(1):bI(e)+t,Z9=(t="",e)=>J9(O0(bI(t)),O0(e)),e7=t=>t[0]==="?"?t.slice(1):t,O0=t=>{try{return decodeURI(t)}catch{return t}},t7=t=>O0(e7(t)),wI={hook:Q9,searchHook:K9,parser:E9,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},jI=m.createContext(wI),Ou=()=>m.useContext(jI),NI={},_I=m.createContext(NI),r7=()=>m.useContext(_I),ev=t=>{const[e,r]=t.hook(t);return[Z9(t.base,e),vI((s,a)=>r(Y9(s,t.base),a))]},eo=()=>ev(Ou()),s7=()=>{const t=Ou();return t7(t.searchHook(t))},SI=(t,e,r,s)=>{const{pattern:a,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},n7=({children:t,...e})=>{var u,h;const r=Ou(),s=e.hook?wI:r;let a=s;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=m.useRef({}),c=l.current,d=c;for(let f in s){const g=f==="base"?s[f]+(e[f]||""):e[f]||s[f];c===d&&g!==d[f]&&(l.current=d={...d}),d[f]=g,g!==s[f]&&(a=d)}return m.createElement(jI.Provider,{value:a,children:t})},fk=({children:t,component:e},r)=>e?m.createElement(e,{params:r}):typeof t=="function"?t(r):t,a7=t=>{let e=m.useRef(NI),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},gt=({path:t,nest:e,match:r,...s})=>{const a=Ou(),[i]=ev(a),[o,l,c]=r??SI(a.parser,t,i,e),d=a7({...r7(),...l});if(!o)return null;const u=c?m.createElement(n7,{base:c},fk(s,d)):fk(s,d);return m.createElement(_I.Provider,{value:d,children:u})},Te=m.forwardRef((t,e)=>{const r=Ou(),[s,a]=ev(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...g}=t,b=vI(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(l==null||l(j),j.defaultPrevented||(j.preventDefault(),a(o,t)))}),x=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:b,href:x}):m.createElement("a",{...g,onClick:b,href:x,className:u!=null&&u.call?u(s===o):u,children:d,ref:e})}),kI=t=>Array.isArray(t)?t.flatMap(e=>kI(e&&e.type===m.Fragment?e.props.children:e)):[t],i7=({children:t,location:e})=>{const r=Ou(),[s]=ev(r);for(const a of kI(t)){let i=0;if(m.isValidElement(a)&&(i=SI(r.parser,a.props.path,e||s,a.props.nest))[0])return m.cloneElement(a,{match:i})}return null};var Iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uc=typeof window>"u"||"Deno"in globalThis;function Yn(){}function o7(t,e){return typeof t=="function"?t(e):t}function I0(t){return typeof t=="number"&&t>=0&&t!==1/0}function CI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kd(t,e){return typeof t=="function"?t(e):t}function Ea(t,e){return typeof t=="function"?t(e):t}function mk(t,e){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==v1(o,e.options))return!1}else if(!vf(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function pk(t,e){const{exact:r,status:s,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(hc(e.options.mutationKey)!==hc(i))return!1}else if(!vf(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function v1(t,e){return((e==null?void 0:e.queryKeyHashFn)||hc)(t)}function hc(t){return JSON.stringify(t,(e,r)=>D0(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function vf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!vf(t[r],e[r])):!1}function EI(t,e){if(t===e)return t;const r=gk(t)&&gk(e);if(r||D0(t)&&D0(e)){const s=r?t:Object.keys(t),a=s.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=EI(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return a===o&&c===a?t:l}return e}function Mg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function gk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function D0(t){if(!xk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!xk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xk(t){return Object.prototype.toString.call(t)==="[object Object]"}function l7(t){return new Promise(e=>{setTimeout(e,t)})}function M0(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?EI(t,e):e}function c7(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function d7(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var y1=Symbol();function PI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===y1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gl,Co,Vd,rP,u7=(rP=class extends Iu{constructor(){super();Ye(this,Gl);Ye(this,Co);Ye(this,Vd);Oe(this,Vd,e=>{if(!uc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,Co)||this.setEventListener(U(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Co))==null||e.call(this),Oe(this,Co,void 0))}setEventListener(e){var r;Oe(this,Vd,e),(r=U(this,Co))==null||r.call(this),Oe(this,Co,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){U(this,Gl)!==e&&(Oe(this,Gl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof U(this,Gl)=="boolean"?U(this,Gl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gl=new WeakMap,Co=new WeakMap,Vd=new WeakMap,rP),b1=new u7,Bd,Eo,zd,sP,h7=(sP=class extends Iu{constructor(){super();Ye(this,Bd,!0);Ye(this,Eo);Ye(this,zd);Oe(this,zd,e=>{if(!uc&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){U(this,Eo)||this.setEventListener(U(this,zd))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Eo))==null||e.call(this),Oe(this,Eo,void 0))}setEventListener(e){var r;Oe(this,zd,e),(r=U(this,Eo))==null||r.call(this),Oe(this,Eo,e(this.setOnline.bind(this)))}setOnline(e){U(this,Bd)!==e&&(Oe(this,Bd,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return U(this,Bd)}},Bd=new WeakMap,Eo=new WeakMap,zd=new WeakMap,sP),Lg=new h7;function L0(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},r.reject=a=>{s({status:"rejected",reason:a}),e(a)},r}function f7(t){return Math.min(1e3*2**t,3e4)}function TI(t){return(t??"online")==="online"?Lg.isOnline():!0}var AI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qy(t){return t instanceof AI}function RI(t){let e=!1,r=0,s=!1,a;const i=L0(),o=x=>{var j;s||(f(new AI(x)),(j=t.abort)==null||j.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>b1.isFocused()&&(t.networkMode==="always"||Lg.isOnline())&&t.canRun(),u=()=>TI(t.networkMode)&&t.canRun(),h=x=>{var j;s||(s=!0,(j=t.onSuccess)==null||j.call(t,x),a==null||a(),i.resolve(x))},f=x=>{var j;s||(s=!0,(j=t.onError)==null||j.call(t,x),a==null||a(),i.reject(x))},g=()=>new Promise(x=>{var j;a=y=>{(s||d())&&x(y)},(j=t.onPause)==null||j.call(t)}).then(()=>{var x;a=void 0,s||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(s)return;let x;const j=r===0?t.initialPromise:void 0;try{x=j??t.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var P;if(s)return;const v=t.retry??(uc?0:3),N=t.retryDelay??f7,_=typeof N=="function"?N(r,y):N,k=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!k){f(y);return}r++,(P=t.onFail)==null||P.call(t,r,y),l7(_).then(()=>d()?void 0:g()).then(()=>{e?f(y):b()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():g().then(b),i)}}function m7(){let t=[],e=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var rs=m7(),Xl,nP,OI=(nP=class{constructor(){Ye(this,Xl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I0(this.gcTime)&&Oe(this,Xl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uc?1/0:5*60*1e3))}clearGcTimeout(){U(this,Xl)&&(clearTimeout(U(this,Xl)),Oe(this,Xl,void 0))}},Xl=new WeakMap,nP),Ud,qd,Jn,ks,Yf,Ql,_a,yi,aP,p7=(aP=class extends OI{constructor(e){super();Ye(this,_a);Ye(this,Ud);Ye(this,qd);Ye(this,Jn);Ye(this,ks);Ye(this,Yf);Ye(this,Ql);Oe(this,Ql,!1),Oe(this,Yf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Oe(this,Jn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Oe(this,Ud,g7(this.options)),this.state=e.state??U(this,Ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,ks))==null?void 0:e.promise}setOptions(e){this.options={...U(this,Yf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Jn).remove(this)}setData(e,r){const s=M0(this.state.data,e,this.options);return At(this,_a,yi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){At(this,_a,yi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,a;const r=(s=U(this,ks))==null?void 0:s.promise;return(a=U(this,ks))==null||a.cancel(e),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ud))}isActive(){return this.observers.some(e=>Ea(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===y1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!CI(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,ks))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,ks))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Jn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(U(this,ks)&&(U(this,Ql)?U(this,ks).cancel({revert:!0}):U(this,ks).cancelRetry()),this.scheduleGc()),U(this,Jn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,_a,yi).call(this,{type:"invalidate"})}fetch(e,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,ks))return U(this,ks).continueRetry(),U(this,ks).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Oe(this,Ql,!0),s.signal)})},i=()=>{const h=PI(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),Oe(this,Ql,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Oe(this,qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&At(this,_a,yi).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,g,b,x;qy(h)&&h.silent||At(this,_a,yi).call(this,{type:"error",error:h}),qy(h)||((g=(f=U(this,Jn).config).onError)==null||g.call(f,h,this),(x=(b=U(this,Jn).config).onSettled)==null||x.call(b,this.state.data,h,this)),this.scheduleGc()};return Oe(this,ks,RI({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,g,b,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(j){l(j);return}(g=(f=U(this,Jn).config).onSuccess)==null||g.call(f,h,this),(x=(b=U(this,Jn).config).onSettled)==null||x.call(b,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{At(this,_a,yi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{At(this,_a,yi).call(this,{type:"pause"})},onContinue:()=>{At(this,_a,yi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,ks).start()}},Ud=new WeakMap,qd=new WeakMap,Jn=new WeakMap,ks=new WeakMap,Yf=new WeakMap,Ql=new WeakMap,_a=new WeakSet,yi=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...II(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return qy(a)&&a.revert&&U(this,qd)?{...U(this,qd),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),rs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Jn).notify({query:this,type:"updated",action:e})})},aP);function II(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function g7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ka,iP,x7=(iP=class extends Iu{constructor(e={}){super();Ye(this,Ka);this.config=e,Oe(this,Ka,new Map)}build(e,r,s){const a=r.queryKey,i=r.queryHash??v1(a,r);let o=this.get(i);return o||(o=new p7({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){U(this,Ka).has(e.queryHash)||(U(this,Ka).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=U(this,Ka).get(e.queryHash);r&&(e.destroy(),r===e&&U(this,Ka).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ka).get(e)}getAll(){return[...U(this,Ka).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>mk(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>mk(e,s)):r}notify(e){rs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){rs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ka=new WeakMap,iP),Ga,Vs,Jl,Xa,po,oP,v7=(oP=class extends OI{constructor(e){super();Ye(this,Xa);Ye(this,Ga);Ye(this,Vs);Ye(this,Jl);this.mutationId=e.mutationId,Oe(this,Vs,e.mutationCache),Oe(this,Ga,[]),this.state=e.state||DI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,Ga).includes(e)||(U(this,Ga).push(e),this.clearGcTimeout(),U(this,Vs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Oe(this,Ga,U(this,Ga).filter(r=>r!==e)),this.scheduleGc(),U(this,Vs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,Ga).length||(this.state.status==="pending"?this.scheduleGc():U(this,Vs).remove(this))}continue(){var e;return((e=U(this,Jl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,i,o,l,c,d,u,h,f,g,b,x,j,y,v,N,_,k,P,C;Oe(this,Jl,RI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,M)=>{At(this,Xa,po).call(this,{type:"failed",failureCount:T,error:M})},onPause:()=>{At(this,Xa,po).call(this,{type:"pause"})},onContinue:()=>{At(this,Xa,po).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Vs).canRun(this)}));const r=this.state.status==="pending",s=!U(this,Jl).canStart();try{if(!r){At(this,Xa,po).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(a=U(this,Vs).config).onMutate)==null?void 0:i.call(a,e,this));const M=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));M!==this.state.context&&At(this,Xa,po).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const T=await U(this,Jl).start();return await((d=(c=U(this,Vs).config).onSuccess)==null?void 0:d.call(c,T,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,T,e,this.state.context)),await((g=(f=U(this,Vs).config).onSettled)==null?void 0:g.call(f,T,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,T,null,e,this.state.context)),At(this,Xa,po).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(j=U(this,Vs).config).onError)==null?void 0:y.call(j,T,e,this.state.context,this)),await((N=(v=this.options).onError)==null?void 0:N.call(v,T,e,this.state.context)),await((k=(_=U(this,Vs).config).onSettled)==null?void 0:k.call(_,void 0,T,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,T,e,this.state.context)),T}finally{At(this,Xa,po).call(this,{type:"error",error:T})}}finally{U(this,Vs).runNext(this)}}},Ga=new WeakMap,Vs=new WeakMap,Jl=new WeakMap,Xa=new WeakSet,po=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rs.batch(()=>{U(this,Ga).forEach(s=>{s.onMutationUpdate(e)}),U(this,Vs).notify({mutation:this,type:"updated",action:e})})},oP);function DI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Zf,lP,y7=(lP=class extends Iu{constructor(e={}){super();Ye(this,jn);Ye(this,Zf);this.config=e,Oe(this,jn,new Map),Oe(this,Zf,Date.now())}build(e,r,s){const a=new v7({mutationCache:this,mutationId:++Um(this,Zf)._,options:e.defaultMutationOptions(r),state:s});return this.add(a),a}add(e){const r=op(e),s=U(this,jn).get(r)??[];s.push(e),U(this,jn).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=op(e);if(U(this,jn).has(r)){const a=(s=U(this,jn).get(r))==null?void 0:s.filter(i=>i!==e);a&&(a.length===0?U(this,jn).delete(r):U(this,jn).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=U(this,jn).get(op(e)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=U(this,jn).get(op(e)))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,jn).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>pk(r,s))}findAll(e={}){return this.getAll().filter(r=>pk(e,r))}notify(e){rs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return rs.batch(()=>Promise.all(e.map(r=>r.continue().catch(Yn))))}},jn=new WeakMap,Zf=new WeakMap,lP);function op(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function vk(t){return{onFetch:(e,r)=>{var u,h,f,g,b;const s=e.options,a=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const j=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=PI(e.options,e.fetchOptions),v=async(N,_,k)=>{if(x)return Promise.reject();if(_==null&&N.pages.length)return Promise.resolve(N);const P={queryKey:e.queryKey,pageParam:_,direction:k?"backward":"forward",meta:e.options.meta};j(P);const C=await y(P),{maxPages:T}=e.options,M=k?d7:c7;return{pages:M(N.pages,C,T),pageParams:M(N.pageParams,_,T)}};if(a&&i.length){const N=a==="backward",_=N?b7:yk,k={pages:i,pageParams:o},P=_(s,k);l=await v(k,P,N)}else{const N=t??i.length;do{const _=c===0?o[0]??s.initialPageParam:yk(s,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var x,j;return(j=(x=e.options).persister)==null?void 0:j.call(x,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function yk(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function b7(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Rr,Po,To,Hd,Wd,Ao,Kd,Gd,cP,w7=(cP=class{constructor(t={}){Ye(this,Rr);Ye(this,Po);Ye(this,To);Ye(this,Hd);Ye(this,Wd);Ye(this,Ao);Ye(this,Kd);Ye(this,Gd);Oe(this,Rr,t.queryCache||new x7),Oe(this,Po,t.mutationCache||new y7),Oe(this,To,t.defaultOptions||{}),Oe(this,Hd,new Map),Oe(this,Wd,new Map),Oe(this,Ao,0)}mount(){Um(this,Ao)._++,U(this,Ao)===1&&(Oe(this,Kd,b1.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Rr).onFocus())})),Oe(this,Gd,Lg.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Rr).onOnline())})))}unmount(){var t,e;Um(this,Ao)._--,U(this,Ao)===0&&((t=U(this,Kd))==null||t.call(this),Oe(this,Kd,void 0),(e=U(this,Gd))==null||e.call(this),Oe(this,Gd,void 0))}isFetching(t){return U(this,Rr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Po).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,Rr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=U(this,Rr).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(kd(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return U(this,Rr).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),a=U(this,Rr).get(s.queryHash),i=a==null?void 0:a.state.data,o=o7(e,i);if(o!==void 0)return U(this,Rr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return rs.batch(()=>U(this,Rr).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,Rr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=U(this,Rr);rs.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=U(this,Rr),s={type:"active",...t};return rs.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=rs.batch(()=>U(this,Rr).findAll(t).map(a=>a.cancel(r)));return Promise.all(s).then(Yn).catch(Yn)}invalidateQueries(t={},e={}){return rs.batch(()=>{if(U(this,Rr).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=rs.batch(()=>U(this,Rr).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Yn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=U(this,Rr).build(this,e);return r.isStaleByTime(kd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=vk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=vk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lg.isOnline()?U(this,Po).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Rr)}getMutationCache(){return U(this,Po)}getDefaultOptions(){return U(this,To)}setDefaultOptions(t){Oe(this,To,t)}setQueryDefaults(t,e){U(this,Hd).set(hc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Hd).values()];let r={};return e.forEach(s=>{vf(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){U(this,Wd).set(hc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Wd).values()];let r={};return e.forEach(s=>{vf(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,To).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=v1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===y1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,To).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Rr).clear(),U(this,Po).clear()}},Rr=new WeakMap,Po=new WeakMap,To=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,Ao=new WeakMap,Kd=new WeakMap,Gd=new WeakMap,cP),nn,zt,em,Bs,Yl,Xd,Ro,Qa,tm,Qd,Jd,Zl,ec,Oo,Yd,er,Eh,$0,F0,V0,B0,z0,U0,q0,MI,dP,j7=(dP=class extends Iu{constructor(e,r){super();Ye(this,er);Ye(this,nn);Ye(this,zt);Ye(this,em);Ye(this,Bs);Ye(this,Yl);Ye(this,Xd);Ye(this,Ro);Ye(this,Qa);Ye(this,tm);Ye(this,Qd);Ye(this,Jd);Ye(this,Zl);Ye(this,ec);Ye(this,Oo);Ye(this,Yd,new Set);this.options=r,Oe(this,nn,e),Oe(this,Qa,null),Oe(this,Ro,L0()),this.options.experimental_prefetchInRender||U(this,Ro).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,zt).addObserver(this),bk(U(this,zt),this.options)?At(this,er,Eh).call(this):this.updateResult(),At(this,er,B0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H0(U(this,zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H0(U(this,zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,At(this,er,z0).call(this),At(this,er,U0).call(this),U(this,zt).removeObserver(this)}setOptions(e,r){const s=this.options,a=U(this,zt);if(this.options=U(this,nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ea(this.options.enabled,U(this,zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");At(this,er,q0).call(this),U(this,zt).setOptions(this.options),s._defaulted&&!Mg(this.options,s)&&U(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,zt),observer:this});const i=this.hasListeners();i&&wk(U(this,zt),a,this.options,s)&&At(this,er,Eh).call(this),this.updateResult(r),i&&(U(this,zt)!==a||Ea(this.options.enabled,U(this,zt))!==Ea(s.enabled,U(this,zt))||kd(this.options.staleTime,U(this,zt))!==kd(s.staleTime,U(this,zt)))&&At(this,er,$0).call(this);const o=At(this,er,F0).call(this);i&&(U(this,zt)!==a||Ea(this.options.enabled,U(this,zt))!==Ea(s.enabled,U(this,zt))||o!==U(this,Oo))&&At(this,er,V0).call(this,o)}getOptimisticResult(e){const r=U(this,nn).getQueryCache().build(U(this,nn),e),s=this.createResult(r,e);return _7(this,s)&&(Oe(this,Bs,s),Oe(this,Xd,this.options),Oe(this,Yl,U(this,zt).state)),s}getCurrentResult(){return U(this,Bs)}trackResult(e,r){const s={};return Object.keys(e).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),s}trackProp(e){U(this,Yd).add(e)}getCurrentQuery(){return U(this,zt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=U(this,nn).defaultQueryOptions(e),s=U(this,nn).getQueryCache().build(U(this,nn),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return At(this,er,Eh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Bs)))}createResult(e,r){var T;const s=U(this,zt),a=this.options,i=U(this,Bs),o=U(this,Yl),l=U(this,Xd),d=e!==s?e.state:U(this,em),{state:u}=e;let h={...u},f=!1,g;if(r._optimisticResults){const M=this.hasListeners(),A=!M&&bk(e,r),W=M&&wk(e,s,r,a);(A||W)&&(h={...h,...II(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:j}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&r.select===U(this,tm))g=U(this,Qd);else try{Oe(this,tm,r.select),g=r.select(h.data),g=M0(i==null?void 0:i.data,g,r),Oe(this,Qd,g),Oe(this,Qa,null)}catch(M){Oe(this,Qa,M)}else g=h.data;if(r.placeholderData!==void 0&&g===void 0&&j==="pending"){let M;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))M=i.data;else if(M=typeof r.placeholderData=="function"?r.placeholderData((T=U(this,Jd))==null?void 0:T.state.data,U(this,Jd)):r.placeholderData,r.select&&M!==void 0)try{M=r.select(M),Oe(this,Qa,null)}catch(A){Oe(this,Qa,A)}M!==void 0&&(j="success",g=M0(i==null?void 0:i.data,M,r),f=!0)}U(this,Qa)&&(b=U(this,Qa),g=U(this,Qd),x=Date.now(),j="error");const y=h.fetchStatus==="fetching",v=j==="pending",N=j==="error",_=v&&y,k=g!==void 0,C={status:j,fetchStatus:h.fetchStatus,isPending:v,isSuccess:j==="success",isError:N,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:N&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&k,isStale:w1(e,r),refetch:this.refetch,promise:U(this,Ro)};if(this.options.experimental_prefetchInRender){const M=B=>{C.status==="error"?B.reject(C.error):C.data!==void 0&&B.resolve(C.data)},A=()=>{const B=Oe(this,Ro,C.promise=L0());M(B)},W=U(this,Ro);switch(W.status){case"pending":e.queryHash===s.queryHash&&M(W);break;case"fulfilled":(C.status==="error"||C.data!==W.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==W.reason)&&A();break}}return C}updateResult(e){const r=U(this,Bs),s=this.createResult(U(this,zt),this.options);if(Oe(this,Yl,U(this,zt).state),Oe(this,Xd,this.options),U(this,Yl).data!==void 0&&Oe(this,Jd,U(this,zt)),Mg(s,r))return;Oe(this,Bs,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,Yd).size)return!0;const c=new Set(l??U(this,Yd));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Bs)).some(d=>{const u=d;return U(this,Bs)[u]!==r[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(a.listeners=!0),At(this,er,MI).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&At(this,er,B0).call(this)}},nn=new WeakMap,zt=new WeakMap,em=new WeakMap,Bs=new WeakMap,Yl=new WeakMap,Xd=new WeakMap,Ro=new WeakMap,Qa=new WeakMap,tm=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Oo=new WeakMap,Yd=new WeakMap,er=new WeakSet,Eh=function(e){At(this,er,q0).call(this);let r=U(this,zt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Yn)),r},$0=function(){At(this,er,z0).call(this);const e=kd(this.options.staleTime,U(this,zt));if(uc||U(this,Bs).isStale||!I0(e))return;const s=CI(U(this,Bs).dataUpdatedAt,e)+1;Oe(this,Zl,setTimeout(()=>{U(this,Bs).isStale||this.updateResult()},s))},F0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,zt)):this.options.refetchInterval)??!1},V0=function(e){At(this,er,U0).call(this),Oe(this,Oo,e),!(uc||Ea(this.options.enabled,U(this,zt))===!1||!I0(U(this,Oo))||U(this,Oo)===0)&&Oe(this,ec,setInterval(()=>{(this.options.refetchIntervalInBackground||b1.isFocused())&&At(this,er,Eh).call(this)},U(this,Oo)))},B0=function(){At(this,er,$0).call(this),At(this,er,V0).call(this,At(this,er,F0).call(this))},z0=function(){U(this,Zl)&&(clearTimeout(U(this,Zl)),Oe(this,Zl,void 0))},U0=function(){U(this,ec)&&(clearInterval(U(this,ec)),Oe(this,ec,void 0))},q0=function(){const e=U(this,nn).getQueryCache().build(U(this,nn),this.options);if(e===U(this,zt))return;const r=U(this,zt);Oe(this,zt,e),Oe(this,em,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MI=function(e){rs.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(U(this,Bs))}),U(this,nn).getQueryCache().notify({query:U(this,zt),type:"observerResultsUpdated"})})},dP);function N7(t,e){return Ea(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bk(t,e){return N7(t,e)||t.state.data!==void 0&&H0(t,e,e.refetchOnMount)}function H0(t,e,r){if(Ea(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&w1(t,e)}return!1}function wk(t,e,r,s){return(t!==e||Ea(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&w1(t,r)}function w1(t,e){return Ea(e.enabled,t)!==!1&&t.isStaleByTime(kd(e.staleTime,t))}function _7(t,e){return!Mg(t.getCurrentResult(),e)}var Io,Do,an,Si,Bi,Kp,W0,uP,S7=(uP=class extends Iu{constructor(r,s){super();Ye(this,Bi);Ye(this,Io);Ye(this,Do);Ye(this,an);Ye(this,Si);Oe(this,Io,r),this.setOptions(s),this.bindMethods(),At(this,Bi,Kp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=U(this,Io).defaultMutationOptions(r),Mg(this.options,s)||U(this,Io).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,an),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&hc(s.mutationKey)!==hc(this.options.mutationKey)?this.reset():((a=U(this,an))==null?void 0:a.state.status)==="pending"&&U(this,an).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,an))==null||r.removeObserver(this)}onMutationUpdate(r){At(this,Bi,Kp).call(this),At(this,Bi,W0).call(this,r)}getCurrentResult(){return U(this,Do)}reset(){var r;(r=U(this,an))==null||r.removeObserver(this),Oe(this,an,void 0),At(this,Bi,Kp).call(this),At(this,Bi,W0).call(this)}mutate(r,s){var a;return Oe(this,Si,s),(a=U(this,an))==null||a.removeObserver(this),Oe(this,an,U(this,Io).getMutationCache().build(U(this,Io),this.options)),U(this,an).addObserver(this),U(this,an).execute(r)}},Io=new WeakMap,Do=new WeakMap,an=new WeakMap,Si=new WeakMap,Bi=new WeakSet,Kp=function(){var s;const r=((s=U(this,an))==null?void 0:s.state)??DI();Oe(this,Do,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},W0=function(r){rs.batch(()=>{var s,a,i,o,l,c,d,u;if(U(this,Si)&&this.hasListeners()){const h=U(this,Do).variables,f=U(this,Do).context;(r==null?void 0:r.type)==="success"?((a=(s=U(this,Si)).onSuccess)==null||a.call(s,r.data,h,f),(o=(i=U(this,Si)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=U(this,Si)).onError)==null||c.call(l,r.error,h,f),(u=(d=U(this,Si)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(U(this,Do))})})},uP),LI=m.createContext(void 0),tv=t=>{const e=m.useContext(LI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},k7=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(LI.Provider,{value:t,children:e})),$I=m.createContext(!1),C7=()=>m.useContext($I);$I.Provider;function E7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var P7=m.createContext(E7()),T7=()=>m.useContext(P7);function FI(t,e){return typeof t=="function"?t(...e):!!t}function K0(){}var A7=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},R7=t=>{m.useEffect(()=>{t.clearReset()},[t])},O7=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&FI(r,[t.error,s]),I7=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},D7=(t,e)=>t.isLoading&&t.isFetching&&!e,M7=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,jk=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function L7(t,e,r){var u,h,f,g,b;const s=tv(),a=C7(),i=T7(),o=s.defaultQueryOptions(t);(h=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",I7(o),A7(o,i),R7(i);const l=!s.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new e(s,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(x=>{const j=a?K0:c.subscribe(rs.batchCalls(x));return c.updateResult(),j},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),M7(o,d))throw jk(o,c,i);if(O7({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((g=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!uc&&D7(d,a)){const x=l?jk(o,c,i):(b=s.getQueryCache().get(o.queryHash))==null?void 0:b.promise;x==null||x.catch(K0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Et(t,e){return L7(t,j7)}function it(t,e){const r=tv(),[s]=m.useState(()=>new S7(r,t));m.useEffect(()=>{s.setOptions(t)},[s,t]);const a=m.useSyncExternalStore(m.useCallback(o=>s.subscribe(rs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=m.useCallback((o,l)=>{s.mutate(o,l).catch(K0)},[s]);if(a.error&&FI(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var j1={},$g={},G0=function(t,e){return G0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},G0(t,e)};function VI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");G0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ra=function(){return ra=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ra.apply(this,arguments)};function pl(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r}function BI(t,e,r,s){var a=arguments.length,i=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function zI(t,e){return function(r,s){e(r,s,t)}}function UI(t,e,r,s,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=s.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?s.static?t:t.prototype:null,u=e||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),h,f=!1,g=r.length-1;g>=0;g--){var b={};for(var x in s)b[x]=x==="access"?{}:s[x];for(var x in s.access)b.access[x]=s.access[x];b.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var j=(0,r[g])(l==="accessor"?{get:u.get,set:u.set}:u[c],b);if(l==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(h=o(j.get))&&(u.get=h),(h=o(j.set))&&(u.set=h),(h=o(j.init))&&a.unshift(h)}else(h=o(j))&&(l==="field"?a.unshift(h):u[c]=h)}d&&Object.defineProperty(d,s.name,u),f=!0}function qI(t,e,r){for(var s=arguments.length>2,a=0;a<e.length;a++)r=s?e[a].call(t,r):e[a].call(t);return s?r:void 0}function HI(t){return typeof t=="symbol"?t:"".concat(t)}function WI(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function KI(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})}function GI(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var rv=Object.create?function(t,e,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,a)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};function XI(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rv(e,t,r)}function Fg(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function QI(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N1(arguments[e]));return t}function JI(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,a++)s[a]=i[o];return s}function _1(t,e,r){if(r||arguments.length===2)for(var s=0,a=e.length,i;s<a;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function ou(t){return this instanceof ou?(this.v=t,this):new ou(t)}function YI(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(g){return function(b){return Promise.resolve(b).then(g,h)}}function l(g,b){s[g]&&(a[g]=function(x){return new Promise(function(j,y){i.push([g,x,j,y])>1||c(g,x)})},b&&(a[g]=b(a[g])))}function c(g,b){try{d(s[g](b))}catch(x){f(i[0][3],x)}}function d(g){g.value instanceof ou?Promise.resolve(g.value.v).then(u,h):f(i[0][2],g)}function u(g){c("next",g)}function h(g){c("throw",g)}function f(g,b){g(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ZI(t){var e,r;return e={},s("next"),s("throw",function(a){throw a}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(a,i){e[a]=t[a]?function(o){return(r=!r)?{value:ou(t[a](o)),done:!1}:i?i(o):o}:i}}function e5(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fg=="function"?Fg(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},o)}}function t5(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var $7=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},X0=function(t){return X0=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},X0(t)};function r5(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=X0(t),s=0;s<r.length;s++)r[s]!=="default"&&rv(e,t,r[s]);return $7(e,t),e}function s5(t){return t&&t.__esModule?t:{default:t}}function n5(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function a5(t,e,r,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function i5(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function o5(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var F7=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function l5(t){function e(i){t.error=t.hasError?new F7(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(a,function(o){return e(o),a()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function c5(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,a,i,o){return s?e?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):t}const V7={__extends:VI,__assign:ra,__rest:pl,__decorate:BI,__param:zI,__esDecorate:UI,__runInitializers:qI,__propKey:HI,__setFunctionName:WI,__metadata:KI,__awaiter:Me,__generator:GI,__createBinding:rv,__exportStar:XI,__values:Fg,__read:N1,__spread:QI,__spreadArrays:JI,__spreadArray:_1,__await:ou,__asyncGenerator:YI,__asyncDelegator:ZI,__asyncValues:e5,__makeTemplateObject:t5,__importStar:r5,__importDefault:s5,__classPrivateFieldGet:n5,__classPrivateFieldSet:a5,__classPrivateFieldIn:i5,__addDisposableResource:o5,__disposeResources:l5,__rewriteRelativeImportExtension:c5},B7=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:o5,get __assign(){return ra},__asyncDelegator:ZI,__asyncGenerator:YI,__asyncValues:e5,__await:ou,__awaiter:Me,__classPrivateFieldGet:n5,__classPrivateFieldIn:i5,__classPrivateFieldSet:a5,__createBinding:rv,__decorate:BI,__disposeResources:l5,__esDecorate:UI,__exportStar:XI,__extends:VI,__generator:GI,__importDefault:s5,__importStar:r5,__makeTemplateObject:t5,__metadata:KI,__param:zI,__propKey:HI,__read:N1,__rest:pl,__rewriteRelativeImportExtension:c5,__runInitializers:qI,__setFunctionName:WI,__spread:QI,__spreadArray:_1,__spreadArrays:JI,__values:Fg,default:V7},Symbol.toStringTag,{value:"Module"})),z7=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let sv=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},d5=class extends sv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Q0=class extends sv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},J0=class extends sv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Vg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vg||(Vg={}));class U7{constructor(e,{headers:r={},customFetch:s,region:a=Vg.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=z7(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(r,s={}){var a;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=s;let f={},{region:g}=s;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(f["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(f["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(f["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;let j=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(j=o.signal,u.addEventListener("abort",()=>o.abort())):j=o.signal);const y=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:x,signal:j}).catch(k=>{throw new d5(k)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new Q0(y);if(!y.ok)throw new J0(y);let N=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return N==="application/json"?_=yield y.json():N==="application/octet-stream"||N==="application/pdf"?_=yield y.blob():N==="text/event-stream"?_=y:N==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof J0||l instanceof Q0?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const q7=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Vg},FunctionsClient:U7,FunctionsError:sv,FunctionsFetchError:d5,FunctionsHttpError:J0,FunctionsRelayError:Q0},Symbol.toStringTag,{value:"Module"})),u5=Pu(q7);var Ps={};const Du=Pu(B7);var lp={},cp={},dp={},up={},hp={},fp={},Nk;function h5(){if(Nk)return fp;Nk=1,Object.defineProperty(fp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fp.default=t,fp}var _k;function f5(){if(_k)return hp;_k=1,Object.defineProperty(hp,"__esModule",{value:!0});const e=Du.__importDefault(h5());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,h,f;let g=null,b=null,x=null,j=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const k=await c.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=k:b=JSON.parse(k))}const N=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");N&&_&&_.length>1&&(x=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,j=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const N=await c.text();try{g=JSON.parse(N),Array.isArray(g)&&c.status===404&&(b=[],g=null,j=200,y="OK")}catch{c.status===404&&N===""?(j=204,y="No Content"):g={message:N}}if(g&&this.isMaybeSingle&&(!((f=g==null?void 0:g.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,j=200,y="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:b,count:x,status:j,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,h,f,g,b;let x="";const j=c==null?void 0:c.cause;if(j){const y=(d=j==null?void 0:j.message)!==null&&d!==void 0?d:"",v=(u=j==null?void 0:j.code)!==null&&u!==void 0?u:"";x=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,x+=`

Caused by: ${(f=j==null?void 0:j.name)!==null&&f!==void 0?f:"Error"}: ${y}`,v&&(x+=` (${v})`),j!=null&&j.stack&&(x+=`
${j.stack}`)}else x=(g=c==null?void 0:c.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}};return hp.default=r,hp}var Sk;function m5(){if(Sk)return up;Sk=1,Object.defineProperty(up,"__esModule",{value:!0});const e=Du.__importDefault(f5());let r=class extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return up.default=r,up}var kk;function S1(){if(kk)return dp;kk=1,Object.defineProperty(dp,"__esModule",{value:!0});const e=Du.__importDefault(m5()),r=new RegExp("[,()]");let s=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return dp.default=s,dp}var Ck;function p5(){if(Ck)return cp;Ck=1,Object.defineProperty(cp,"__esModule",{value:!0});const e=Du.__importDefault(S1());let r=class{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return cp.default=r,cp}var Ek;function H7(){if(Ek)return lp;Ek=1,Object.defineProperty(lp,"__esModule",{value:!0});const t=Du,e=t.__importDefault(p5()),r=t.__importDefault(S1());let s=class g5{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new g5(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let g;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([x,j])=>j!==void 0).map(([x,j])=>[x,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([x,j])=>{f.searchParams.append(x,j)})):(h="POST",g=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:h,url:f,headers:b,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return lp.default=s,lp}Object.defineProperty(Ps,"__esModule",{value:!0});Ps.PostgrestError=Ps.PostgrestBuilder=Ps.PostgrestTransformBuilder=Ps.PostgrestFilterBuilder=Ps.PostgrestQueryBuilder=Ps.PostgrestClient=void 0;const Mu=Du,x5=Mu.__importDefault(H7());Ps.PostgrestClient=x5.default;const v5=Mu.__importDefault(p5());Ps.PostgrestQueryBuilder=v5.default;const y5=Mu.__importDefault(S1());Ps.PostgrestFilterBuilder=y5.default;const b5=Mu.__importDefault(m5());Ps.PostgrestTransformBuilder=b5.default;const w5=Mu.__importDefault(f5());Ps.PostgrestBuilder=w5.default;const j5=Mu.__importDefault(h5());Ps.PostgrestError=j5.default;Ps.default={PostgrestClient:x5.default,PostgrestQueryBuilder:v5.default,PostgrestFilterBuilder:y5.default,PostgrestTransformBuilder:b5.default,PostgrestBuilder:w5.default,PostgrestError:j5.default};class N5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W7="2.87.1",K7=`realtime-js/${W7}`,_5="1.0.0",G7="2.0.0",Pk=_5,Y0=1e4,X7=1e3,Q7=100;var $l;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($l||($l={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var ka;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ka||(ka={}));var Z0;(function(t){t.websocket="websocket"})(Z0||(Z0={}));var Fl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fl||(Fl={}));class J7{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const a=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,s;const a=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,s){var a,i;const o=e.topic,l=(a=e.ref)!==null&&a!==void 0?a:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",d=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(g),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,c.length),b.setUint8(x++,l.length),b.setUint8(x++,o.length),b.setUint8(x++,d.length),b.setUint8(x++,h.length),b.setUint8(x++,r),Array.from(c,y=>b.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>b.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(x++,y.charCodeAt(0))),Array.from(d,y=>b.setUint8(x++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(x++,y.charCodeAt(0)));var j=new Uint8Array(g.byteLength+s.byteLength);return j.set(new Uint8Array(g),0),j.set(new Uint8Array(s),g.byteLength),j.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,i,o,l,c]=s;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,s){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=s.decode(e.slice(c,c+a));c=c+a;const u=s.decode(e.slice(c,c+i));c=c+i;const h=s.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),g=l===this.JSON_ENCODING?JSON.parse(s.decode(f)):f,b={type:this.BROADCAST_EVENT,event:u,payload:g};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class S5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dr||(dr={}));const Tk=(t,e,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Y7(o,t,e,a),i),{}):{}},Y7=(t,e,r,s)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!s.includes(i)?k5(i,o):ew(o)},k5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rH(e,r)}switch(t){case dr.bool:return Z7(e);case dr.float4:case dr.float8:case dr.int2:case dr.int4:case dr.int8:case dr.numeric:case dr.oid:return eH(e);case dr.json:case dr.jsonb:return tH(e);case dr.timestamp:return sH(e);case dr.abstime:case dr.date:case dr.daterange:case dr.int4range:case dr.int8range:case dr.money:case dr.reltime:case dr.text:case dr.time:case dr.timestamptz:case dr.timetz:case dr.tsrange:case dr.tstzrange:return ew(e);default:return ew(e)}},ew=t=>t,Z7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eH=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tH=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rH=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>k5(e,l))}return t},sH=t=>typeof t=="string"?t.replace(" ","T"):t,C5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hy{constructor(e,r,s={},a=Y0){this.channel=e,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tw||(tw={}));let E5=class Gp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gp.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Gp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gp.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(j=>j.presence_ref),g=h.map(j=>j.presence_ref),b=u.filter(j=>g.indexOf(j.presence_ref)<0),x=h.filter(j=>f.indexOf(j.presence_ref)<0);b.length>0&&(l[d]=b),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(e,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);e[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const a=e[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var rw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rw||(rw={}));var Cd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cd||(Cd={}));var Wa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wa||(Wa={}));const nH=Kr;let P5=class Ph{constructor(e,r={config:{}},s){var a,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hy(this,ka.join,this.params,this.timeout),this.rejoinTimer=new S5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ka.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new E5(this),this.broadcastEndpointURL=C5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Cd.PRESENCE]&&this.bindings[Cd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Wa.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Wa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Wa.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,y=[];for(let v=0;v<j;v++){const N=x[v],{filter:{event:_,schema:k,table:P,filter:C}}=N,T=g&&g[v];if(T&&T.event===_&&Ph.isFilterValueEqual(T.schema,k)&&Ph.isFilterValueEqual(T.table,P)&&Ph.isFilterValueEqual(T.filter,C))y.push(Object.assign(Object.assign({},N),{id:T.id}));else{this.unsubscribe(),this.state=Kr.errored,e==null||e(Wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Wa.SUBSCRIBED);return}}).receive("error",g=>{this.state=Kr.errored,e==null||e(Wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Kr.joined&&e===Cd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ka.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Hy(this,ka.leave,{},e),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hy(this,e,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Q7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ka;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var b,x,j;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(x=g.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(g=>g.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,x,j,y,v,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,k=(b=g.filter)===null||b===void 0?void 0:b.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:x,table:j,commit_timestamp:y,type:v,errors:N}=b;f=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:y,eventType:v,new:{},old:{},errors:N}),this._getPayloadRecords(b))}g.callback(f,s)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ph.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ka.close,{},e)}_onError(e){this._on(ka.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Tk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Tk(e.columns,e.old_record)),r}};const Wy=()=>{},mp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aH=[1e3,2e3,5e3,1e4],iH=1e4,oH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let lH=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Y0,this.transport=null,this.heartbeatIntervalMs=mp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wy,this.ref=0,this.reconnectTimer=null,this.vsn=Pk,this.logger=Wy,this.conn=null,this.sendBuffer=[],this.serializer=new J7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Z0.websocket}`,this.httpEndpoint=C5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $l.connecting:return Fl.Connecting;case $l.open:return Fl.Open;case $l.closing:return Fl.Closing;default:return Fl.Closed}}isConnected(){return this.connectionState()===Fl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new P5(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(X7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$l.open||this.conn.readyState===$l.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ka.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${s}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([oH],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:K7};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ka.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new S5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,a,i,o,l,c,d,u,h,f,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Y0,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:mp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Wy,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Pk,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:b=>aH[b-1]||iH,this.vsn){case _5:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(b,x)=>x(JSON.stringify(b)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(b,x)=>x(JSON.parse(b));break;case G7:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const cH=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:nH,get REALTIME_LISTEN_TYPES(){return Cd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return rw},get REALTIME_PRESENCE_LISTEN_EVENTS(){return tw},get REALTIME_SUBSCRIBE_STATES(){return Wa},RealtimeChannel:P5,RealtimeClient:lH,RealtimePresence:E5,WebSocketFactory:N5},Symbol.toStringTag,{value:"Module"})),T5=Pu(cH);class om extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class A5 extends om{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bg extends om{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const k1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dH=()=>Response,sw=t=>{if(Array.isArray(t))return t.map(r=>sw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=sw(s)}),e},uH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hH=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Ky=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},fH=(t,e,r)=>Me(void 0,void 0,void 0,function*(){const s=yield dH();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new A5(Ky(a),i,o))}).catch(a=>{e(new Bg(Ky(a),a))}):e(new Bg(Ky(t),t))}),mH=(t,e,r,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?a:(uH(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function lm(t,e,r,s,a,i){return Me(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,mH(e,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fH(c,l,s))})})}function yf(t,e,r,s){return Me(this,void 0,void 0,function*(){return lm(t,"GET",e,r,s)})}function Na(t,e,r,s,a){return Me(this,void 0,void 0,function*(){return lm(t,"POST",e,s,a,r)})}function nw(t,e,r,s,a){return Me(this,void 0,void 0,function*(){return lm(t,"PUT",e,s,a,r)})}function pH(t,e,r,s){return Me(this,void 0,void 0,function*(){return lm(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function C1(t,e,r,s,a){return Me(this,void 0,void 0,function*(){return lm(t,"DELETE",e,s,a,r)})}class gH{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gr(e))return{data:null,error:e};throw e}})}}var R5;class xH{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[R5]="BlobDownloadBuilder",this.promise=null}asStream(){return new gH(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gr(e))return{data:null,error:e};throw e}})}}R5=Symbol.toStringTag;const vH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ak={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yH{constructor(e,r={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=k1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,a){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ak),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?nw:Na)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,a){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ak.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield nw(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Na(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new om("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s))return{data:null,error:s};throw s}})}update(e,r,s){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Me(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}copy(e,r,s){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Na(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,s){return Me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Na(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,s){return Me(this,void 0,void 0,function*(){try{const a=yield Na(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>yf(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xH(c,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield yf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sw(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s))return{data:null,error:s};throw s}})}exists(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield pH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s)&&s instanceof Bg){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield C1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}list(e,r,s){return Me(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},vH),r),{prefix:e||""});return{data:yield Na(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}listV2(e,r){return Me(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Na(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const O5="2.87.1",I5={"X-Client-Info":`storage-js/${O5}`};class bH{constructor(e,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=k1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield yf(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}createBucket(e){return Me(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Na(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield C1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var bf=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wH(t,e,r){const s=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function jH(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function NH(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:i,headers:o}){const l=wH(t.baseUrl,s,a),c=await jH(t.auth),d=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!d.ok){const g=h?f:void 0,b=g==null?void 0:g.error;throw new bf((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:d.status,headers:d.headers,data:f}}}}function pp(t){return t.join("")}var _H=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:pp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pp(t.namespace)}`}),!0}catch(e){if(e instanceof bf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof bf&&r.status===409)return;throw r}}};function Fc(t){return t.join("")}var SH=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof bf&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof bf&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},kH=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=NH({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new _H(this.client,e),this.tableOps=new SH(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class D5{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=k1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield yf(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield C1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}from(e){if(!hH(e))throw new om("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new kH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Me(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:(...c)=>Me(this,void 0,void 0,function*(){try{return{data:yield l.apply(i,c),error:null}}catch(d){if(s)throw d;return{data:null,error:d}}})}})}}const E1={"X-Client-Info":`storage-js/${O5}`,"Content-Type":"application/json"};class P1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ln(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xp extends P1{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M5 extends P1{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var aw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(aw||(aw={}));const nv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CH=()=>Response,L5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EH=t=>Array.from(new Float32Array(t)),PH=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Rk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TH=(t,e,r)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";e(new Xp(Rk(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;e(new Xp(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;e(new Xp(l,a,o))}}else e(new M5(Rk(t),t))}),AH=(t,e,r,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(L5(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),r)):a};function RH(t,e,r,s,a,i){return Me(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,AH(e,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>TH(c,l,s))})})}function Cn(t,e,r,s,a){return Me(this,void 0,void 0,function*(){return RH(t,"POST",e,s,a,r)})}class $5{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E1),r),this.fetch=nv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Cn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:(yield Cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}}class F5{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E1),r),this.fetch=nv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Cn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Cn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Cn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}}class V5{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E1),r),this.fetch=nv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield Cn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}}class B5 extends V5{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new z5(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Me(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Me(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Me(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Me(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class z5 extends $5{constructor(e,r,s,a){super(e,r,a),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new U5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class U5 extends F5{constructor(e,r,s,a,i){super(e,r,i),this.vectorBucketName=s,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class OH extends bH{constructor(e,r={},s,a){super(e,r,s,a)}from(e){return new yH(this.url,this.headers,e,this.fetch)}get vectors(){return new B5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D5(this.url+"/iceberg",this.headers,this.fetch)}}const IH=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:D5,StorageApiError:A5,StorageClient:OH,StorageError:om,StorageUnknownError:Bg,StorageVectorsApiError:Xp,StorageVectorsClient:B5,StorageVectorsError:P1,get StorageVectorsErrorCode(){return aw},StorageVectorsUnknownError:M5,VectorBucketApi:V5,VectorBucketScope:z5,VectorDataApi:F5,VectorIndexApi:$5,VectorIndexScope:U5,isPlainObject:L5,isStorageError:gr,isStorageVectorsError:ln,normalizeToFloat32:EH,resolveFetch:nv,resolveResponse:CH,validateVectorDimension:PH},Symbol.toStringTag,{value:"Module"})),DH=Pu(IH);var q5={},av={};Object.defineProperty(av,"__esModule",{value:!0});av.version=void 0;av.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=av;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(q5);var H5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(a,i,o)=>{const l=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(d,u)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:a;let g=new c(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),l(d,Object.assign(Object.assign({},u),{headers:g}))}};t.fetchWithAuth=s})(H5);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.isBrowser=void 0;gl.uuid=MH;gl.ensureTrailingSlash=W5;gl.applySettingDefaults=$H;gl.validateSupabaseUrl=FH;function MH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function W5(t){return t.endsWith("/")?t:t+"/"}const LH=()=>typeof window<"u";gl.isBrowser=LH;function $H(t,e){var r,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function FH(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iv={};const K5="2.87.1",Jc=30*1e3,iw=3,Gy=iw*Jc,VH="http://localhost:9999",BH="supabase.auth.token",zH={"X-Client-Info":`gotrue-js/${K5}`},ow="X-Supabase-Api-Version",G5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qH=10*60*1e3;let lu=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let X5=class extends lu{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function Q5(t){return Fe(t)&&t.name==="AuthApiError"}let jo=class extends lu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},to=class extends lu{constructor(e,r,s,a){super(e,s,a),this.name=r,this.status=s}},sn=class extends to{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function J5(t){return Fe(t)&&t.name==="AuthSessionMissingError"}let Ol=class extends to{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Th=class extends to{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Ah=class extends to{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Y5(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}let lw=class extends to{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},zg=class extends to{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Qp(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}let cw=class extends to{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function HH(t){return Fe(t)&&t.name==="AuthWeakPasswordError"}let Ug=class extends to{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const qg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ok=` 	
\r=`.split(""),WH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ok.length;e+=1)t[Ok[e].charCodeAt(0)]=-2;for(let e=0;e<qg.length;e+=1)t[qg[e].charCodeAt(0)]=e;return t})();function Ik(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(qg[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(qg[s]),e.queuedBits-=6}}function Z5(t,e,r){const s=WH[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dk(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{XH(o,s,r)};for(let o=0;o<t.length;o+=1)Z5(t.charCodeAt(o),a,i);return e.join("")}function KH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function GH(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}KH(s,e)}}function XH(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ed(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Z5(t.charCodeAt(a),r,s);return new Uint8Array(e)}function QH(t){const e=[];return GH(t,r=>e.push(r)),new Uint8Array(e)}function ql(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>Ik(a,r,s)),Ik(null,r,s),e.join("")}function JH(t){return Math.round(Date.now()/1e3)+t}function YH(){return Symbol("auth-callback")}const ps=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},eD=()=>{if(!ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function ZH(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{e[a]=s}),e}const tD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Pl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ms=async(t,e)=>{await t.removeItem(e)};class ov{constructor(){this.promise=new ov.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ov.promiseConstructor=Promise;function Xy(t){const e=t.split(".");if(e.length!==3)throw new Ug("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!UH.test(e[s]))throw new Ug("JWT not in base64url format");return{header:JSON.parse(Dk(e[0])),payload:JSON.parse(Dk(e[1])),signature:Ed(e[2]),raw:{header:e[0],payload:e[1]}}}async function tW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rW(t,e){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function sW(t){return("0"+t.toString(16)).substr(-2)}function nW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,sW).join("")}async function aW(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function iW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await aW(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vc(t,e,r=!1){const s=nW();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Yc(t,`${e}-code-verifier`,a);const i=await iW(s);return[i,s===i?"plain":"s256"]}const oW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lW(t){const e=t.headers.get(ow);if(!e||!e.match(oW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bc(t){if(!uW.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qy(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hW(t,e){return new Proxy(t,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,a)}})}function Mk(t){return JSON.parse(JSON.stringify(t))}const Il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fW=[502,503,504];async function Lk(t){var e;if(!eW(t))throw new zg(Il(t),0);if(fW.includes(t.status))throw new zg(Il(t),t.status);let r;try{r=await t.json()}catch(i){throw new jo(Il(i),i)}let s;const a=lW(t);if(a&&a.getTime()>=G5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new cw(Il(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new sn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cw(Il(r),t.status,r.weak_password.reasons);throw new X5(Il(r),t.status||500,s)}const mW=(t,e,r,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function nt(t,e,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[ow]||(i[ow]=G5["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pW(t,e,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function pW(t,e,r,s,a,i){const o=mW(e,s,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new zg(Il(c),0)}if(l.ok||await Lk(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Lk(c)}}function ya(t){var e;let r=null;vW(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=JH(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function $k(t){const e=ya(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function No(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gW(t){return{data:t,error:null}}function xW(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=t,o=pl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Fk(t){return t}function vW(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jp=["global","local","others"];let T1=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=tD(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jp[0]){if(Jp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jp.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:No})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=pl(e,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:xW,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:No})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Fk});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Fe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Bc(e);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:No})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Bc(e);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:No})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Bc(e);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:No})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Bc(e.userId);try{const{data:r,error:s}=await nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Bc(e.userId),Bc(e.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Fk});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Fe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}};function Vk(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Dl={debug:!!(globalThis&&eD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let rD=class extends A1{};class yW extends A1{}async function sD(t,e,r){Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Bk={};async function bW(t,e,r){var s;const a=(s=Bk[t])!==null&&s!==void 0?s:Promise.resolve(),i=Promise.race([a.catch(()=>null),e>=0?new Promise((o,l)=>{setTimeout(()=>{l(new yW(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Bk[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function wW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nD(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jW(t){return parseInt(t,16)}function NW(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function _W(t){var e;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=nD(t.address),b=u?`${u}://${s}`:s,x=t.statement?`${t.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${g}

${x}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const N of d){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);v+=`
- ${N}`}y+=v}return`${j}
${y}`}class Gr extends Error{constructor({message:e,code:r,cause:s,name:a}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Hg extends Gr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function SW({error:t,options:e}){var r,s,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Gr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Gr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Gr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Gr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Gr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Gr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Gr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(aD(o)){if(i.rp.id!==o)return new Gr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Gr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kW({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Gr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Gr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(aD(s)){if(r.rpId!==s)return new Gr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class CW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const EW=new CW;function PW(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,a=pl(t,["challenge","user","excludeCredentials"]),i=Ed(e).buffer,o=Object.assign(Object.assign({},r),{id:Ed(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Ed(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function TW(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=pl(t,["challenge","allowCredentials"]),a=Ed(e).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ed(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function AW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ql(new Uint8Array(t.response.attestationObject)),clientDataJSON:ql(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ql(new Uint8Array(a.authenticatorData)),clientDataJSON:ql(new Uint8Array(a.clientDataJSON)),signature:ql(new Uint8Array(a.signature)),userHandle:a.userHandle?ql(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aD(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zk(){var t,e;return!!(ps()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function OW(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hg("Browser returned unexpected credential type",e)}:{data:null,error:new Hg("Empty credential response",e)}}catch(e){return{data:null,error:SW({error:e,options:t})}}}async function IW(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hg("Browser returned unexpected credential type",e)}:{data:null,error:new Hg("Empty credential response",e)}}catch(e){return{data:null,error:kW({error:e,options:t})}}}const DW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wg(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const l=s[i];e(l)?s[i]=Wg(l,o):s[i]=Wg(o)}else s[i]=o}return s}function LW(t,e){return Wg(DW,t,e||{})}function $W(t,e){return Wg(MW,t,e||{})}class FW{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??EW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=LW(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await OW({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=$W(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await IW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!zk())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!zk())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in register",o)}}}}wW();const VW={url:VH,storageKey:BH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Uk(t,e,r){return await r()}const zc={};let R1=class dw{get jwks(){var e,r;return(r=(e=zc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zc[this.storageKey]=Object.assign(Object.assign({},zc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zc[this.storageKey]=Object.assign(Object.assign({},zc[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},VW),e);if(this.storageKey=i.storageKey,this.instanceID=(r=dw.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ps()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new T1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tD(i.fetch),this.lock=i.lock||Uk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ps()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=sD:this.lock=Uk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Vk(this.memoryStorage)),ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(ps()&&(r=ZH(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),ps()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Y5(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Fe(r)?this._returnResult({error:r}):this._returnResult({error:new jo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,a;try{const i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ya}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,a;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Vc(this.storage,this.storageKey)),i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:b},xform:ya})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ya})}else throw new Th("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await ms(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$k})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$k})}else throw new Th("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new Ol;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,a,i,o,l,c,d,u,h,f;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:x,wallet:j,statement:y,options:v}=e;let N;if(ps())if(typeof j=="object")N=j;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")N=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),k=await N.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=nD(k[0]);let C=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!C){const M=await N.request({method:"eth_chainId"});C=jW(M)}const T={domain:_.host,address:P,statement:y,uri:_.href,version:"1",chainId:C,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=_W(T),b=await N.request({method:"personal_sign",params:[NW(g),P]})}try{const{data:x,error:j}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ya});if(j)throw j;if(!x||!x.session||!x.user){const y=new Ol;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:j})}catch(x){if(Fe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,s,a,i,o,l,c,d,u,h,f,g;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:j,wallet:y,statement:v,options:N}=e;let _;if(ps())if(typeof y=="object")_=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let C;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")C=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)C=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(s=N==null?void 0:N.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N==null?void 0:N.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((h=(u=N==null?void 0:N.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...N.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=P}}try{const{data:j,error:y}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ql(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ya});if(y)throw y;if(!j||!j.session||!j.user){const v=new Ol;return this._returnResult({data:{user:null,session:null},error:v})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:y})}catch(j){if(Fe(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Pl(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ya});if(await ms(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ol;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=e,l=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ya}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Ol;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Vc(this.storage,this.storageKey));const{error:h}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Th("You must provide either an email or phone number.")}catch(l){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,s;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ya});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(Fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,s,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Vc(this.storage,this.storageKey));const d=await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:gW});return!((i=d.data)===null||i===void 0)&&i.url&&ps()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new sn;const{error:a}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:i}=e,{error:o}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:a,options:i}=e,{data:o,error:l}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Th("You must provide either an email or phone number and a type")}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Pl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Gy:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Pl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Qy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=hW(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:No}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:No})})}catch(r){if(Fe(r))return J5(r)&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new sn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Vc(this.storage,this.storageKey));const{data:d,error:u}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:No});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=Xy(e.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ps())throw new Ah("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ah(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ah("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lw("No code detected.");const{data:v,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Ah("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const g=f-u;g*1e3<=Jc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const b=f-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Pl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Q5(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=YH(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Vc(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ps()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ya}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ol}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(a){if(await ms(this.storage,`${this.storageKey}-code-verifier`),Fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await rW(async a=>(a>0&&await tW(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ya})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Qp(i)&&Date.now()+o-s<Jc})}catch(s){if(this._debug(r,"error",s),Fe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ps()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Pl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Pl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Yc(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Qy()}else if(a&&!a.user&&!a.user){const o=await Pl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ms(this.storage,this.storageKey+"-user"),await Yc(this.storage,this.storageKey,a)):a.user=Qy()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gy;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Gy}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Qp(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ov;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new sn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Fe(i)){const o={data:null,error:i};return Qp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ms(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Yc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Mk(a);await Yc(this.storage,this.storageKey,i)}else{const a=Mk(r);await Yc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ms(this.storage,this.storageKey),await ms(this.storage,this.storageKey+"-code-verifier"),await ms(this.storage,this.storageKey+"-user"),this.userStorage&&await ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Jc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Jc}ms, refresh threshold is ${iw} ticks`),a<=iw&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof A1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?AW(e.webauthn.credential_response):RW(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:PW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xy(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new sn})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new sn});const o=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ps()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new sn});const o=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ps()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new sn})})}catch(e){if(Fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sn})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+qH>a)return s;const{data:i,error:o}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});s=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Xy(s);r!=null&&r.allowExpired||cW(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const u=dW(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,QH(`${l}.${c}`)))throw new Ug("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}};R1.nextInstanceID={};const BW=T1,zW=R1,UW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:BW,AuthApiError:X5,AuthClient:zW,AuthError:lu,AuthImplicitGrantRedirectError:Ah,AuthInvalidCredentialsError:Th,AuthInvalidJwtError:Ug,AuthInvalidTokenResponseError:Ol,AuthPKCEGrantCodeExchangeError:lw,AuthRetryableFetchError:zg,AuthSessionMissingError:sn,AuthUnknownError:jo,AuthWeakPasswordError:cw,CustomAuthError:to,GoTrueAdminApi:T1,GoTrueClient:R1,NavigatorLockAcquireTimeoutError:rD,SIGN_OUT_SCOPES:Jp,isAuthApiError:Q5,isAuthError:Fe,isAuthImplicitGrantRedirectError:Y5,isAuthRetryableFetchError:Qp,isAuthSessionMissingError:J5,isAuthWeakPasswordError:HH,lockInternals:Dl,navigatorLock:sD,processLock:bW},Symbol.toStringTag,{value:"Module"})),iD=Pu(UW);Object.defineProperty(iv,"__esModule",{value:!0});iv.SupabaseAuthClient=void 0;const qW=iD;class HW extends qW.AuthClient{constructor(e){super(e)}}iv.SupabaseAuthClient=HW;Object.defineProperty($g,"__esModule",{value:!0});const WW=u5,KW=Ps,GW=T5,XW=DH,gp=q5,QW=H5,qk=gl,JW=iv;let YW=class{constructor(e,r,s){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=(0,qk.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:gp.DEFAULT_DB_OPTIONS,realtime:gp.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},gp.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:gp.DEFAULT_GLOBAL_OPTIONS},u=(0,qk.applySettingDefaults)(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=(0,QW.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new KW.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new XW.StorageClient(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new WW.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:u},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JW.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new GW.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};$g.default=YW;(function(t){var e=Lc&&Lc.__createBinding||(Object.create?function(u,h,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(h,f);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(u,g,b)}:function(u,h,f,g){g===void 0&&(g=f),u[g]=h[f]}),r=Lc&&Lc.__exportStar||function(u,h){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&e(h,u,f)},s=Lc&&Lc.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=s($g);r(iD,t);var i=Ps;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=u5;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(T5,t);var l=$g;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(l).default}});const c=(u,h,f)=>new a.default(u,h,f);t.createClient=c;function d(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const h=u.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(j1);const oD=Lx(j1),ZW=t4({__proto__:null,default:oD},[j1]),{PostgrestError:ume,FunctionsHttpError:hme,FunctionsFetchError:fme,FunctionsRelayError:mme,FunctionsError:pme,FunctionRegion:gme,SupabaseClient:xme,createClient:eK,GoTrueAdminApi:vme,GoTrueClient:yme,AuthAdminApi:bme,AuthClient:wme,navigatorLock:jme,NavigatorLockAcquireTimeoutError:Nme,lockInternals:_me,processLock:Sme,SIGN_OUT_SCOPES:kme,AuthError:Cme,AuthApiError:Eme,AuthUnknownError:Pme,CustomAuthError:Tme,AuthSessionMissingError:Ame,AuthInvalidTokenResponseError:Rme,AuthInvalidCredentialsError:Ome,AuthImplicitGrantRedirectError:Ime,AuthPKCEGrantCodeExchangeError:Dme,AuthRetryableFetchError:Mme,AuthWeakPasswordError:Lme,AuthInvalidJwtError:$me,isAuthError:Fme,isAuthApiError:Vme,isAuthSessionMissingError:Bme,isAuthImplicitGrantRedirectError:zme,isAuthRetryableFetchError:Ume,isAuthWeakPasswordError:qme,RealtimePresence:Hme,RealtimeChannel:Wme,RealtimeClient:Kme,REALTIME_LISTEN_TYPES:Gme,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Xme,REALTIME_PRESENCE_LISTEN_EVENTS:Qme,REALTIME_SUBSCRIBE_STATES:Jme,REALTIME_CHANNEL_STATES:Yme}=oD||ZW,Jy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://bibliafs.com.br",VITE_STRIPE_DONATION_100_PRICE_ID:"price_1SoqxZLxcUHgdisLYgHEFqgT",VITE_STRIPE_DONATION_10_PRICE_ID:"price_1SoqxTLxcUHgdisL2oKZfTFV",VITE_STRIPE_DONATION_25_PRICE_ID:"price_1SoqxWLxcUHgdisLvXAn7mar",VITE_STRIPE_DONATION_50_PRICE_ID:"price_1SoqxYLxcUHgdisLJgKRDloE",VITE_STRIPE_DONATION_CUSTOM_PRICE_ID:"price_1SoqxbLxcUHgdisLbln2YRd7",VITE_STRIPE_MONTHLY_PRICE_ID:"price_1SoqxJLxcUHgdisLSjzqs9kP",VITE_STRIPE_PREMIUM_PLUS_PRICE_ID:"price_1SoqxQLxcUHgdisLPywByiTk",VITE_STRIPE_PUBLIC_KEY:"pk_live_51SdzfMLxcUHgdisLzNsUtr1jq8xohiZHoX4maFI9ZOFGiCihZLO3BC3XOMj7kMgwC4HDVmyAXnP0iQGOSC9xNXx900BwbqTRuc",VITE_STRIPE_YEARLY_PRICE_ID:"price_1SoqxOLxcUHgdisLsfxoxyj7",VITE_SUPABASE_ANON_KEY:"sb_publishable_7Tg_A-xoQTzgSU70QUM4lA_Y8eQe5Jj",VITE_SUPABASE_URL:"https://olvumxgyoazdftdyasmx.supabase.co"},tK={VITE_SUPABASE_URL:"https://olvumxgyoazdftdyasmx.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9sdnVteGd5b2F6ZGZ0ZHlhc214Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NzI1MzQsImV4cCI6MjA4MTI0ODUzNH0.HHIeS1T7PRyUrYF0yDkxAL9GktTPUFF2o9F99fx5vlI",VITE_STRIPE_PUBLIC_KEY:"pk_live_51SdzfMLxcUHgdisLzNsUtr1jq8xohiZHoX4maFI9ZOFGiCihZLO3BC3XOMj7kMgwC4HDVmyAXnP0iQGOSC9xNXx900BwbqTRuc",VITE_STRIPE_MONTHLY_PRICE_ID:"price_1SoqxJLxcUHgdisLSjzqs9kP",VITE_STRIPE_YEARLY_PRICE_ID:"price_1SoqxOLxcUHgdisLsfxoxyj7",VITE_STRIPE_PREMIUM_PLUS_PRICE_ID:"price_1SoqxQLxcUHgdisLPywByiTk",VITE_STRIPE_DONATION_10_PRICE_ID:"price_1SoqxTLxcUHgdisL2oKZfTFV",VITE_STRIPE_DONATION_25_PRICE_ID:"price_1SoqxWLxcUHgdisLvXAn7mar",VITE_STRIPE_DONATION_50_PRICE_ID:"price_1SoqxYLxcUHgdisLJgKRDloE",VITE_STRIPE_DONATION_100_PRICE_ID:"price_1SoqxZLxcUHgdisLYgHEFqgT",VITE_STRIPE_DONATION_CUSTOM_PRICE_ID:"price_1SoqxbLxcUHgdisLbln2YRd7",VITE_APP_URL:"https://bibliafs.com.br"};function Sc(t){const e=Jy==null?void 0:Jy[t];return e&&e!==""&&!e.includes("import.meta")?e:tK[t]}const rK=Sc("VITE_SUPABASE_URL"),sK=Sc("VITE_SUPABASE_ANON_KEY");Sc("VITE_STRIPE_PUBLIC_KEY");const Hk=Sc("VITE_APP_URL"),nK=Sc("VITE_STRIPE_MONTHLY_PRICE_ID"),aK=Sc("VITE_STRIPE_YEARLY_PRICE_ID"),iK=Sc("VITE_STRIPE_PREMIUM_PLUS_PRICE_ID"),bs=eK(rK,sK,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),uw=Object.freeze(Object.defineProperty({__proto__:null,supabase:bs},Symbol.toStringTag,{value:"Module"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var cu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(cu||(cu={}));class Yy extends Error{constructor(e,r,s){super(e),this.message=e,this.code=r,this.data=s}}const oK=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},lK=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},s=r.Plugins=r.Plugins||{},a=()=>e!==null?e.name:oK(t),i=()=>a()!=="web",o=h=>{const f=d.get(h);return!!(f!=null&&f.platforms.has(a())||l(h))},l=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(g=>g.name===h)},c=h=>t.console.error(h),d=new Map,u=(h,f={})=>{const g=d.get(h);if(g)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),g.proxy;const b=a(),x=l(h);let j;const y=async()=>(!j&&b in f?j=typeof f[b]=="function"?j=await f[b]():j=f[b]:e!==null&&!j&&"web"in f&&(j=typeof f.web=="function"?j=await f.web():j=f.web),j),v=(T,M)=>{var A,W;if(x){const B=x==null?void 0:x.methods.find(L=>M===L.name);if(B)return B.rtype==="promise"?L=>r.nativePromise(h,M.toString(),L):(L,K)=>r.nativeCallback(h,M.toString(),L,K);if(T)return(A=T[M])===null||A===void 0?void 0:A.bind(T)}else{if(T)return(W=T[M])===null||W===void 0?void 0:W.bind(T);throw new Yy(`"${h}" plugin is not implemented on ${b}`,cu.Unimplemented)}},N=T=>{let M;const A=(...W)=>{const B=y().then(L=>{const K=v(L,T);if(K){const X=K(...W);return M=X==null?void 0:X.remove,X}else throw new Yy(`"${h}.${T}()" is not implemented on ${b}`,cu.Unimplemented)});return T==="addListener"&&(B.remove=async()=>M()),B};return A.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:T,writable:!1,configurable:!1}),A},_=N("addListener"),k=N("removeListener"),P=(T,M)=>{const A=_({eventName:T},M),W=async()=>{const L=await A;k({eventName:T,callbackId:L},M)},B=new Promise(L=>A.then(()=>L({remove:W})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await W()},B},C=new Proxy({},{get(T,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?P:_;case"removeListener":return k;default:return N(M)}}});return s[h]=C,d.set(h,{name:h,proxy:C,platforms:new Set([...Object.keys(f),...x?[b]:[]])}),C};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=a,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=u,r.Exception=Yy,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},cK=t=>t.Capacitor=lK(t),Kg=cK(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),O1=Kg.registerPlugin;class I1{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,s){const a=this.listeners[e];if(!a){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}a.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new Kg.Exception(e,cu.Unimplemented)}unavailable(e="not available"){return new Kg.Exception(e,cu.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const a=s.indexOf(r);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(s=>{this.notifyListeners(e,s)}))}}const Wk=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Kk=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class dK extends I1{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Kk(a).trim(),i=Kk(i).trim(),r[a]=i}),r}async setCookie(e){try{const r=Wk(e.key),s=Wk(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${s||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}O1("CapacitorCookies",{web:()=>new dK});const uK=async t=>new Promise((e,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>r(a),s.readAsDataURL(t)}),hK=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=t[e[o]],a),{})},fK=(t,e=!0)=>t?Object.entries(t).reduce((s,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,mK=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),a=hK(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);r.body=i.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class pK extends I1{async request(e){const r=mK(e,e.webFetchExtra),s=fK(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await uK(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((h,f)=>{u[f]=h}),{data:c,headers:u,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}O1("CapacitorHttp",{web:()=>new pK});var Gk;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Gk||(Gk={}));var Xk;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(Xk||(Xk={}));class gK extends I1{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}O1("SystemBars",{web:()=>new gK});function xK(){try{return Kg.isNativePlatform()}catch{return!1}}const du=xK();function _o(t){return du?t.startsWith("/")?`${Hk}${t}`:`${Hk}/${t}`:t}async function Xs(t,e){const r=typeof t=="string"?_o(t):t;return fetch(r,e)}async function lD(t){if(!t.ok){const e=await t.text()||t.statusText;let r=`${t.status}: ${e}`;try{const s=JSON.parse(e);s.message&&(r=s.message)}catch{}throw new Error(r)}}let ji=null,hd=0,gh=null;async function vK(){const t=Date.now(),e=60*1e3;return ji&&hd>t+e?ji:gh||(gh=(async()=>{var r;try{const{data:{session:s}}=await bs.auth.getSession();if(s!=null&&s.access_token&&s.expires_at){const a=s.expires_at*1e3;if(a>t+e)return ji=s.access_token,hd=a,ji;const{data:i,error:o}=await bs.auth.refreshSession();if((r=i==null?void 0:i.session)!=null&&r.access_token&&!o)return ji=i.session.access_token,hd=(i.session.expires_at||0)*1e3,ji}return ji=null,hd=0,null}finally{gh=null}})(),gh)}bs.auth.onAuthStateChange((t,e)=>{e!=null&&e.access_token?(ji=e.access_token,hd=(e.expires_at||0)*1e3):(ji=null,hd=0)});async function wf(){try{const t=await vK();if(t)return{Authorization:`Bearer ${t}`}}catch(t){console.warn("[Auth] Error getting auth headers:",t)}return{}}async function Ze(t,e,r){const s=await wf(),a=_o(e),i=await fetch(a,{method:t,headers:{...s,...r?{"Content-Type":"application/json"}:{}},body:r?JSON.stringify(r):void 0,credentials:"include"});return await lD(i),i}const yK=({on401:t})=>async({queryKey:e})=>{const r=await wf(),s=e.join("/"),a=_o(s),i=await fetch(a,{credentials:"include",headers:r});return t==="returnNull"&&i.status===401?null:(await lD(i),await i.json())},Ke=new w7({defaultOptions:{queries:{queryFn:yK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2,retryDelay:t=>Math.min(1e3*(t+1),3e3)},mutations:{retry:1,retryDelay:1e3}}}),bK=1,wK=1e6;let Zy=0;function jK(){return Zy=(Zy+1)%Number.MAX_SAFE_INTEGER,Zy.toString()}const eb=new Map,Qk=t=>{if(eb.has(t))return;const e=setTimeout(()=>{eb.delete(t),Hh({type:"REMOVE_TOAST",toastId:t})},wK);eb.set(t,e)},NK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Qk(r):t.toasts.forEach(s=>{Qk(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Yp=[];let Zp={toasts:[]};function Hh(t){Zp=NK(Zp,t),Yp.forEach(e=>{e(Zp)})}function _K({...t}){const e=jK(),r=a=>Hh({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Hh({type:"DISMISS_TOAST",toastId:e});return Hh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:r}}function nr(){const[t,e]=m.useState(Zp);return m.useEffect(()=>(Yp.push(e),()=>{const r=Yp.indexOf(e);r>-1&&Yp.splice(r,1)}),[t]),{...t,toast:_K,dismiss:r=>Hh({type:"DISMISS_TOAST",toastId:r})}}function ue(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Jk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lv(...t){return e=>{let r=!1;const s=t.map(a=>{const i=Jk(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Jk(t[a],null)}}}}function Qe(...t){return m.useCallback(lv(...t),t)}function SK(t,e){const r=m.createContext(e),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=t+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,a]}function Mr(t,e=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:g,...b}=h,x=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,j=m.useMemo(()=>b,Object.values(b));return n.jsx(x.Provider,{value:j,children:g})};d.displayName=i+"Provider";function u(h,f){var x;const g=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,b=m.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[s,kK(a,...e)]}function kK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function tl(t){const e=CK(t),r=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(EK);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var cv=tl("Slot");function CK(t){const e=m.forwardRef((r,s)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=TK(a),l=PK(i,a.props);return a.type!==m.Fragment&&(l.ref=s?lv(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cD=Symbol("radix.slottable");function dD(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=cD,e}function EK(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cD}function PK(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function TK(t){var s,a;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Lu(t){const e=t+"CollectionProvider",[r,s]=Mr(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:j,children:y}=x,v=$e.useRef(null),N=$e.useRef(new Map).current;return n.jsx(a,{scope:j,itemMap:N,collectionRef:v,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=tl(l),d=$e.forwardRef((x,j)=>{const{scope:y,children:v}=x,N=i(l,y),_=Qe(j,N.collectionRef);return n.jsx(c,{ref:_,children:v})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=tl(u),g=$e.forwardRef((x,j)=>{const{scope:y,children:v,...N}=x,_=$e.useRef(null),k=Qe(j,_),P=i(u,y);return $e.useEffect(()=>(P.itemMap.set(_,{ref:_,...N}),()=>void P.itemMap.delete(_))),n.jsx(f,{[h]:"",ref:k,children:v})});g.displayName=u;function b(x){const j=i(t+"CollectionConsumer",x);return $e.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const N=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((P,C)=>N.indexOf(P.ref.current)-N.indexOf(C.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},b,s]}var AK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=AK.reduce((t,e)=>{const r=tl(`Primitive.${e}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function D1(t,e){t&&_c.flushSync(()=>t.dispatchEvent(e))}function vr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...r)=>{var s;return(s=e.current)==null?void 0:s.call(e,...r)},[])}function RK(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var OK="DismissableLayer",hw="dismissableLayer.update",IK="dismissableLayer.pointerDownOutside",DK="dismissableLayer.focusOutside",Yk,uD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kc=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=m.useContext(uD),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),b=Qe(e,C=>h(C)),x=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(j),v=u?x.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,k=LK(C=>{const T=C.target,M=[...d.branches].some(A=>A.contains(T));!_||M||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),P=$K(C=>{const T=C.target;[...d.branches].some(A=>A.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return RK(C=>{v===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Yk=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Zk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Yk)}},[u,f,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Zk())},[u,d]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(hw,C),()=>document.removeEventListener(hw,C)},[]),n.jsx(Pe.div,{...c,ref:b,style:{pointerEvents:N?_?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,k.onPointerDownCapture)})});kc.displayName=OK;var MK="DismissableLayerBranch",hD=m.forwardRef((t,e)=>{const r=m.useContext(uD),s=m.useRef(null),a=Qe(e,s);return m.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Pe.div,{...t,ref:a})});hD.displayName=MK;function LK(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){fD(IK,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function $K(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&fD(DK,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Zk(){const t=new CustomEvent(hw);document.dispatchEvent(t)}function fD(t,e,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),s?D1(a,i):a.dispatchEvent(i)}var FK=kc,VK=hD,Ur=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},BK="Portal",$u=m.forwardRef((t,e)=>{var l;const{container:r,...s}=t,[a,i]=m.useState(!1);Ur(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C9.createPortal(n.jsx(Pe.div,{...s,ref:e}),o):null});$u.displayName=BK;function zK(t,e){return m.useReducer((r,s)=>e[r][s]??r,t)}var Yr=t=>{const{present:e,children:r}=t,s=UK(e),a=typeof r=="function"?r({present:s.isPresent}):m.Children.only(r),i=Qe(s.ref,qK(a));return typeof r=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};Yr.displayName="Presence";function UK(t){const[e,r]=m.useState(),s=m.useRef({}),a=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[l,c]=zK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=xp(s.current);i.current=l==="mounted"?d:"none"},[l]),Ur(()=>{const d=s.current,u=a.current;if(u!==t){const f=i.current,g=xp(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Ur(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=g=>{const x=xp(s.current).includes(g.animationName);if(g.target===e&&x&&(c("ANIMATION_END"),!a.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},f=g=>{g.target===e&&(i.current=xp(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function xp(t){return(t==null?void 0:t.animationName)||"none"}function qK(t){var s,a;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ds({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,a]=HK({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:s,l=vr(r),c=m.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else a(d)},[i,t,a,l]);return[o,c]}function HK({defaultProp:t,onChange:e}){const r=m.useState(t),[s]=r,a=m.useRef(s),i=vr(e);return m.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var WK="VisuallyHidden",cm=m.forwardRef((t,e)=>n.jsx(Pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));cm.displayName=WK;var KK=cm,M1="ToastProvider",[L1,GK,XK]=Lu("Toast"),[mD,Zme]=Mr("Toast",[XK]),[QK,dv]=mD(M1),pD=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${M1}\`. Expected non-empty \`string\`.`),n.jsx(L1.Provider,{scope:e,children:n.jsx(QK,{scope:e,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};pD.displayName=M1;var gD="ToastViewport",JK=["F8"],fw="toast.viewportPause",mw="toast.viewportResume",xD=m.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=JK,label:a="Notifications ({hotkey})",...i}=t,o=dv(gD,r),l=GK(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=Qe(e,h,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const j=y=>{var N;s.length!==0&&s.every(_=>y[_]||y.code===_)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),m.useEffect(()=>{const j=c.current,y=h.current;if(b&&j&&y){const v=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(fw);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(mw);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},_=P=>{!j.contains(P.relatedTarget)&&N()},k=()=>{j.contains(document.activeElement)||N()};return j.addEventListener("focusin",v),j.addEventListener("focusout",_),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",N),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",_),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",N)}}},[b,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:j})=>{const v=l().map(N=>{const _=N.ref.current,k=[_,...dG(_)];return j==="forwards"?k:k.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const j=h.current;if(j){const y=v=>{var k,P,C;const N=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!N){const T=document.activeElement,M=v.shiftKey;if(v.target===j&&M){(k=d.current)==null||k.focus();return}const B=x({tabbingDirection:M?"backwards":"forwards"}),L=B.findIndex(K=>K===T);tb(B.slice(L+1))?v.preventDefault():M?(P=d.current)==null||P.focus():(C=u.current)==null||C.focus()}};return j.addEventListener("keydown",y),()=>j.removeEventListener("keydown",y)}},[l,x]),n.jsxs(VK,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&n.jsx(pw,{ref:d,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"forwards"});tb(j)}}),n.jsx(L1.Slot,{scope:r,children:n.jsx(Pe.ol,{tabIndex:-1,...i,ref:f})}),b&&n.jsx(pw,{ref:u,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"backwards"});tb(j)}})]})});xD.displayName=gD;var vD="ToastFocusProxy",pw=m.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=t,i=dv(vD,r);return n.jsx(cm,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});pw.displayName=vD;var uv="Toast",YK="toast.swipeStart",ZK="toast.swipeMove",eG="toast.swipeCancel",tG="toast.swipeEnd",yD=m.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=t,[l=!0,c]=Ds({prop:s,defaultProp:a,onChange:i});return n.jsx(Yr,{present:r||l,children:n.jsx(nG,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:vr(t.onPause),onResume:vr(t.onResume),onSwipeStart:ue(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ue(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});yD.displayName=uv;var[rG,sG]=mD(uv,{onClose(){}}),nG=m.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...b}=t,x=dv(uv,r),[j,y]=m.useState(null),v=Qe(e,K=>y(K)),N=m.useRef(null),_=m.useRef(null),k=a||x.duration,P=m.useRef(0),C=m.useRef(k),T=m.useRef(0),{onToastAdd:M,onToastRemove:A}=x,W=vr(()=>{var X;(j==null?void 0:j.contains(document.activeElement))&&((X=x.viewport)==null||X.focus()),o()}),B=m.useCallback(K=>{!K||K===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(W,K))},[W]);m.useEffect(()=>{const K=x.viewport;if(K){const X=()=>{B(C.current),d==null||d()},G=()=>{const ae=new Date().getTime()-P.current;C.current=C.current-ae,window.clearTimeout(T.current),c==null||c()};return K.addEventListener(fw,G),K.addEventListener(mw,X),()=>{K.removeEventListener(fw,G),K.removeEventListener(mw,X)}}},[x.viewport,k,c,d,B]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&B(k)},[i,k,x.isClosePausedRef,B]),m.useEffect(()=>(M(),()=>A()),[M,A]);const L=m.useMemo(()=>j?kD(j):null,[j]);return x.viewport?n.jsxs(n.Fragment,{children:[L&&n.jsx(aG,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),n.jsx(rG,{scope:r,onClose:W,children:_c.createPortal(n.jsx(L1.ItemSlot,{scope:r,children:n.jsx(FK,{asChild:!0,onEscapeKeyDown:ue(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||W(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,K=>{K.key==="Escape"&&(l==null||l(K.nativeEvent),K.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:ue(t.onPointerDown,K=>{K.button===0&&(N.current={x:K.clientX,y:K.clientY})}),onPointerMove:ue(t.onPointerMove,K=>{if(!N.current)return;const X=K.clientX-N.current.x,G=K.clientY-N.current.y,ae=!!_.current,H=["left","right"].includes(x.swipeDirection),z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Z=H?z(0,X):0,me=H?0:z(0,G),Se=K.pointerType==="touch"?10:2,tt={x:Z,y:me},Pt={originalEvent:K,delta:tt};ae?(_.current=tt,vp(ZK,h,Pt,{discrete:!1})):e2(tt,x.swipeDirection,Se)?(_.current=tt,vp(YK,u,Pt,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(X)>Se||Math.abs(G)>Se)&&(N.current=null)}),onPointerUp:ue(t.onPointerUp,K=>{const X=_.current,G=K.target;if(G.hasPointerCapture(K.pointerId)&&G.releasePointerCapture(K.pointerId),_.current=null,N.current=null,X){const ae=K.currentTarget,H={originalEvent:K,delta:X};e2(X,x.swipeDirection,x.swipeThreshold)?vp(tG,g,H,{discrete:!0}):vp(eG,f,H,{discrete:!0}),ae.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),aG=t=>{const{__scopeToast:e,children:r,...s}=t,a=dv(uv,e),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return lG(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx($u,{asChild:!0,children:n.jsx(cm,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},iG="ToastTitle",bD=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return n.jsx(Pe.div,{...s,ref:e})});bD.displayName=iG;var oG="ToastDescription",wD=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return n.jsx(Pe.div,{...s,ref:e})});wD.displayName=oG;var jD="ToastAction",ND=m.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?n.jsx(SD,{altText:r,asChild:!0,children:n.jsx($1,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jD}\`. Expected non-empty \`string\`.`),null)});ND.displayName=jD;var _D="ToastClose",$1=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,a=sG(_D,r);return n.jsx(SD,{asChild:!0,children:n.jsx(Pe.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,a.onClose)})})});$1.displayName=_D;var SD=m.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...a}=t;return n.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function kD(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),cG(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kD(s))}}),e}function vp(t,e,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),s?D1(a,i):a.dispatchEvent(i)}var e2=(t,e,r=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),i=s>a;return e==="left"||e==="right"?i&&s>r:!i&&a>r};function lG(t=()=>{}){const e=vr(t);Ur(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function cG(t){return t.nodeType===t.ELEMENT_NODE}function dG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function tb(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var uG=pD,CD=xD,ED=yD,PD=bD,TD=wD,AD=ND,RD=$1;function OD(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=OD(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function ID(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=OD(t))&&(s&&(s+=" "),s+=e);return s}const t2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,r2=ID,Fu=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return r2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=t2(u)||t2(h);return a[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(b=>{let[x,j]=b;return Array.isArray(j)?j.includes({...i,...l}[x]):{...i,...l}[x]===j})?[...d,h,f]:d},[]);return r2(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...fG,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:DD("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const r=m.forwardRef(({className:s,...a},i)=>m.createElement(mG,{ref:i,iconNode:e,className:DD(`lucide-${hG(t)}`,s),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=le("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=le("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=le("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=le("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=le("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=le("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=le("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=le("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=le("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=le("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=le("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=le("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=le("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=le("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=le("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=le("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=le("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=le("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=le("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=le("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=le("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=le("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=le("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=le("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=le("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),q1="-",zG=t=>{const e=qG(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(q1);return l[0]===""&&l.length!==1&&l.shift(),qD(l,e)||UG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},qD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),a=s?qD(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(q1);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},h2=/^\[(.+)\]$/,UG=t=>{if(h2.test(t)){const e=h2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},qG=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return WG(Object.entries(t.classGroups),r).forEach(([i,o])=>{jw(o,s,i,e)}),s},jw=(t,e,r,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:f2(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(HG(a)){jw(a(s),e,r,s);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{jw(o,f2(e,i),r,s)})})},f2=(t,e)=>{let r=t;return e.split(q1).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},HG=t=>t.isThemeGetter,WG=(t,e)=>e?t.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,a]}):t,KG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},HD="!",GG=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let j=0;j<l.length;j++){let y=l[j];if(d===0){if(y===a&&(s||l.slice(j,j+i)===e)){c.push(l.slice(u,j)),u=j+i;continue}if(y==="/"){h=j;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),g=f.startsWith(HD),b=g?f.substring(1):f,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},XG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},QG=t=>({cache:KG(t.cacheSize),parseClassName:GG(t),...zG(t)}),JG=/\s+/,YG=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(JG);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(d);let b=!!g,x=s(b?f.substring(0,g):f);if(!x){if(!b){l=d+(l.length>0?" "+l:l);continue}if(x=s(f),!x){l=d+(l.length>0?" "+l:l);continue}b=!1}const j=XG(u).join(":"),y=h?j+HD:j,v=y+x;if(i.includes(v))continue;i.push(v);const N=a(x,b);for(let _=0;_<N.length;++_){const k=N[_];i.push(y+k)}l=d+(l.length>0?" "+l:l)}return l};function ZG(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=WD(e))&&(s&&(s+=" "),s+=r);return s}const WD=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=WD(t[s]))&&(r&&(r+=" "),r+=e);return r};function eX(t,...e){let r,s,a,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=QG(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=YG(c,r);return a(c,u),u}return function(){return i(ZG.apply(null,arguments))}}const hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},KD=/^\[(?:([a-z-]+):)?(.+)\]$/i,tX=/^\d+\/\d+$/,rX=new Set(["px","full","screen"]),sX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=t=>Td(t)||rX.has(t)||tX.test(t),uo=t=>Vu(t,"length",pX),Td=t=>!!t&&!Number.isNaN(Number(t)),ab=t=>Vu(t,"number",Td),vh=t=>!!t&&Number.isInteger(Number(t)),lX=t=>t.endsWith("%")&&Td(t.slice(0,-1)),kt=t=>KD.test(t),ho=t=>sX.test(t),cX=new Set(["length","size","percentage"]),dX=t=>Vu(t,cX,GD),uX=t=>Vu(t,"position",GD),hX=new Set(["image","url"]),fX=t=>Vu(t,hX,xX),mX=t=>Vu(t,"",gX),yh=()=>!0,Vu=(t,e,r)=>{const s=KD.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},pX=t=>nX.test(t)&&!aX.test(t),GD=()=>!1,gX=t=>iX.test(t),xX=t=>oX.test(t),vX=()=>{const t=hr("colors"),e=hr("spacing"),r=hr("blur"),s=hr("brightness"),a=hr("borderColor"),i=hr("borderRadius"),o=hr("borderSpacing"),l=hr("borderWidth"),c=hr("contrast"),d=hr("grayscale"),u=hr("hueRotate"),h=hr("invert"),f=hr("gap"),g=hr("gradientColorStops"),b=hr("gradientColorStopPositions"),x=hr("inset"),j=hr("margin"),y=hr("opacity"),v=hr("padding"),N=hr("saturate"),_=hr("scale"),k=hr("sepia"),P=hr("skew"),C=hr("space"),T=hr("translate"),M=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",kt,e],B=()=>[kt,e],L=()=>["",xi,uo],K=()=>["auto",Td,kt],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",kt],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[Td,kt];return{cacheSize:500,separator:":",theme:{colors:[yh],spacing:[xi,uo],blur:["none","",ho,kt],brightness:me(),borderColor:[t],borderRadius:["none","","full",ho,kt],borderSpacing:B(),borderWidth:L(),contrast:me(),grayscale:z(),hueRotate:me(),invert:z(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[lX,uo],inset:W(),margin:W(),opacity:me(),padding:B(),saturate:me(),scale:me(),sepia:z(),skew:me(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[ho]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),kt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vh,kt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",vh,kt]}],"grid-cols":[{"grid-cols":[yh]}],"col-start-end":[{col:["auto",{span:["full",vh,kt]},kt]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[yh]}],"row-start-end":[{row:["auto",{span:[vh,kt]},kt]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[ho]},ho]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ho,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ab]}],"font-family":[{font:[yh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",Td,ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,uo]}],"underline-offset":[{"underline-offset":["auto",xi,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),uX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[xi,kt]}],"outline-w":[{outline:[xi,uo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[xi,uo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ho,mX]}],"shadow-color":[{shadow:[yh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ho,kt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[vh,kt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xi,uo,ab]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yX=eX(vX);function be(...t){return yX(ID(t))}const bX=uG,XD=m.forwardRef(({className:t,...e},r)=>n.jsx(CD,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));XD.displayName=CD.displayName;const wX=Fu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QD=m.forwardRef(({className:t,variant:e,...r},s)=>n.jsx(ED,{ref:s,className:be(wX({variant:e}),t),...r}));QD.displayName=ED.displayName;const jX=m.forwardRef(({className:t,...e},r)=>n.jsx(AD,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jX.displayName=AD.displayName;const JD=m.forwardRef(({className:t,...e},r)=>n.jsx(RD,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:n.jsx(Mi,{className:"h-4 w-4"})}));JD.displayName=RD.displayName;const YD=m.forwardRef(({className:t,...e},r)=>n.jsx(PD,{ref:r,className:be("text-sm font-semibold",t),...e}));YD.displayName=PD.displayName;const ZD=m.forwardRef(({className:t,...e},r)=>n.jsx(TD,{ref:r,className:be("text-sm opacity-90",t),...e}));ZD.displayName=TD.displayName;function NX(){const{toasts:t}=nr();return n.jsxs(bX,{children:[t.map(function({id:e,title:r,description:s,action:a,...i}){return n.jsxs(QD,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(YD,{children:r}),s&&n.jsx(ZD,{children:s})]}),a,n.jsx(JD,{})]},e)}),n.jsx(XD,{})]})}var _X=h4[" useId ".trim().toString()]||(()=>{}),SX=0;function gn(t){const[e,r]=m.useState(_X());return Ur(()=>{r(s=>s??String(SX++))},[t]),e?`radix-${e}`:""}const kX=["top","right","bottom","left"],sl=Math.min,Sn=Math.max,Yg=Math.round,bp=Math.floor,si=t=>({x:t,y:t}),CX={left:"right",right:"left",bottom:"top",top:"bottom"},EX={start:"end",end:"start"};function Nw(t,e,r){return Sn(t,sl(e,r))}function Gi(t,e){return typeof t=="function"?t(e):t}function Xi(t){return t.split("-")[0]}function Bu(t){return t.split("-")[1]}function H1(t){return t==="x"?"y":"x"}function W1(t){return t==="y"?"height":"width"}function nl(t){return["top","bottom"].includes(Xi(t))?"y":"x"}function K1(t){return H1(nl(t))}function PX(t,e,r){r===void 0&&(r=!1);const s=Bu(t),a=K1(t),i=W1(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Zg(o)),[o,Zg(o)]}function TX(t){const e=Zg(t);return[_w(t),e,_w(e)]}function _w(t){return t.replace(/start|end/g,e=>EX[e])}function AX(t,e,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:s:e?s:a;case"left":case"right":return e?i:o;default:return[]}}function RX(t,e,r,s){const a=Bu(t);let i=AX(Xi(t),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(_w)))),i}function Zg(t){return t.replace(/left|right|bottom|top/g,e=>CX[e])}function OX(t){return{top:0,right:0,bottom:0,left:0,...t}}function eM(t){return typeof t!="number"?OX(t):{top:t,right:t,bottom:t,left:t}}function ex(t){const{x:e,y:r,width:s,height:a}=t;return{width:s,height:a,top:r,left:e,right:e+s,bottom:r+a,x:e,y:r}}function m2(t,e,r){let{reference:s,floating:a}=t;const i=nl(e),o=K1(e),l=W1(o),c=Xi(e),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-a.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-a.width,y:h};break;default:g={x:s.x,y:s.y}}switch(Bu(e)){case"start":g[o]-=f*(r&&d?-1:1);break;case"end":g[o]+=f*(r&&d?-1:1);break}return g}const IX=async(t,e,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:u,y:h}=m2(d,s,c),f=s,g={},b=0;for(let x=0;x<l.length;x++){const{name:j,fn:y}=l[x],{x:v,y:N,data:_,reset:k}=await y({x:u,y:h,initialPlacement:s,placement:f,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});u=v??u,h=N??h,g={...g,[j]:{...g[j],..._}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):k.rects),{x:u,y:h}=m2(d,f,c)),x=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:g}};async function kf(t,e){var r;e===void 0&&(e={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Gi(e,t),b=eM(g),j=l[f?h==="floating"?"reference":"floating":h],y=ex(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},k=ex(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:N,strategy:c}):v);return{top:(y.top-k.top+b.top)/_.y,bottom:(k.bottom-y.bottom+b.bottom)/_.y,left:(y.left-k.left+b.left)/_.x,right:(k.right-y.right+b.right)/_.x}}const DX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Gi(t,e)||{};if(d==null)return{};const h=eM(u),f={x:r,y:s},g=K1(a),b=W1(g),x=await o.getDimensions(d),j=g==="y",y=j?"top":"left",v=j?"bottom":"right",N=j?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[g]-f[g]-i.floating[b],k=f[g]-i.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=P?P[N]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=l.floating[N]||i.floating[b]);const T=_/2-k/2,M=C/2-x[b]/2-1,A=sl(h[y],M),W=sl(h[v],M),B=A,L=C-x[b]-W,K=C/2-x[b]/2+T,X=Nw(B,K,L),G=!c.arrow&&Bu(a)!=null&&K!==X&&i.reference[b]/2-(K<B?A:W)-x[b]/2<0,ae=G?K<B?K-B:K-L:0;return{[g]:f[g]+ae,data:{[g]:X,centerOffset:K-X-ae,...G&&{alignmentOffset:ae}},reset:G}}}),MX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...j}=Gi(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Xi(a),v=nl(l),N=Xi(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(N||!x?[Zg(l)]:TX(l)),P=b!=="none";!f&&P&&k.push(...RX(l,x,b,_));const C=[l,...k],T=await kf(e,j),M=[];let A=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&M.push(T[y]),h){const K=PX(a,o,_);M.push(T[K[0]],T[K[1]])}if(A=[...A,{placement:a,overflows:M}],!M.every(K=>K<=0)){var W,B;const K=(((W=i.flip)==null?void 0:W.index)||0)+1,X=C[K];if(X)return{data:{index:K,overflows:A},reset:{placement:X}};let G=(B=A.filter(ae=>ae.overflows[0]<=0).sort((ae,H)=>ae.overflows[1]-H.overflows[1])[0])==null?void 0:B.placement;if(!G)switch(g){case"bestFit":{var L;const ae=(L=A.filter(H=>{if(P){const z=nl(H.placement);return z===v||z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((H,z)=>H[1]-z[1])[0])==null?void 0:L[0];ae&&(G=ae);break}case"initialPlacement":G=l;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function p2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function g2(t){return kX.some(e=>t[e]>=0)}const LX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...a}=Gi(t,e);switch(s){case"referenceHidden":{const i=await kf(e,{...a,elementContext:"reference"}),o=p2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:g2(o)}}}case"escaped":{const i=await kf(e,{...a,altBoundary:!0}),o=p2(i,r.floating);return{data:{escapedOffsets:o,escaped:g2(o)}}}default:return{}}}}};async function $X(t,e){const{placement:r,platform:s,elements:a}=t,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Xi(r),l=Bu(r),c=nl(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Gi(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const FX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await $X(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},VX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:y,y:v}=j;return{x:y,y:v}}},...c}=Gi(t,e),d={x:r,y:s},u=await kf(e,c),h=nl(Xi(a)),f=H1(h);let g=d[f],b=d[h];if(i){const j=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=g+u[j],N=g-u[y];g=Nw(v,g,N)}if(o){const j=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=b+u[j],N=b-u[y];b=Nw(v,b,N)}const x=l.fn({...e,[f]:g,[h]:b});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[f]:i,[h]:o}}}}}},BX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Gi(t,e),u={x:r,y:s},h=nl(a),f=H1(h);let g=u[f],b=u[h];const x=Gi(l,e),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const N=f==="y"?"height":"width",_=i.reference[f]-i.floating[N]+j.mainAxis,k=i.reference[f]+i.reference[N]-j.mainAxis;g<_?g=_:g>k&&(g=k)}if(d){var y,v;const N=f==="y"?"width":"height",_=["top","left"].includes(Xi(a)),k=i.reference[h]-i.floating[N]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:j.crossAxis),P=i.reference[h]+i.reference[N]+(_?0:((v=o.offset)==null?void 0:v[h])||0)-(_?j.crossAxis:0);b<k?b=k:b>P&&(b=P)}return{[f]:g,[h]:b}}}},zX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Gi(t,e),u=await kf(e,d),h=Xi(a),f=Bu(a),g=nl(a)==="y",{width:b,height:x}=i.floating;let j,y;h==="top"||h==="bottom"?(j=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,j=f==="end"?"top":"bottom");const v=x-u.top-u.bottom,N=b-u.left-u.right,_=sl(x-u[j],v),k=sl(b-u[y],N),P=!e.middlewareData.shift;let C=_,T=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(C=v),P&&!f){const A=Sn(u.left,0),W=Sn(u.right,0),B=Sn(u.top,0),L=Sn(u.bottom,0);g?T=b-2*(A!==0||W!==0?A+W:Sn(u.left,u.right)):C=x-2*(B!==0||L!==0?B+L:Sn(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:C});const M=await o.getDimensions(l.floating);return b!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function xv(){return typeof window<"u"}function zu(t){return tM(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(tM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tM(t){return xv()?t instanceof Node||t instanceof In(t).Node:!1}function Fa(t){return xv()?t instanceof Element||t instanceof In(t).Element:!1}function di(t){return xv()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function x2(t){return!xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}function dm(t){const{overflow:e,overflowX:r,overflowY:s,display:a}=Va(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(a)}function UX(t){return["table","td","th"].includes(zu(t))}function vv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function G1(t){const e=X1(),r=Fa(t)?Va(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function qX(t){let e=al(t);for(;di(e)&&!mu(e);){if(G1(e))return e;if(vv(e))return null;e=al(e)}return null}function X1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mu(t){return["html","body","#document"].includes(zu(t))}function Va(t){return In(t).getComputedStyle(t)}function yv(t){return Fa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function al(t){if(zu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||x2(t)&&t.host||fi(t);return x2(e)?e.host:e}function rM(t){const e=al(t);return mu(e)?t.ownerDocument?t.ownerDocument.body:t.body:di(e)&&dm(e)?e:rM(e)}function Cf(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=rM(t),i=a===((s=t.ownerDocument)==null?void 0:s.body),o=In(a);if(i){const l=Sw(o);return e.concat(o,o.visualViewport||[],dm(a)?a:[],l&&r?Cf(l):[])}return e.concat(a,Cf(a,[],r))}function Sw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sM(t){const e=Va(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=di(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:s,l=Yg(r)!==i||Yg(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Q1(t){return Fa(t)?t:t.contextElement}function Ad(t){const e=Q1(t);if(!di(e))return si(1);const r=e.getBoundingClientRect(),{width:s,height:a,$:i}=sM(e);let o=(i?Yg(r.width):r.width)/s,l=(i?Yg(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const HX=si(0);function nM(t){const e=In(t);return!X1()||!e.visualViewport?HX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WX(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==In(t)?!1:e}function mc(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=Q1(t);let o=si(1);e&&(s?Fa(s)&&(o=Ad(s)):o=Ad(t));const l=WX(i,r,s)?nM(i):si(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=In(i),g=s&&Fa(s)?In(s):s;let b=f,x=Sw(b);for(;x&&s&&g!==b;){const j=Ad(x),y=x.getBoundingClientRect(),v=Va(x),N=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*j.x,_=y.top+(x.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,d*=j.y,u*=j.x,h*=j.y,c+=N,d+=_,b=In(x),x=Sw(b)}}return ex({width:u,height:h,x:c,y:d})}function J1(t,e){const r=yv(t).scrollLeft;return e?e.left+r:mc(fi(t)).left+r}function aM(t,e,r){r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=s.left+e.scrollLeft-(r?0:J1(t,s)),i=s.top+e.scrollTop;return{x:a,y:i}}function KX(t){let{elements:e,rect:r,offsetParent:s,strategy:a}=t;const i=a==="fixed",o=fi(s),l=e?vv(e.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=si(1);const u=si(0),h=di(s);if((h||!h&&!i)&&((zu(s)!=="body"||dm(o))&&(c=yv(s)),di(s))){const g=mc(s);d=Ad(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const f=o&&!h&&!i?aM(o,c,!0):si(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function GX(t){return Array.from(t.getClientRects())}function XX(t){const e=fi(t),r=yv(t),s=t.ownerDocument.body,a=Sn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Sn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+J1(t);const l=-r.scrollTop;return Va(s).direction==="rtl"&&(o+=Sn(e.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function QX(t,e){const r=In(t),s=fi(t),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=X1();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function JX(t,e){const r=mc(t,!0,e==="fixed"),s=r.top+t.clientTop,a=r.left+t.clientLeft,i=di(t)?Ad(t):si(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function v2(t,e,r){let s;if(e==="viewport")s=QX(t,r);else if(e==="document")s=XX(fi(t));else if(Fa(e))s=JX(e,r);else{const a=nM(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ex(s)}function iM(t,e){const r=al(t);return r===e||!Fa(r)||mu(r)?!1:Va(r).position==="fixed"||iM(r,e)}function YX(t,e){const r=e.get(t);if(r)return r;let s=Cf(t,[],!1).filter(l=>Fa(l)&&zu(l)!=="body"),a=null;const i=Va(t).position==="fixed";let o=i?al(t):t;for(;Fa(o)&&!mu(o);){const l=Va(o),c=G1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||dm(o)&&!c&&iM(t,o))?s=s.filter(u=>u!==o):a=l,o=al(o)}return e.set(t,s),s}function ZX(t){let{element:e,boundary:r,rootBoundary:s,strategy:a}=t;const o=[...r==="clippingAncestors"?vv(e)?[]:YX(e,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=v2(e,u,a);return d.top=Sn(h.top,d.top),d.right=sl(h.right,d.right),d.bottom=sl(h.bottom,d.bottom),d.left=Sn(h.left,d.left),d},v2(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eQ(t){const{width:e,height:r}=sM(t);return{width:e,height:r}}function tQ(t,e,r){const s=di(e),a=fi(e),i=r==="fixed",o=mc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=si(0);if(s||!s&&!i)if((zu(e)!=="body"||dm(a))&&(l=yv(e)),s){const f=mc(e,!0,i,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else a&&(c.x=J1(a));const d=a&&!s&&!i?aM(a,l):si(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function ib(t){return Va(t).position==="static"}function y2(t,e){if(!di(t)||Va(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fi(t)===r&&(r=r.ownerDocument.body),r}function oM(t,e){const r=In(t);if(vv(t))return r;if(!di(t)){let a=al(t);for(;a&&!mu(a);){if(Fa(a)&&!ib(a))return a;a=al(a)}return r}let s=y2(t,e);for(;s&&UX(s)&&ib(s);)s=y2(s,e);return s&&mu(s)&&ib(s)&&!G1(s)?r:s||qX(t)||r}const rQ=async function(t){const e=this.getOffsetParent||oM,r=this.getDimensions,s=await r(t.floating);return{reference:tQ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function sQ(t){return Va(t).direction==="rtl"}const nQ={convertOffsetParentRelativeRectToViewportRelativeRect:KX,getDocumentElement:fi,getClippingRect:ZX,getOffsetParent:oM,getElementRects:rQ,getClientRects:GX,getDimensions:eQ,getScale:Ad,isElement:Fa,isRTL:sQ};function lM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aQ(t,e){let r=null,s;const a=fi(t);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||e(),!f||!g)return;const b=bp(h),x=bp(a.clientWidth-(u+f)),j=bp(a.clientHeight-(h+g)),y=bp(u),N={rootMargin:-b+"px "+-x+"px "+-j+"px "+-y+"px",threshold:Sn(0,sl(1,c))||1};let _=!0;function k(P){const C=P[0].intersectionRatio;if(C!==c){if(!_)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!lM(d,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(k,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,N)}r.observe(t)}return o(!0),i}function iQ(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Q1(t),u=a||i?[...d?Cf(d):[],...Cf(e)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?aQ(d,r):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let b,x=c?mc(t):null;c&&j();function j(){const y=mc(t);x&&!lM(x,y)&&r(),x=y,b=requestAnimationFrame(j)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const oQ=FX,lQ=VX,cQ=MX,dQ=zX,uQ=LX,b2=DX,hQ=BX,fQ=(t,e,r)=>{const s=new Map,a={platform:nQ,...r},i={...a.platform,_c:s};return IX(t,e,{...a,platform:i})};var rg=typeof document<"u"?m.useLayoutEffect:m.useEffect;function tx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!tx(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&t.$$typeof)&&!tx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function w2(t,e){const r=cM(t);return Math.round(e*r)/r}function ob(t){const e=m.useRef(t);return rg(()=>{e.current=t}),e}function mQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=m.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=m.useState(s);tx(f,s)||g(s);const[b,x]=m.useState(null),[j,y]=m.useState(null),v=m.useCallback(H=>{H!==P.current&&(P.current=H,x(H))},[]),N=m.useCallback(H=>{H!==C.current&&(C.current=H,y(H))},[]),_=i||b,k=o||j,P=m.useRef(null),C=m.useRef(null),T=m.useRef(u),M=c!=null,A=ob(c),W=ob(a),B=ob(d),L=m.useCallback(()=>{if(!P.current||!C.current)return;const H={placement:e,strategy:r,middleware:f};W.current&&(H.platform=W.current),fQ(P.current,C.current,H).then(z=>{const Z={...z,isPositioned:B.current!==!1};K.current&&!tx(T.current,Z)&&(T.current=Z,_c.flushSync(()=>{h(Z)}))})},[f,e,r,W,B]);rg(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[d]);const K=m.useRef(!1);rg(()=>(K.current=!0,()=>{K.current=!1}),[]),rg(()=>{if(_&&(P.current=_),k&&(C.current=k),_&&k){if(A.current)return A.current(_,k,L);L()}},[_,k,L,A,M]);const X=m.useMemo(()=>({reference:P,floating:C,setReference:v,setFloating:N}),[v,N]),G=m.useMemo(()=>({reference:_,floating:k}),[_,k]),ae=m.useMemo(()=>{const H={position:r,left:0,top:0};if(!G.floating)return H;const z=w2(G.floating,u.x),Z=w2(G.floating,u.y);return l?{...H,transform:"translate("+z+"px, "+Z+"px)",...cM(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:Z}},[r,l,G.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:L,refs:X,elements:G,floatingStyles:ae}),[u,L,X,G,ae])}const pQ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:a}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?b2({element:s.current,padding:a}).fn(r):{}:s?b2({element:s,padding:a}).fn(r):{}}}},gQ=(t,e)=>({...oQ(t),options:[t,e]}),xQ=(t,e)=>({...lQ(t),options:[t,e]}),vQ=(t,e)=>({...hQ(t),options:[t,e]}),yQ=(t,e)=>({...cQ(t),options:[t,e]}),bQ=(t,e)=>({...dQ(t),options:[t,e]}),wQ=(t,e)=>({...uQ(t),options:[t,e]}),jQ=(t,e)=>({...pQ(t),options:[t,e]});var NQ="Arrow",dM=m.forwardRef((t,e)=>{const{children:r,width:s=10,height:a=5,...i}=t;return n.jsx(Pe.svg,{...i,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});dM.displayName=NQ;var _Q=dM;function um(t){const[e,r]=m.useState(void 0);return Ur(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Y1="Popper",[uM,xl]=Mr(Y1),[SQ,hM]=uM(Y1),fM=t=>{const{__scopePopper:e,children:r}=t,[s,a]=m.useState(null);return n.jsx(SQ,{scope:e,anchor:s,onAnchorChange:a,children:r})};fM.displayName=Y1;var mM="PopperAnchor",pM=m.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...a}=t,i=hM(mM,r),o=m.useRef(null),l=Qe(e,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Pe.div,{...a,ref:l})});pM.displayName=mM;var Z1="PopperContent",[kQ,CQ]=uM(Z1),gM=m.forwardRef((t,e)=>{var we,ht,ct,mt,ut,Je;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:b,...x}=t,j=hM(Z1,r),[y,v]=m.useState(null),N=Qe(e,ar=>v(ar)),[_,k]=m.useState(null),P=um(_),C=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,M=s+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(d)?d:[d],B=W.length>0,L={padding:A,boundary:W.filter(PQ),altBoundary:B},{refs:K,floatingStyles:X,placement:G,isPositioned:ae,middlewareData:H}=mQ({strategy:"fixed",placement:M,whileElementsMounted:(...ar)=>iQ(...ar,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[gQ({mainAxis:a+T,alignmentAxis:o}),c&&xQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vQ():void 0,...L}),c&&yQ({...L}),bQ({...L,apply:({elements:ar,rects:jt,availableWidth:qr,availableHeight:xt})=>{const{width:Pr,height:Hr}=jt.reference,Jt=ar.floating.style;Jt.setProperty("--radix-popper-available-width",`${qr}px`),Jt.setProperty("--radix-popper-available-height",`${xt}px`),Jt.setProperty("--radix-popper-anchor-width",`${Pr}px`),Jt.setProperty("--radix-popper-anchor-height",`${Hr}px`)}}),_&&jQ({element:_,padding:l}),TQ({arrowWidth:C,arrowHeight:T}),f&&wQ({strategy:"referenceHidden",...L})]}),[z,Z]=yM(G),me=vr(b);Ur(()=>{ae&&(me==null||me())},[ae,me]);const Se=(we=H.arrow)==null?void 0:we.x,tt=(ht=H.arrow)==null?void 0:ht.y,Pt=((ct=H.arrow)==null?void 0:ct.centerOffset)!==0,[Ae,wt]=m.useState();return Ur(()=>{y&&wt(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ae?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(mt=H.transformOrigin)==null?void 0:mt.x,(ut=H.transformOrigin)==null?void 0:ut.y].join(" "),...((Je=H.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(kQ,{scope:r,placedSide:z,onArrowChange:k,arrowX:Se,arrowY:tt,shouldHideArrow:Pt,children:n.jsx(Pe.div,{"data-side":z,"data-align":Z,...x,ref:N,style:{...x.style,animation:ae?void 0:"none"}})})})});gM.displayName=Z1;var xM="PopperArrow",EQ={top:"bottom",right:"left",bottom:"top",left:"right"},vM=m.forwardRef(function(e,r){const{__scopePopper:s,...a}=e,i=CQ(xM,s),o=EQ[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(_Q,{...a,ref:r,style:{...a.style,display:"block"}})})});vM.displayName=xM;function PQ(t){return t!==null}var TQ=t=>({name:"transformOrigin",options:t,fn(e){var j,y,v;const{placement:r,rects:s,middlewareData:a}=e,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=yM(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,g=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=o?h:`${f}px`,x=`${-c}px`):d==="top"?(b=o?h:`${f}px`,x=`${s.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=o?h:`${g}px`):d==="left"&&(b=`${s.floating.width+c}px`,x=o?h:`${g}px`),{data:{x:b,y:x}}}});function yM(t){const[e,r="center"]=t.split("-");return[e,r]}var bv=fM,hm=pM,wv=gM,jv=vM,[Nv,epe]=Mr("Tooltip",[xl]),_v=xl(),bM="TooltipProvider",AQ=700,kw="tooltip.open",[RQ,eN]=Nv(bM),wM=t=>{const{__scopeTooltip:e,delayDuration:r=AQ,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=t,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(RQ,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};wM.displayName=bM;var Sv="Tooltip",[OQ,kv]=Nv(Sv),jM=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=eN(Sv,t.__scopeTooltip),d=_v(e),[u,h]=m.useState(null),f=gn(),g=m.useRef(0),b=o??c.disableHoverableContent,x=l??c.delayDuration,j=m.useRef(!1),[y=!1,v]=Ds({prop:s,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(kw))):c.onClose(),i==null||i(C)}}),N=m.useMemo(()=>y?j.current?"delayed-open":"instant-open":"closed",[y]),_=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,j.current=!1,v(!0)},[v]),k=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v(!1)},[v]),P=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{j.current=!0,v(!0),g.current=0},x)},[x,v]);return m.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),n.jsx(bv,{...d,children:n.jsx(OQ,{scope:e,contentId:f,open:y,stateAttribute:N,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?P():_()},[c.isOpenDelayedRef,P,_]),onTriggerLeave:m.useCallback(()=>{b?k():(window.clearTimeout(g.current),g.current=0)},[k,b]),onOpen:_,onClose:k,disableHoverableContent:b,children:r})})};jM.displayName=Sv;var Cw="TooltipTrigger",NM=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,a=kv(Cw,r),i=eN(Cw,r),o=_v(r),l=m.useRef(null),c=Qe(e,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(hm,{asChild:!0,...o,children:n.jsx(Pe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ue(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(t.onFocus,()=>{d.current||a.onOpen()}),onBlur:ue(t.onBlur,a.onClose),onClick:ue(t.onClick,a.onClose)})})});NM.displayName=Cw;var IQ="TooltipPortal",[tpe,DQ]=Nv(IQ,{forceMount:void 0}),pu="TooltipContent",_M=m.forwardRef((t,e)=>{const r=DQ(pu,t.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=t,o=kv(pu,t.__scopeTooltip);return n.jsx(Yr,{present:s||o.open,children:o.disableHoverableContent?n.jsx(SM,{side:a,...i,ref:e}):n.jsx(MQ,{side:a,...i,ref:e})})}),MQ=m.forwardRef((t,e)=>{const r=kv(pu,t.__scopeTooltip),s=eN(pu,t.__scopeTooltip),a=m.useRef(null),i=Qe(e,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=s,f=m.useCallback(()=>{l(null),h(!1)},[h]),g=m.useCallback((b,x)=>{const j=b.currentTarget,y={x:b.clientX,y:b.clientY},v=BQ(y,j.getBoundingClientRect()),N=zQ(y,v),_=UQ(x.getBoundingClientRect()),k=HQ([...N,..._]);l(k),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const b=j=>g(j,u),x=j=>g(j,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",x)}}},[c,u,g,f]),m.useEffect(()=>{if(o){const b=x=>{const j=x.target,y={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(j))||(u==null?void 0:u.contains(j)),N=!qQ(y,o);v?f():N&&(f(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,f]),n.jsx(SM,{...t,ref:i})}),[LQ,$Q]=Nv(Sv,{isInside:!1}),FQ=dD("TooltipContent"),SM=m.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=kv(pu,r),d=_v(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(kw,u),()=>document.removeEventListener(kw,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),n.jsx(kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(wv,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(FQ,{children:s}),n.jsx(LQ,{scope:r,isInside:!0,children:n.jsx(KK,{id:c.contentId,role:"tooltip",children:a||s})})]})})});_M.displayName=pu;var kM="TooltipArrow",VQ=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,a=_v(r);return $Q(kM,r).isInside?null:n.jsx(jv,{...a,...s,ref:e})});VQ.displayName=kM;function BQ(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function zQ(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function UQ(t){const{top:e,right:r,bottom:s,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:s},{x:a,y:s}]}function qQ(t,e){const{x:r,y:s}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function HQ(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),WQ(e)}function WQ(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var KQ=wM,GQ=jM,XQ=NM,CM=_M;const EM=KQ,QQ=GQ,JQ=XQ,PM=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>n.jsx(CM,{ref:s,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));PM.displayName=CM.displayName;const lb=768;function YQ(){const[t,e]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${lb-1}px)`),s=()=>{e(window.innerWidth<lb)};return r.addEventListener("change",s),e(window.innerWidth<lb),()=>r.removeEventListener("change",s)},[]),!!t}const tN=Fu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),D=m.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...a},i)=>{const o=s?cv:"button";return n.jsx(o,{className:be(tN({variant:e,size:r,className:t})),ref:i,...a})});D.displayName="Button";const ft=m.forwardRef(({className:t,type:e,...r},s)=>n.jsx("input",{type:e,className:be("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));ft.displayName="Input";var ZQ="Separator",j2="horizontal",eJ=["horizontal","vertical"],TM=m.forwardRef((t,e)=>{const{decorative:r,orientation:s=j2,...a}=t,i=tJ(s)?s:j2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Pe.div,{"data-orientation":i,...l,...a,ref:e})});TM.displayName=ZQ;function tJ(t){return eJ.includes(t)}var AM=TM;const vs=m.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...s},a)=>n.jsx(AM,{ref:a,decorative:r,orientation:e,className:be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));vs.displayName=AM.displayName;var cb="focusScope.autoFocusOnMount",db="focusScope.autoFocusOnUnmount",N2={bubbles:!1,cancelable:!0},rJ="FocusScope",fm=m.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=m.useState(null),d=vr(a),u=vr(i),h=m.useRef(null),f=Qe(e,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(N){if(g.paused||!l)return;const _=N.target;l.contains(_)?h.current=_:go(h.current,{select:!0})},j=function(N){if(g.paused||!l)return;const _=N.relatedTarget;_!==null&&(l.contains(_)||go(h.current,{select:!0}))},y=function(N){if(document.activeElement===document.body)for(const k of N)k.removedNodes.length>0&&go(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),v.disconnect()}}},[s,l,g.paused]),m.useEffect(()=>{if(l){S2.add(g);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(cb,N2);l.addEventListener(cb,d),l.dispatchEvent(y),y.defaultPrevented||(sJ(lJ(RM(l)),{select:!0}),document.activeElement===x&&go(l))}return()=>{l.removeEventListener(cb,d),setTimeout(()=>{const y=new CustomEvent(db,N2);l.addEventListener(db,u),l.dispatchEvent(y),y.defaultPrevented||go(x??document.body,{select:!0}),l.removeEventListener(db,u),S2.remove(g)},0)}}},[l,d,u,g]);const b=m.useCallback(x=>{if(!r&&!s||g.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(j&&y){const v=x.currentTarget,[N,_]=nJ(v);N&&_?!x.shiftKey&&y===_?(x.preventDefault(),r&&go(N,{select:!0})):x.shiftKey&&y===N&&(x.preventDefault(),r&&go(_,{select:!0})):y===v&&x.preventDefault()}},[r,s,g.paused]);return n.jsx(Pe.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});fm.displayName=rJ;function sJ(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(go(s,{select:e}),document.activeElement!==r)return}function nJ(t){const e=RM(t),r=_2(e,t),s=_2(e.reverse(),t);return[r,s]}function RM(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _2(t,e){for(const r of t)if(!aJ(r,{upTo:e}))return r}function aJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iJ(t){return t instanceof HTMLInputElement&&"select"in t}function go(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&iJ(t)&&e&&t.select()}}var S2=oJ();function oJ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=k2(t,e),t.unshift(e)},remove(e){var r;t=k2(t,e),(r=t[0])==null||r.resume()}}}function k2(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function lJ(t){return t.filter(e=>e.tagName!=="A")}var ub=0;function Cv(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??C2()),document.body.insertAdjacentElement("beforeend",t[1]??C2()),ub++,()=>{ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ub--}},[])}function C2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sg="right-scroll-bar-position",ng="width-before-scroll-bar",cJ="with-scroll-bars-hidden",dJ="--removed-body-scroll-bar-size";function hb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uJ(t,e){var r=m.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=e,r.facade}var hJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,E2=new WeakMap;function fJ(t,e){var r=uJ(null,function(s){return t.forEach(function(a){return hb(a,s)})});return hJ(function(){var s=E2.get(r);if(s){var a=new Set(s),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||hb(l,null)}),i.forEach(function(l){a.has(l)||hb(l,o)})}E2.set(r,t)},[t]),r}function mJ(t){return t}function pJ(t,e){e===void 0&&(e=mJ);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function gJ(t){t===void 0&&(t={});var e=pJ(null);return e.options=ra({async:!0,ssr:!1},t),e}var OM=function(t){var e=t.sideCar,r=pl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,ra({},r))};OM.isSideCarExport=!0;function xJ(t,e){return t.useMedium(e),OM}var IM=gJ(),fb=function(){},Ev=m.forwardRef(function(t,e){var r=m.useRef(null),s=m.useState({onScrollCapture:fb,onWheelCapture:fb,onTouchMoveCapture:fb}),a=s[0],i=s[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,b=t.inert,x=t.allowPinchZoom,j=t.as,y=j===void 0?"div":j,v=t.gapMode,N=pl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,k=fJ([r,e]),P=ra(ra({},N),a);return m.createElement(m.Fragment,null,u&&m.createElement(_,{sideCar:IM,removeScrollBar:d,shards:h,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:v}),o?m.cloneElement(m.Children.only(l),ra(ra({},P),{ref:k})):m.createElement(y,ra({},P,{className:c,ref:k}),l))});Ev.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ev.classNames={fullWidth:ng,zeroRight:sg};var vJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vJ();return e&&t.setAttribute("nonce",e),t}function bJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jJ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=yJ())&&(bJ(e,r),wJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NJ=function(){var t=jJ();return function(e,r){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},DM=function(){var t=NJ(),e=function(r){var s=r.styles,a=r.dynamic;return t(s,a),null};return e},_J={left:0,top:0,right:0,gap:0},mb=function(t){return parseInt(t||"",10)||0},SJ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[mb(r),mb(s),mb(a)]},kJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _J;var e=SJ(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},CJ=DM(),Rd="data-scroll-locked",EJ=function(t,e,r,s){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(cJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Rd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ng,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Rd,`] {
    `).concat(dJ,": ").concat(l,`px;
  }
`)},P2=function(){var t=parseInt(document.body.getAttribute(Rd)||"0",10);return isFinite(t)?t:0},PJ=function(){m.useEffect(function(){return document.body.setAttribute(Rd,(P2()+1).toString()),function(){var t=P2()-1;t<=0?document.body.removeAttribute(Rd):document.body.setAttribute(Rd,t.toString())}},[])},TJ=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,a=s===void 0?"margin":s;PJ();var i=m.useMemo(function(){return kJ(a)},[a]);return m.createElement(CJ,{styles:EJ(i,!e,a,r?"":"!important")})},Ew=!1;if(typeof window<"u")try{var wp=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,wp)}catch{Ew=!1}var Uc=Ew?{passive:!1}:!1,AJ=function(t){return t.tagName==="TEXTAREA"},MM=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!AJ(t)&&r[e]==="visible")},RJ=function(t){return MM(t,"overflowY")},OJ=function(t){return MM(t,"overflowX")},T2=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=LM(t,s);if(a){var i=$M(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},IJ=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},DJ=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},LM=function(t,e){return t==="v"?RJ(e):OJ(e)},$M=function(t,e){return t==="v"?IJ(e):DJ(e)},MJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},LJ=function(t,e,r,s,a){var i=MJ(t,window.getComputedStyle(e).direction),o=i*s,l=r.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var g=$M(t,l),b=g[0],x=g[1],j=g[2],y=x-j-i*b;(b||y)&&LM(t,l)&&(h+=y,f+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},jp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},A2=function(t){return[t.deltaX,t.deltaY]},R2=function(t){return t&&"current"in t?t.current:t},$J=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VJ=0,qc=[];function BJ(t){var e=m.useRef([]),r=m.useRef([0,0]),s=m.useRef(),a=m.useState(VJ++)[0],i=m.useState(DM)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=_1([t.lockRef.current],(t.shards||[]).map(R2),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=jp(x),v=r.current,N="deltaX"in x?x.deltaX:v[0]-y[0],_="deltaY"in x?x.deltaY:v[1]-y[1],k,P=x.target,C=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in x&&C==="h"&&P.type==="range")return!1;var T=T2(C,P);if(!T)return!0;if(T?k=C:(k=C==="v"?"h":"v",T=T2(C,P)),!T)return!1;if(!s.current&&"changedTouches"in x&&(N||_)&&(s.current=k),!k)return!0;var M=s.current||k;return LJ(M,j,x,M==="h"?N:_,!0)},[]),c=m.useCallback(function(x){var j=x;if(!(!qc.length||qc[qc.length-1]!==i)){var y="deltaY"in j?A2(j):jp(j),v=e.current.filter(function(k){return k.name===j.type&&(k.target===j.target||j.target===k.shadowParent)&&$J(k.delta,y)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var N=(o.current.shards||[]).map(R2).filter(Boolean).filter(function(k){return k.contains(j.target)}),_=N.length>0?l(j,N[0]):!o.current.noIsolation;_&&j.cancelable&&j.preventDefault()}}},[]),d=m.useCallback(function(x,j,y,v){var N={name:x,delta:j,target:y,should:v,shadowParent:zJ(y)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(_){return _!==N})},1)},[]),u=m.useCallback(function(x){r.current=jp(x),s.current=void 0},[]),h=m.useCallback(function(x){d(x.type,A2(x),x.target,l(x,t.lockRef.current))},[]),f=m.useCallback(function(x){d(x.type,jp(x),x.target,l(x,t.lockRef.current))},[]);m.useEffect(function(){return qc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Uc),document.addEventListener("touchmove",c,Uc),document.addEventListener("touchstart",u,Uc),function(){qc=qc.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Uc),document.removeEventListener("touchmove",c,Uc),document.removeEventListener("touchstart",u,Uc)}},[]);var g=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:FJ(a)}):null,g?m.createElement(TJ,{gapMode:t.gapMode}):null)}function zJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const UJ=xJ(IM,BJ);var mm=m.forwardRef(function(t,e){return m.createElement(Ev,ra({},t,{ref:e,sideCar:UJ}))});mm.classNames=Ev.classNames;var qJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hc=new WeakMap,Np=new WeakMap,_p={},pb=0,FM=function(t){return t&&(t.host||FM(t.parentNode))},HJ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=FM(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},WJ=function(t,e,r,s){var a=HJ(e,Array.isArray(t)?t:[t]);_p[r]||(_p[r]=new WeakMap);var i=_p[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(s),b=g!==null&&g!=="false",x=(Hc.get(f)||0)+1,j=(i.get(f)||0)+1;Hc.set(f,x),i.set(f,j),o.push(f),x===1&&b&&Np.set(f,!0),j===1&&f.setAttribute(r,"true"),b||f.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(e),l.clear(),pb++,function(){o.forEach(function(h){var f=Hc.get(h)-1,g=i.get(h)-1;Hc.set(h,f),i.set(h,g),f||(Np.has(h)||h.removeAttribute(s),Np.delete(h)),g||h.removeAttribute(r)}),pb--,pb||(Hc=new WeakMap,Hc=new WeakMap,Np=new WeakMap,_p={})}},Pv=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=qJ(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),WJ(s,a,r,"aria-hidden")):function(){return null}},rN="Dialog",[VM,BM]=Mr(rN),[KJ,za]=VM(rN),zM=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=Ds({prop:s,defaultProp:a,onChange:i});return n.jsx(KJ,{scope:e,triggerRef:l,contentRef:c,contentId:gn(),titleId:gn(),descriptionId:gn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};zM.displayName=rN;var UM="DialogTrigger",qM=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=za(UM,r),i=Qe(e,a.triggerRef);return n.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aN(a.open),...s,ref:i,onClick:ue(t.onClick,a.onOpenToggle)})});qM.displayName=UM;var sN="DialogPortal",[GJ,HM]=VM(sN,{forceMount:void 0}),WM=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:a}=t,i=za(sN,e);return n.jsx(GJ,{scope:e,forceMount:r,children:m.Children.map(s,o=>n.jsx(Yr,{present:r||i.open,children:n.jsx($u,{asChild:!0,container:a,children:o})}))})};WM.displayName=sN;var rx="DialogOverlay",KM=m.forwardRef((t,e)=>{const r=HM(rx,t.__scopeDialog),{forceMount:s=r.forceMount,...a}=t,i=za(rx,t.__scopeDialog);return i.modal?n.jsx(Yr,{present:s||i.open,children:n.jsx(QJ,{...a,ref:e})}):null});KM.displayName=rx;var XJ=tl("DialogOverlay.RemoveScroll"),QJ=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=za(rx,r);return n.jsx(mm,{as:XJ,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Pe.div,{"data-state":aN(a.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),pc="DialogContent",GM=m.forwardRef((t,e)=>{const r=HM(pc,t.__scopeDialog),{forceMount:s=r.forceMount,...a}=t,i=za(pc,t.__scopeDialog);return n.jsx(Yr,{present:s||i.open,children:i.modal?n.jsx(JJ,{...a,ref:e}):n.jsx(YJ,{...a,ref:e})})});GM.displayName=pc;var JJ=m.forwardRef((t,e)=>{const r=za(pc,t.__scopeDialog),s=m.useRef(null),a=Qe(e,r.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return Pv(i)},[]),n.jsx(XM,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),YJ=m.forwardRef((t,e)=>{const r=za(pc,t.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return n.jsx(XM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),XM=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=za(pc,r),c=m.useRef(null),d=Qe(e,c);return Cv(),n.jsxs(n.Fragment,{children:[n.jsx(fm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(kc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":aN(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(eY,{titleId:l.titleId}),n.jsx(rY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),nN="DialogTitle",QM=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=za(nN,r);return n.jsx(Pe.h2,{id:a.titleId,...s,ref:e})});QM.displayName=nN;var JM="DialogDescription",YM=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=za(JM,r);return n.jsx(Pe.p,{id:a.descriptionId,...s,ref:e})});YM.displayName=JM;var ZM="DialogClose",e3=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=za(ZM,r);return n.jsx(Pe.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,()=>a.onOpenChange(!1))})});e3.displayName=ZM;function aN(t){return t?"open":"closed"}var t3="DialogTitleWarning",[ZJ,r3]=SK(t3,{contentName:pc,titleName:nN,docsSlug:"dialog"}),eY=({titleId:t})=>{const e=r3(t3),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},tY="DialogDescriptionWarning",rY=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r3(tY).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},iN=zM,oN=qM,lN=WM,pm=KM,gm=GM,xm=QM,vm=YM,ym=e3;const Fo=iN,Wh=oN,fo=ym,sY=lN,s3=m.forwardRef(({className:t,...e},r)=>n.jsx(pm,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));s3.displayName=pm.displayName;const nY=Fu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ti=m.forwardRef(({side:t="right",className:e,children:r,...s},a)=>n.jsxs(sY,{children:[n.jsx(s3,{}),n.jsxs(gm,{ref:a,className:be(nY({side:t}),e),...s,children:[r,n.jsxs(ym,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Mi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ti.displayName=gm.displayName;const Ai=({className:t,...e})=>n.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ai.displayName="SheetHeader";const Ri=m.forwardRef(({className:t,...e},r)=>n.jsx(xm,{ref:r,className:be("text-lg font-semibold text-foreground",t),...e}));Ri.displayName=xm.displayName;const sx=m.forwardRef(({className:t,...e},r)=>n.jsx(vm,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));sx.displayName=vm.displayName;const aY="sidebar_state",iY=60*60*24*7,oY="16rem",lY="18rem",cY="3rem",dY="b",n3=m.createContext(null);function Tv(){const t=m.useContext(n3);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function uY({defaultOpen:t=!0,open:e,onOpenChange:r,className:s,style:a,children:i,...o}){const l=YQ(),[c,d]=m.useState(!1),[u,h]=m.useState(t),f=e??u,g=m.useCallback(y=>{const v=typeof y=="function"?y(f):y;r?r(v):h(v),document.cookie=`${aY}=${v}; path=/; max-age=${iY}`},[r,f]),b=m.useCallback(()=>l?d(y=>!y):g(y=>!y),[l,g,d]);m.useEffect(()=>{const y=v=>{v.key===dY&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),b())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[b]);const x=f?"expanded":"collapsed",j=m.useMemo(()=>({state:x,open:f,setOpen:g,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:b}),[x,f,g,l,c,d,b]);return n.jsx(n3.Provider,{value:j,children:n.jsx(EM,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":oY,"--sidebar-width-icon":cY,...a},className:be("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...o,children:i})})})}function hY({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:s,children:a,...i}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=Tv();return r==="none"?n.jsx("div",{"data-slot":"sidebar",className:be("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",s),...i,children:a}):o?n.jsx(Fo,{open:c,onOpenChange:d,...i,children:n.jsxs(Ti,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":lY},side:t,children:[n.jsxs(Ai,{className:"sr-only",children:[n.jsx(Ri,{children:"Sidebar"}),n.jsx(sx,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:be("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),n.jsx("div",{"data-slot":"sidebar-container",className:be("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function fY({className:t,onClick:e,...r}){const{toggleSidebar:s}=Tv();return n.jsxs(D,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:be("h-7 w-7",t),onClick:a=>{e==null||e(a),s()},...r,children:[n.jsx(PG,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function mY({className:t,...e}){return n.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:be("flex flex-col gap-2 p-2",t),...e})}function pY({className:t,...e}){return n.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:be("flex flex-col gap-2 p-2",t),...e})}function gY({className:t,...e}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:be("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function Sp({className:t,...e}){return n.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:be("relative flex w-full min-w-0 flex-col p-2",t),...e})}function gb({className:t,asChild:e=!1,...r}){const s=e?cv:"div";return n.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:be("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})}function kp({className:t,...e}){return n.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:be("w-full text-sm",t),...e})}function Cp({className:t,...e}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:be("flex w-full min-w-0 flex-col gap-1",t),...e})}function Wc({className:t,...e}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:be("group/menu-item relative",t),...e})}const xY=Fu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Kc({asChild:t=!1,isActive:e=!1,variant:r="default",size:s="default",tooltip:a,className:i,...o}){const l=t?cv:"button",{isMobile:c,state:d}=Tv(),u=n.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":e,className:be(xY({variant:r,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(QQ,{children:[n.jsx(JQ,{asChild:!0,children:u}),n.jsx(PM,{side:"right",align:"center",hidden:d!=="collapsed"||c,...a})]})):u}function Vn(){const[t,e]=m.useState(null),[r,s]=m.useState(null),[a,i]=m.useState(!0),o=tv();m.useEffect(()=>{(async()=>{const{data:{session:x}}=await bs.auth.getSession();if(x){const j=Date.now();if((x.expires_at||0)*1e3<j+6e4){const{data:v}=await bs.auth.refreshSession();v.session?(e(v.session),s(v.session.user)):(await bs.auth.signOut(),e(null),s(null))}else e(x),s(x.user)}i(!1)})();const{data:{subscription:b}}=bs.auth.onAuthStateChange(async(x,j)=>{x==="TOKEN_REFRESHED"&&j?(e(j),s(j.user)):x==="SIGNED_IN"&&j?(e(j),s(j.user),o.invalidateQueries({queryKey:["/api/auth/user"]})):x==="SIGNED_OUT"?(e(null),s(null),o.invalidateQueries({queryKey:["/api/auth/user"]})):(e(j),s((j==null?void 0:j.user)??null)),i(!1)});return()=>b.unsubscribe()},[o]);const{data:l,isLoading:c,isError:d}=Et({queryKey:["/api/auth/user"],queryFn:async()=>{const g=await wf();if(!g.Authorization)return null;const b=await Xs("/api/auth/user",{headers:g});if(b.status===401){const{data:x}=await bs.auth.refreshSession();if(!x.session)return await bs.auth.signOut(),null;const j=await wf(),y=await Xs("/api/auth/user",{headers:j});return y.ok?y.json():null}if(!b.ok)throw new Error("Failed to fetch user");return b.json()},enabled:!!t,retry:1,retryDelay:1e3,staleTime:3e4,refetchOnWindowFocus:!1}),u=async()=>{e(null),s(null),await bs.auth.signOut(),o.clear(),window.location.href="/login"},h=a,f=!!(t!=null&&t.user);return{user:l,supabaseUser:r,session:t,isLoading:h,isAuthenticated:f,signOut:u}}const a3={pt:{common:{appName:"BbliaFS",loading:"Carregando...",error:"Erro",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",search:"Buscar",close:"Fechar",tryAgainLater:"Tente novamente mais tarde."},nav:{home:"Incio",bible:"Bblia",plans:"Planos",discover:"Descubra",you:"Voc",progress:"Progresso",prayers:"Oraes",aiStudy:"Estudo com IA",podcasts:"BbliaFS Rdio",teacherMode:"Modo Professor",settings:"Configuraes",compareVersions:"Comparar Verses",studyGroups:"Grupos de Estudo"},sections:{mainMenu:"Menu Principal",study:"Estudo",teaching:"Ensino",premiumStudy:"Estudo Premium",about:"Sobre"},bible:{readChapter:"Ler Captulo",bookmarks:"Favoritos",settings:"Configuraes",selectBook:"Selecione um livro",selectChapter:"Selecione um captulo",selectVersion:"Verso da Bblia",markAsRead:"Marcar como Lido",offlineMode:"Modo Offline",searchVerses:"Buscar versculos",contentNotAvailableOffline:"Contedo no disponvel offline",addNote:"Adicionar Nota",shareVerse:"Compartilhar Versculo",copyText:"Copiar Texto",downloadImage:"Baixar Imagem",chooseColor:"Escolher Cor",saveNote:"Salvar Nota",cancel:"Cancelar",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa",orange:"Laranja",chooseHighlightColor:"Escolha a cor do destaque",removeHighlight:"Remover Destaque",writeNoteHere:"Escreva sua nota aqui...",update:"Atualizar",save:"Salvar",delete:"Excluir",selectBookToStart:"Selecione um livro para comear",offlineModeTitle:"Modo Offline",loadingSavedContent:"Carregando contedo salvo",copied:"Copiado!",verseCopied:"Versculo copiado para a rea de transferncia",error:"Erro",failedToCopy:"Falha ao copiar texto",downloadStarted:"Download iniciado!",verseImageDownloaded:"Imagem do versculo baixada com sucesso",failedToGenerate:"Falha ao gerar imagem",audioStarted:"udio iniciado",listenWhileBrowsing:"Oua enquanto navega!",errorLoadingBooks:"Erro ao carregar livros",errorLoadingChapter:"Erro ao carregar captulo",chapterComplete:"Captulo completo! ",noteRemoved:"Nota removida!",noteRemovedSuccess:"Nota removida com sucesso.",bookmarkAdded:"Favorito adicionado!",bookmarkRemoved:"Favorito removido!",highlightAdded:"Highlight adicionado!",highlightRemoved:"Highlight removido!",highlightRemovedSuccess:"Highlight removido com sucesso."},bibleBooks:{gn:"Gnesis",ex:"xodo",lv:"Levtico",nm:"Nmeros",dt:"Deuteronmio",js:"Josu",jz:"Juzes",rt:"Rute","1sm":"1 Samuel","2sm":"2 Samuel","1rs":"1 Reis","2rs":"2 Reis","1cr":"1 Crnicas","2cr":"2 Crnicas",ed:"Esdras",ne:"Neemias",et:"Ester",job:"J",sl:"Salmos",pv:"Provrbios",ec:"Eclesiastes",ct:"Cnticos",is:"Isaas",jr:"Jeremias",lm:"Lamentaes",ez:"Ezequiel",dn:"Daniel",os:"Oseias",jl:"Joel",am:"Ams",ob:"Obadias",jn:"Jonas",mq:"Miqueias",na:"Naum",hc:"Habacuque",sf:"Sofonias",ag:"Ageu",zc:"Zacarias",ml:"Malaquias",mt:"Mateus",mc:"Marcos",lc:"Lucas",jo:"Joo",at:"Atos",rm:"Romanos","1co":"1 Corntios","2co":"2 Corntios",gl:"Glatas",ef:"Efsios",fp:"Filipenses",cl:"Colossenses","1ts":"1 Tessalonicenses","2ts":"2 Tessalonicenses","1tm":"1 Timteo","2tm":"2 Timteo",tt:"Tito",fm:"Filemom",hb:"Hebreus",tg:"Tiago","1pe":"1 Pedro","2pe":"2 Pedro","1jo":"1 Joo","2jo":"2 Joo","3jo":"3 Joo",jd:"Judas",ap:"Apocalipse"},plans:{title:"Planos de Leitura",subtitle:"Organize e acompanhe seu estudo bblico",myPlans:"Meus Planos",available:"Planos Disponveis",createPlan:"Criar Plano",startPlan:"Iniciar Plano",starting:"Iniciando...",days:"dias",of_days_completed:"de {total} dias completos",progress:"Progresso",completeDay:"Completar Dia",dayCompleted:"Dia Completo",selectTemplate:"Selecione um Plano",noPlanTemplate:"Nenhum plano disponvel",activePlans:"Planos Ativos",completedPlans:"Planos Concludos",currentDay:"Dia Atual",noActivePlans:"Nenhum plano ativo",startFirstPlan:"Iniciar Primeiro Plano",choosePlanDescription:"Escolha um plano predefinido para comear sua jornada",day:"Dia",todayReading:"Leitura de hoje:",markDayComplete:"Marcar Dia Como Completo",completed:"Concludo",completedOn:"Completado em",dayComplete:"Dia completo! ",youEarnedXP:"Voc ganhou {xp} XP pela sua leitura.",errorMarkingProgress:"Erro ao marcar progresso"},progress:{title:"Seu Progresso",subtitle:"Acompanhe seu crescimento espiritual",level:"Nvel",xp:"XP",streak:"Sequncia",achievements:"Conquistas",milestone:"Marco",reading:"Leitura",streakCategory:"Sequncia",experiencePoints:"Pontos de Experincia",readingStreak:"Sequncia de Leitura",totalXpAccumulated:"XP total acumulado",consecutiveDays:"dias consecutivos",ofTotalUnlocked:"de {total} desbloqueadas",nextLevel:"Prximo Nvel",continueReadingToLevel:"Continue lendo para alcanar o nvel {level}",progressToNextLevel:"Progresso para o prximo nvel",xpNeededForLevel:"Faltam {xp} XP para o nvel {level}",unlocked:"Desbloqueada",complete:"completo",loadingProgress:"Carregando progresso..."},achievements:{firstRead:"Primeira Leitura",firstReadDesc:"Leia seu primeiro captulo",streak7:"Sequncia de 7 Dias",streak7Desc:"Leia por 7 dias seguidos",streak30:"Sequncia de 30 Dias",streak30Desc:"Leia por 30 dias seguidos",streak100:"Sequncia de 100 Dias",streak100Desc:"Leia por 100 dias seguidos"},dailyVerse:{verse_of_the_day:"Versculo do Dia",copy:"Copiar",share:"Compartilhar",download_image:"Baixar Imagem",verse_copied:"Versculo copiado!",verse_copied_description:"Texto copiado para a rea de transferncia",copy_failed:"Erro ao copiar",copy_failed_description:"No foi possvel copiar o texto",image_downloaded:"Imagem baixada!",image_downloaded_description:"Versculo salvo como imagem",download_failed:"Erro ao baixar",download_failed_description:"No foi possvel salvar a imagem"},donate:{title:"Apoie o BbliaFS",subtitle:"Sua doao mantm o BbliaFS 100% gratuito e ajuda a levar a Palavra a mais pessoas, em mais idiomas. Cada contribuio sustenta o desenvolvimento contnuo do app, permitindo melhorias constantes, novos recursos e maior acessibilidade. Voc no est apenas doando  est sendo parte da histria de quem busca a Palavra, onde quer que esteja.",one_time:"Doao nica",recurring:"Doao Recorrente",monthly:"Mensal",amount:"Valor",custom_amount:"Valor personalizado",destination:"Destino da doao",app_operations:"Operaes do aplicativo",bible_translation:"Traduo bblica",anonymous:"Doar anonimamente",message:"Mensagem (opcional)",message_placeholder:"Deixe uma mensagem de apoio...",donate_button:"Doar Agora",processing:"Processando...",success_title:"Doao realizada com sucesso!",success_message:"Muito obrigado pelo seu apoio. Que Deus abenoe voc!",error_title:"Erro ao processar doao",configure_stripe:"Sistema de doaes no configurado. Entre em contato com o suporte para habilitar doaes."},landing:{hero_title:"Transforme Seu Estudo Bblico",hero_subtitle:"Inteligncia Artificial, Podcasts, Comunidade e Ensino em uma nica plataforma premium. O futuro do estudo bblico chegou.",start_free:"Comear Grtis",see_features:"Ver Recursos",premium_features:"Recursos Premium",premium_subtitle:"Tudo que voc precisa para um estudo bblico profundo e transformador",customize_experience:"Personalize Sua Experincia",customize_subtitle:"4 temas prontos ou crie o seu prprio com cores personalizadas",why_bible_plus:"Por Que BbliaFS?",why_subtitle:"Muito mais do que um simples aplicativo bblico",cta_title:"Comece Hoje Sua Jornada",cta_subtitle:"Junte-se a milhares de pessoas transformando seu estudo bblico",start_free_cta:"Comear Gratuitamente",footer_description:"Estudo Premium com IA",footer_plans:"Planos",footer_contact:"Contato",footer_support:"Suporte",newGeneration:"v2.0 - Nova Gerao",nav_resources:"Recursos",nav_themes:"Temas",nav_testimonials:"Testemunhos",nav_faq:"Perguntas",powerful_resources:"Recursos Poderosos Para Seu Estudo",incredible_themes:"Temas Incrveis",premium_content:"Recursos Premium",faq_title:"Perguntas Frequentes",what_users_say:"O Que Dizem Nossos Usurios",transform_study:"Transforme seu estudo com BbliaFS",features:{aiTitle:"IA Teolgica",aiDesc:"Assistente inteligente responde perguntas bblicas, compara doutrinas e oferece contexto histrico profundo.",plansTitle:"Planos Personalizados",plansDesc:"Crie planos de leitura integrados com podcasts e acompanhe seu progresso dirio.",podcastsTitle:"BbliaFS Rdio",podcastsDesc:"Oua, baixe e inclua episdios de rdio nos seus planos de estudo bblico.",teacherTitle:"Modo Professor",teacherDesc:"Crie aulas, avalie alunos e gerencie turmas com ferramentas profissionais.",communityTitle:"Comunidade Ativa",communityDesc:"Compartilhe insights, conecte-se com outros estudantes e cresa juntos.",themesTitle:"Temas Personalizveis",themesDesc:"5 temas premium ou crie o seu prprio com seletor de cores RGB personalizado."}},pricing:{page_title:"Planos e Preos",page_subtitle:"Escolha o plano perfeito para sua jornada espiritual",free_plan:"Gratuito",premium_plan:"Premium",lifetime_plan:"Vitalcio",per_month:"/ms",one_time:"pagamento nico",select_plan:"Escolher Plano",guarantee_title:"Garantia de 30 Dias",guarantee_description:"100% de reembolso se no ficar satisfeito",faq_title:"Perguntas Frequentes"},community:{title:"Comunidade",what_studying:"O que voc est estudando?",verse_reference:"Referncia do Versculo",your_reflection:"Sua Reflexo",post:"Publicar",trending_topics:"Temas em Alta",likes:"curtidas",comments:"comentrios"},favorites:{title:"Meus Favoritos",subtitle:"Versculos salvos, destaques e notas",bookmarks:"Favoritos",highlights:"Destaques",notes:"Notas",no_favorites:"Nenhum favorito ainda",add_first:"Comece adicionando seus versculos favoritos"},profile:{title:"Perfil",my_plans:"Meus Planos",prayer:"Orao",achievements:"Conquistas",reading_streak:"Sequncia de Leitura",spiritual_level:"Nvel Espiritual",edit_profile:"Editar Perfil",logout:"Sair"},aiStudy:{title:"Estudar com IA",subtitle:"Assistente teolgico inteligente",ai_chat:"Conversa com IA",ask_question:"Faa uma pergunta teolgica",type_message:"Digite sua mensagem..."},teacherMode:{title:"Modo Professor",new_lesson:"Nova Aula",lesson_title:"Ttulo da Aula",students:"Alunos",progress:"Progresso",export_report:"Exportar Relatrio"},offline:{title:"Modo Offline",chapters_saved:"Captulos Salvos",space_used:"Espao Usado",books_downloaded:"Livros Baixados",download_chapter:"Baixar Captulo",delete_chapter:"Excluir",clear_all:"Limpar Tudo"},contact:{title:"Fale Conosco",subtitle:"Envie sua Mensagem",name:"Nome",email:"E-mail",message:"Mensagem",send:"Enviar",success:"Mensagem enviada com sucesso!"}},en:{common:{appName:"Bible+",loading:"Loading...",error:"Error",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",close:"Close",tryAgainLater:"Try again later."},nav:{home:"Home",bible:"Bible",plans:"Plans",discover:"Discover",you:"You",progress:"Progress",prayers:"Prayers",aiStudy:"AI Study",podcasts:"Podcasts",teacherMode:"Teacher Mode",settings:"Settings",compareVersions:"Compare Versions",studyGroups:"Study Groups"},sections:{mainMenu:"Main Menu",study:"Study",teaching:"Teaching",premiumStudy:"Premium Study",about:"About"},bible:{readChapter:"Read Chapter",bookmarks:"Bookmarks",settings:"Settings",selectBook:"Select a book",selectChapter:"Select a chapter",selectVersion:"Bible Version",markAsRead:"Mark as Read",offlineMode:"Offline Mode",searchVerses:"Search verses",contentNotAvailableOffline:"Content not available offline",addNote:"Add Note",shareVerse:"Share Verse",copyText:"Copy Text",downloadImage:"Download Image",chooseColor:"Choose Color",saveNote:"Save Note",cancel:"Cancel",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink",orange:"Orange",chooseHighlightColor:"Choose highlight color",removeHighlight:"Remove Highlight",writeNoteHere:"Write your note here...",update:"Update",save:"Save",delete:"Delete",selectBookToStart:"Select a book to start",offlineModeTitle:"Offline Mode",loadingSavedContent:"Loading saved content",copied:"Copied!",verseCopied:"Verse copied to clipboard",error:"Error",failedToCopy:"Failed to copy text",downloadStarted:"Download started!",verseImageDownloaded:"Verse image downloaded successfully",failedToGenerate:"Failed to generate image",audioStarted:"Audio started",listenWhileBrowsing:"Listen while browsing!",errorLoadingBooks:"Error loading books",errorLoadingChapter:"Error loading chapter",chapterComplete:"Chapter complete! ",noteRemoved:"Note removed!",noteRemovedSuccess:"Note successfully removed.",bookmarkAdded:"Bookmark added!",bookmarkRemoved:"Bookmark removed!",highlightAdded:"Highlight added!",highlightRemoved:"Highlight removed!",highlightRemovedSuccess:"Highlight successfully removed."},bibleBooks:{gn:"Genesis",ex:"Exodus",lv:"Leviticus",nm:"Numbers",dt:"Deuteronomy",js:"Joshua",jz:"Judges",rt:"Ruth","1sm":"1 Samuel","2sm":"2 Samuel","1rs":"1 Kings","2rs":"2 Kings","1cr":"1 Chronicles","2cr":"2 Chronicles",ed:"Ezra",ne:"Nehemiah",et:"Esther",job:"Job",sl:"Psalms",pv:"Proverbs",ec:"Ecclesiastes",ct:"Song of Songs",is:"Isaiah",jr:"Jeremiah",lm:"Lamentations",ez:"Ezekiel",dn:"Daniel",os:"Hosea",jl:"Joel",am:"Amos",ob:"Obadiah",jn:"Jonah",mq:"Micah",na:"Nahum",hc:"Habakkuk",sf:"Zephaniah",ag:"Haggai",zc:"Zechariah",ml:"Malachi",mt:"Matthew",mc:"Mark",lc:"Luke",jo:"John",at:"Acts",rm:"Romans","1co":"1 Corinthians","2co":"2 Corinthians",gl:"Galatians",ef:"Ephesians",fp:"Philippians",cl:"Colossians","1ts":"1 Thessalonians","2ts":"2 Thessalonians","1tm":"1 Timothy","2tm":"2 Timothy",tt:"Titus",fm:"Philemon",hb:"Hebrews",tg:"James","1pe":"1 Peter","2pe":"2 Peter","1jo":"1 John","2jo":"2 John","3jo":"3 John",jd:"Jude",ap:"Revelation"},plans:{title:"Reading Plans",subtitle:"Organize and track your Bible study",myPlans:"My Plans",available:"Available Plans",createPlan:"Create Plan",startPlan:"Start Plan",starting:"Starting...",days:"days",of_days_completed:"of {total} days completed",progress:"Progress",completeDay:"Complete Day",dayCompleted:"Day Completed",selectTemplate:"Select a Plan",noPlanTemplate:"No plan available",activePlans:"Active Plans",completedPlans:"Completed Plans",currentDay:"Current Day",noActivePlans:"No active plans",startFirstPlan:"Start First Plan",choosePlanDescription:"Choose a preset plan to begin your journey",day:"Day",todayReading:"Today's reading:",markDayComplete:"Mark Day as Complete",completed:"Completed",completedOn:"Completed on",dayComplete:"Day complete! ",youEarnedXP:"You earned {xp} XP for your reading.",errorMarkingProgress:"Error marking progress"},progress:{title:"Your Progress",subtitle:"Track your spiritual growth",level:"Level",xp:"XP",streak:"Streak",achievements:"Achievements",milestone:"Milestone",reading:"Reading",streakCategory:"Streak",experiencePoints:"Experience Points",readingStreak:"Reading Streak",totalXpAccumulated:"Total XP accumulated",consecutiveDays:"consecutive days",ofTotalUnlocked:"of {total} unlocked",nextLevel:"Next Level",continueReadingToLevel:"Keep reading to reach level {level}",progressToNextLevel:"Progress to next level",xpNeededForLevel:"{xp} XP needed for level {level}",unlocked:"Unlocked",complete:"complete",loadingProgress:"Loading progress..."},achievements:{firstRead:"First Read",firstReadDesc:"Read your first chapter",streak7:"7-Day Streak",streak7Desc:"Read for 7 consecutive days",streak30:"30-Day Streak",streak30Desc:"Read for 30 consecutive days",streak100:"100-Day Streak",streak100Desc:"Read for 100 consecutive days"},dailyVerse:{verse_of_the_day:"Verse of the Day",copy:"Copy",share:"Share",download_image:"Download Image",verse_copied:"Verse copied!",verse_copied_description:"Text copied to clipboard",copy_failed:"Copy failed",copy_failed_description:"Could not copy text",image_downloaded:"Image downloaded!",image_downloaded_description:"Verse saved as image",download_failed:"Download failed",download_failed_description:"Could not save image"},donate:{title:"Support Bible+",subtitle:"Your donation keeps Bible+ 100% free and helps bring the Word to more people, in more languages. But that's not all: each contribution sustains the developers who work tirelessly  day and night  to improve the experience, fix bugs, add features, and make the app lighter, faster, and accessible to everyone. You're not just donating. You're being part of the story of those seeking the Word, wherever they are.",one_time:"One-Time",recurring:"Recurring",monthly:"Monthly",amount:"Amount",custom_amount:"Custom amount",destination:"Donation destination",app_operations:"App operations",bible_translation:"Bible translation",anonymous:"Donate anonymously",message:"Message (optional)",message_placeholder:"Leave a support message...",donate_button:"Donate",processing:"Processing...",success_title:"Donation successful!",success_message:"Thank you so much for your support!",error_title:"Error processing donation",configure_stripe:"Donation system not configured. Configure Stripe keys to enable donations."},landing:{hero_title:"Transform Your Bible Study",hero_subtitle:"Artificial Intelligence, Podcasts, Community, and Teaching in one premium platform. The future of Bible study is here.",start_free:"Start Free",see_features:"See Features",premium_features:"Premium Features",premium_subtitle:"Everything you need for deep and transformative Bible study",customize_experience:"Customize Your Experience",customize_subtitle:"4 ready-made themes or create your own with custom colors",why_bible_plus:"Why Bible+?",why_subtitle:"Much more than just a Bible app",cta_title:"Start Your Journey Today",cta_subtitle:"Join thousands of people transforming their Bible study",start_free_cta:"Start Free",footer_description:"Premium AI-Powered Study",footer_plans:"Plans",footer_contact:"Contact",footer_support:"Support",newGeneration:"v2.0 - New Generation",nav_resources:"Resources",nav_themes:"Themes",nav_testimonials:"Testimonials",nav_faq:"FAQ",powerful_resources:"Powerful Resources For Your Study",incredible_themes:"Incredible Themes",premium_content:"Premium Resources",faq_title:"Frequently Asked Questions",what_users_say:"What Our Users Say",transform_study:"Transform your study with Bible+",features:{aiTitle:"Theological AI",aiDesc:"Intelligent assistant answers biblical questions, compares doctrines, and offers deep historical context.",plansTitle:"Custom Plans",plansDesc:"Create reading plans integrated with podcasts and track your daily progress.",podcastsTitle:"Integrated Podcasts",podcastsDesc:"Listen, download, and include podcast episodes in your Bible study plans.",teacherTitle:"Teacher Mode",teacherDesc:"Create lessons, assess students, and manage classes with professional tools.",communityTitle:"Active Community",communityDesc:"Share insights, connect with other students, and grow together.",themesTitle:"Customizable Themes",themesDesc:"5 premium themes or create your own with custom RGB color picker."}},pricing:{page_title:"Plans & Pricing",page_subtitle:"Choose the perfect plan for your spiritual journey",free_plan:"Free",premium_plan:"Premium",lifetime_plan:"Lifetime",per_month:"/month",one_time:"one-time payment",select_plan:"Select Plan",guarantee_title:"30-Day Guarantee",guarantee_description:"100% refund if not satisfied",faq_title:"Frequently Asked Questions"},community:{title:"Community",what_studying:"What are you studying?",verse_reference:"Verse Reference",your_reflection:"Your Reflection",post:"Post",trending_topics:"Trending Topics",likes:"likes",comments:"comments"},favorites:{title:"My Favorites",subtitle:"Saved verses, highlights, and notes",bookmarks:"Bookmarks",highlights:"Highlights",notes:"Notes",no_favorites:"No favorites yet",add_first:"Start adding your favorite verses"},profile:{title:"Profile",my_plans:"My Plans",prayer:"Prayer",achievements:"Achievements",reading_streak:"Reading Streak",spiritual_level:"Spiritual Level",edit_profile:"Edit Profile",logout:"Logout"},aiStudy:{title:"Study with AI",subtitle:"Intelligent theological assistant",ai_chat:"AI Chat",ask_question:"Ask a theological question",type_message:"Type your message..."},teacherMode:{title:"Teacher Mode",new_lesson:"New Lesson",lesson_title:"Lesson Title",students:"Students",progress:"Progress",export_report:"Export Report"},offline:{title:"Offline Mode",chapters_saved:"Saved Chapters",space_used:"Space Used",books_downloaded:"Downloaded Books",download_chapter:"Download Chapter",delete_chapter:"Delete",clear_all:"Clear All"},contact:{title:"Contact Us",subtitle:"Send Your Message",name:"Name",email:"Email",message:"Message",send:"Send",success:"Message sent successfully!"}},nl:{common:{appName:"Bijbel+",loading:"Laden...",error:"Fout",save:"Opslaan",cancel:"Annuleren",delete:"Verwijderen",edit:"Bewerken",search:"Zoeken",close:"Sluiten",tryAgainLater:"Probeer het later opnieuw."},nav:{home:"Thuis",bible:"Bijbel",plans:"Plannen",discover:"Ontdekken",you:"Jij",progress:"Voortgang",prayers:"Gebeden",aiStudy:"AI Studie",podcasts:"Podcasts",teacherMode:"Leermodus",settings:"Instellingen",compareVersions:"Versies Vergelijken",studyGroups:"Studiegroepen"},sections:{mainMenu:"Hoofdmenu",study:"Studie",teaching:"Onderwijs",premiumStudy:"Premium Studie",about:"Over"},bible:{readChapter:"Hoofdstuk Lezen",bookmarks:"Bladwijzers",settings:"Instellingen",selectBook:"Selecteer een boek",selectChapter:"Selecteer een hoofdstuk",selectVersion:"Bijbelversie",markAsRead:"Markeren als Gelezen",offlineMode:"Offline Modus",searchVerses:"Verzen zoeken",contentNotAvailableOffline:"Inhoud niet offline beschikbaar",addNote:"Notitie Toevoegen",shareVerse:"Vers Delen",copyText:"Tekst Kopiren",downloadImage:"Afbeelding Downloaden",chooseColor:"Kleur Kiezen",saveNote:"Notitie Opslaan",cancel:"Annuleren",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze",orange:"Oranje",chooseHighlightColor:"Kies markeerkleur",removeHighlight:"Markering Verwijderen",writeNoteHere:"Schrijf hier je notitie...",update:"Bijwerken",save:"Opslaan",delete:"Verwijderen",selectBookToStart:"Selecteer een boek om te beginnen",offlineModeTitle:"Offline Modus",loadingSavedContent:"Opgeslagen inhoud laden",copied:"Gekopieerd!",verseCopied:"Vers gekopieerd naar klembord",error:"Fout",failedToCopy:"Tekst kopiren mislukt",downloadStarted:"Download gestart!",verseImageDownloaded:"Versafbeelding succesvol gedownload",failedToGenerate:"Afbeelding genereren mislukt",audioStarted:"Audio gestart",listenWhileBrowsing:"Luister terwijl je bladert!",errorLoadingBooks:"Fout bij laden van boeken",errorLoadingChapter:"Fout bij laden van hoofdstuk",chapterComplete:"Hoofdstuk voltooid! ",noteRemoved:"Notitie verwijderd!",noteRemovedSuccess:"Notitie succesvol verwijderd.",bookmarkAdded:"Favoriet toegevoegd!",bookmarkRemoved:"Favoriet verwijderd!",highlightAdded:"Markering toegevoegd!",highlightRemoved:"Markering verwijderd!",highlightRemovedSuccess:"Markering succesvol verwijderd."},bibleBooks:{gn:"Genesis",ex:"Exodus",lv:"Leviticus",nm:"Numeri",dt:"Deuteronomium",js:"Jozua",jz:"Rechters",rt:"Ruth","1sm":"1 Samul","2sm":"2 Samul","1rs":"1 Koningen","2rs":"2 Koningen","1cr":"1 Kronieken","2cr":"2 Kronieken",ed:"Ezra",ne:"Nehemia",et:"Esther",job:"Job",sl:"Psalmen",pv:"Spreuken",ec:"Prediker",ct:"Hooglied",is:"Jesaja",jr:"Jeremia",lm:"Klaagliederen",ez:"Ezechil",dn:"Danil",os:"Hosea",jl:"Jol",am:"Amos",ob:"Obadja",jn:"Jona",mq:"Micha",na:"Nahum",hc:"Habakuk",sf:"Zefanja",ag:"Hagga",zc:"Zacharia",ml:"Maleachi",mt:"Mattes",mc:"Marcus",lc:"Lucas",jo:"Johannes",at:"Handelingen",rm:"Romeinen","1co":"1 Korintirs","2co":"2 Korintirs",gl:"Galaten",ef:"Efezirs",fp:"Filippenzen",cl:"Kolossenzen","1ts":"1 Tessalonicenzen","2ts":"2 Tessalonicenzen","1tm":"1 Timotes","2tm":"2 Timotes",tt:"Titus",fm:"Filemon",hb:"Hebreen",tg:"Jakobus","1pe":"1 Petrus","2pe":"2 Petrus","1jo":"1 Johannes","2jo":"2 Johannes","3jo":"3 Johannes",jd:"Judas",ap:"Openbaring"},plans:{title:"Leesplannen",subtitle:"Organiseer en volg je Bijbelstudie",myPlans:"Mijn Plannen",available:"Beschikbare Plannen",createPlan:"Plan Maken",startPlan:"Plan Starten",starting:"Starten...",days:"dagen",of_days_completed:"van {total} dagen voltooid",progress:"Voortgang",completeDay:"Dag Voltooien",dayCompleted:"Dag Voltooid",selectTemplate:"Selecteer een Plan",noPlanTemplate:"Geen plan beschikbaar",activePlans:"Actieve Plannen",completedPlans:"Voltooide Plannen",currentDay:"Huidige Dag",noActivePlans:"Geen actieve plannen",startFirstPlan:"Start Eerste Plan",choosePlanDescription:"Kies een vooraf ingesteld plan om je reis te beginnen",day:"Dag",todayReading:"Lezing van vandaag:",markDayComplete:"Dag Markeren als Voltooid",completed:"Voltooid",completedOn:"Voltooid op",dayComplete:"Dag voltooid! ",youEarnedXP:"Je hebt {xp} XP verdiend met lezen.",errorMarkingProgress:"Fout bij markeren voortgang"},progress:{title:"Jouw Voortgang",subtitle:"Volg je spirituele groei",level:"Niveau",xp:"XP",streak:"Reeks",achievements:"Prestaties",milestone:"Mijlpaal",reading:"Lezen",streakCategory:"Reeks",experiencePoints:"Ervaringspunten",readingStreak:"Leesreeks",totalXpAccumulated:"Totaal verzamelde XP",consecutiveDays:"opeenvolgende dagen",ofTotalUnlocked:"van {total} ontgrendeld",nextLevel:"Volgend Niveau",continueReadingToLevel:"Blijf lezen om niveau {level} te bereiken",progressToNextLevel:"Voortgang naar volgend niveau",xpNeededForLevel:"{xp} XP nodig voor niveau {level}",unlocked:"Ontgrendeld",complete:"compleet",loadingProgress:"Voortgang laden..."},achievements:{firstRead:"Eerste Lezing",firstReadDesc:"Lees je eerste hoofdstuk",streak7:"7-Daagse Reeks",streak7Desc:"Lees 7 opeenvolgende dagen",streak30:"30-Daagse Reeks",streak30Desc:"Lees 30 opeenvolgende dagen",streak100:"100-Daagse Reeks",streak100Desc:"Lees 100 opeenvolgende dagen"},dailyVerse:{verse_of_the_day:"Vers van de Dag",copy:"Kopiren",share:"Delen",download_image:"Afbeelding Downloaden",verse_copied:"Vers gekopieerd!",verse_copied_description:"Tekst gekopieerd naar klembord",copy_failed:"Kopiren mislukt",copy_failed_description:"Kon tekst niet kopiren",image_downloaded:"Afbeelding gedownload!",image_downloaded_description:"Vers opgeslagen als afbeelding",download_failed:"Download mislukt",download_failed_description:"Kon afbeelding niet opslaan"},donate:{title:"Ondersteun Bijbel+",subtitle:"Jouw donatie houdt Bijbel+ 100% gratis en helpt het Woord naar meer mensen te brengen, in meer talen. Maar dat is niet alles: elke bijdrage ondersteunt de ontwikkelaars die onvermoeibaar werken  dag en nacht  om de ervaring te verbeteren, bugs op te lossen, functies toe te voegen en de app lichter, sneller en toegankelijker te maken voor iedereen. Je doneert niet alleen. Je maakt deel uit van het verhaal van degenen die het Woord zoeken, waar ze ook zijn.",one_time:"Eenmalig",recurring:"Terugkerend",monthly:"Maandelijks",amount:"Bedrag",custom_amount:"Aangepast bedrag",destination:"Donatiebestemming",app_operations:"App-activiteiten",bible_translation:"Bijbelvertaling",anonymous:"Anoniem doneren",message:"Bericht (optioneel)",message_placeholder:"Laat een bericht achter...",donate_button:"Doneren",processing:"Verwerken...",success_title:"Donatie geslaagd!",success_message:"Hartelijk dank voor je steun!",error_title:"Fout bij verwerken donatie",configure_stripe:"Donatiesysteem niet geconfigureerd. Configureer Stripe-sleutels om donaties in te schakelen."},landing:{hero_title:"Transformeer Je Bijbelstudie",hero_subtitle:"Kunstmatige Intelligentie, Podcasts, Gemeenschap en Onderwijs in n premium platform. De toekomst van Bijbelstudie is hier.",start_free:"Gratis Beginnen",see_features:"Bekijk Functies",premium_features:"Premium Functies",premium_subtitle:"Alles wat je nodig hebt voor een diepe en transformerende Bijbelstudie",customize_experience:"Personaliseer Je Ervaring",customize_subtitle:"4 kant-en-klare thema's of creer je eigen met aangepaste kleuren",why_bible_plus:"Waarom Bijbel+?",why_subtitle:"Veel meer dan alleen een Bijbel-app",cta_title:"Begin Vandaag Je Reis",cta_subtitle:"Sluit je aan bij duizenden mensen die hun Bijbelstudie transformeren",start_free_cta:"Gratis Starten",footer_description:"Premium Studie met AI",footer_plans:"Plannen",footer_contact:"Contact",footer_support:"Ondersteuning",newGeneration:"v2.0 - Nieuwe Generatie",nav_resources:"Bronnen",nav_themes:"Thema's",nav_testimonials:"Getuigenissen",nav_faq:"Veelgestelde Vragen",powerful_resources:"Krachtige Hulpmiddelen Voor Je Studie",incredible_themes:"Ongelooflijke Thema's",premium_content:"Premium Inhoud",faq_title:"Veelgestelde Vragen",what_users_say:"Wat Onze Gebruikers Zeggen",transform_study:"Transformeer je studie met Bijbel+",features:{aiTitle:"Theologische AI",aiDesc:"Intelligente assistent beantwoordt Bijbelse vragen, vergelijkt doctrines en biedt diepe historische context.",plansTitle:"Aangepaste Plannen",plansDesc:"Creer leesplannen gentegreerd met podcasts en volg je dagelijkse voortgang.",podcastsTitle:"Gentegreerde Podcasts",podcastsDesc:"Luister, download en neem podcast-afleveringen op in je Bijbelstudie plannen.",teacherTitle:"Leermodus",teacherDesc:"Creer lessen, beoordeel studenten en beheer klassen met professionele tools.",communityTitle:"Actieve Gemeenschap",communityDesc:"Deel inzichten, maak verbinding met andere studenten en groei samen.",themesTitle:"Aanpasbare Thema's",themesDesc:"5 premium thema's of creer je eigen met aangepaste RGB-kleurenkiezer."}},pricing:{page_title:"Plannen & Prijzen",page_subtitle:"Kies het perfecte plan voor jouw spirituele reis",free_plan:"Gratis",premium_plan:"Premium",lifetime_plan:"Levenslang",per_month:"/maand",one_time:"eenmalige betaling",select_plan:"Selecteer Plan",guarantee_title:"30 Dagen Garantie",guarantee_description:"100% terugbetaling als je niet tevreden bent",faq_title:"Veelgestelde Vragen"},community:{title:"Gemeenschap",what_studying:"Wat studeer je?",verse_reference:"Vers Referentie",your_reflection:"Jouw Reflectie",post:"Plaatsen",trending_topics:"Trending Onderwerpen",likes:"likes",comments:"reacties"},favorites:{title:"Mijn Favorieten",subtitle:"Opgeslagen verzen, highlights en notities",bookmarks:"Bladwijzers",highlights:"Highlights",notes:"Notities",no_favorites:"Nog geen favorieten",add_first:"Begin met het toevoegen van je favoriete verzen"},profile:{title:"Profiel",my_plans:"Mijn Plannen",prayer:"Gebed",achievements:"Prestaties",reading_streak:"Leesreeks",spiritual_level:"Spiritueel Niveau",edit_profile:"Profiel Bewerken",logout:"Uitloggen"},aiStudy:{title:"Studeren met AI",subtitle:"Intelligente theologische assistent",ai_chat:"AI Chat",ask_question:"Stel een theologische vraag",type_message:"Typ je bericht..."},teacherMode:{title:"Leermodus",new_lesson:"Nieuwe Les",lesson_title:"Les Titel",students:"Studenten",progress:"Voortgang",export_report:"Rapport Exporteren"},offline:{title:"Offline Modus",chapters_saved:"Opgeslagen Hoofdstukken",space_used:"Gebruikte Ruimte",books_downloaded:"Gedownloade Boeken",download_chapter:"Hoofdstuk Downloaden",delete_chapter:"Verwijderen",clear_all:"Alles Wissen"},contact:{title:"Neem Contact Op",subtitle:"Verstuur Je Bericht",name:"Naam",email:"E-mail",message:"Bericht",send:"Verzenden",success:"Bericht succesvol verzonden!"}},es:{common:{appName:"Biblia+",loading:"Cargando...",error:"Error",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",search:"Buscar",close:"Cerrar",tryAgainLater:"Intntalo de nuevo ms tarde."},nav:{home:"Inicio",bible:"Biblia",plans:"Planes",discover:"Descubrir",you:"T",progress:"Progreso",prayers:"Oraciones",aiStudy:"Estudio con IA",podcasts:"Podcasts",teacherMode:"Modo Profesor",settings:"Configuracin",compareVersions:"Comparar Versiones",studyGroups:"Grupos de Estudio"},sections:{mainMenu:"Men Principal",study:"Estudio",teaching:"Enseanza",premiumStudy:"Estudio Premium",about:"Acerca de"},bible:{readChapter:"Leer Captulo",bookmarks:"Marcadores",settings:"Configuracin",selectBook:"Seleccionar un libro",selectChapter:"Seleccionar un captulo",selectVersion:"Versin de la Biblia",markAsRead:"Marcar como Ledo",offlineMode:"Modo Sin Conexin",searchVerses:"Buscar versculos",contentNotAvailableOffline:"Contenido no disponible sin conexin",addNote:"Aadir Nota",shareVerse:"Compartir Versculo",copyText:"Copiar Texto",downloadImage:"Descargar Imagen",chooseColor:"Elegir Color",saveNote:"Guardar Nota",cancel:"Cancelar",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa",orange:"Naranja",chooseHighlightColor:"Elegir color del resaltado",removeHighlight:"Eliminar Resaltado",writeNoteHere:"Escribe tu nota aqu...",update:"Actualizar",save:"Guardar",delete:"Eliminar",selectBookToStart:"Selecciona un libro para comenzar",offlineModeTitle:"Modo Sin Conexin",loadingSavedContent:"Cargando contenido guardado",copied:"Copiado!",verseCopied:"Versculo copiado al portapapeles",error:"Error",failedToCopy:"Error al copiar texto",downloadStarted:"Descarga iniciada!",verseImageDownloaded:"Imagen del versculo descargada con xito",failedToGenerate:"Error al generar imagen",audioStarted:"Audio iniciado",listenWhileBrowsing:"Escucha mientras navegas!",errorLoadingBooks:"Error al cargar libros",errorLoadingChapter:"Error al cargar captulo",chapterComplete:"Captulo completo! ",noteRemoved:"Nota eliminada!",noteRemovedSuccess:"Nota eliminada con xito.",bookmarkAdded:"Favorito aadido!",bookmarkRemoved:"Favorito eliminado!",highlightAdded:"Resaltado aadido!",highlightRemoved:"Resaltado eliminado!",highlightRemovedSuccess:"Resaltado eliminado con xito."},bibleBooks:{gn:"Gnesis",ex:"xodo",lv:"Levtico",nm:"Nmeros",dt:"Deuteronomio",js:"Josu",jz:"Jueces",rt:"Rut","1sm":"1 Samuel","2sm":"2 Samuel","1rs":"1 Reyes","2rs":"2 Reyes","1cr":"1 Crnicas","2cr":"2 Crnicas",ed:"Esdras",ne:"Nehemas",et:"Ester",job:"Job",sl:"Salmos",pv:"Proverbios",ec:"Eclesiasts",ct:"Cantares",is:"Isaas",jr:"Jeremas",lm:"Lamentaciones",ez:"Ezequiel",dn:"Daniel",os:"Oseas",jl:"Joel",am:"Ams",ob:"Abdas",jn:"Jons",mq:"Miqueas",na:"Nahm",hc:"Habacuc",sf:"Sofonas",ag:"Hageo",zc:"Zacaras",ml:"Malaquas",mt:"Mateo",mc:"Marcos",lc:"Lucas",jo:"Juan",at:"Hechos",rm:"Romanos","1co":"1 Corintios","2co":"2 Corintios",gl:"Glatas",ef:"Efesios",fp:"Filipenses",cl:"Colosenses","1ts":"1 Tesalonicenses","2ts":"2 Tesalonicenses","1tm":"1 Timoteo","2tm":"2 Timoteo",tt:"Tito",fm:"Filemn",hb:"Hebreos",tg:"Santiago","1pe":"1 Pedro","2pe":"2 Pedro","1jo":"1 Juan","2jo":"2 Juan","3jo":"3 Juan",jd:"Judas",ap:"Apocalipsis"},plans:{title:"Planes de Lectura",subtitle:"Organiza y sigue tu estudio bblico",myPlans:"Mis Planes",available:"Planes Disponibles",createPlan:"Crear Plan",startPlan:"Iniciar Plan",starting:"Iniciando...",days:"das",of_days_completed:"de {total} das completados",progress:"Progreso",completeDay:"Completar Da",dayCompleted:"Da Completado",selectTemplate:"Selecciona un Plan",noPlanTemplate:"Ningn plan disponible",activePlans:"Planes Activos",completedPlans:"Planes Completados",currentDay:"Da Actual",noActivePlans:"Sin planes activos",startFirstPlan:"Iniciar Primer Plan",choosePlanDescription:"Elige un plan predefinido para comenzar tu jornada",day:"Da",todayReading:"Lectura de hoy:",markDayComplete:"Marcar Da como Completo",completed:"Completado",completedOn:"Completado el",dayComplete:"Da completo! ",youEarnedXP:"Ganaste {xp} XP por tu lectura.",errorMarkingProgress:"Error al marcar progreso"},progress:{title:"Tu Progreso",subtitle:"Sigue tu crecimiento espiritual",level:"Nivel",xp:"XP",streak:"Racha",achievements:"Logros",milestone:"Hito",reading:"Lectura",streakCategory:"Racha",experiencePoints:"Puntos de Experiencia",readingStreak:"Racha de Lectura",totalXpAccumulated:"XP total acumulado",consecutiveDays:"das consecutivos",ofTotalUnlocked:"de {total} desbloqueados",nextLevel:"Siguiente Nivel",continueReadingToLevel:"Contina leyendo para alcanzar el nivel {level}",progressToNextLevel:"Progreso al siguiente nivel",xpNeededForLevel:"Faltan {xp} XP para el nivel {level}",unlocked:"Desbloqueado",complete:"completo",loadingProgress:"Cargando progreso..."},achievements:{firstRead:"Primera Lectura",firstReadDesc:"Lee tu primer captulo",streak7:"Racha de 7 Das",streak7Desc:"Lee durante 7 das consecutivos",streak30:"Racha de 30 Das",streak30Desc:"Lee durante 30 das consecutivos",streak100:"Racha de 100 Das",streak100Desc:"Lee durante 100 das consecutivos"},dailyVerse:{verse_of_the_day:"Versculo del Da",copy:"Copiar",share:"Compartir",download_image:"Descargar Imagen",verse_copied:"Versculo copiado!",verse_copied_description:"Texto copiado al portapapeles",copy_failed:"Error al copiar",copy_failed_description:"No se pudo copiar el texto",image_downloaded:"Imagen descargada!",image_downloaded_description:"Versculo guardado como imagen",download_failed:"Error al descargar",download_failed_description:"No se pudo guardar la imagen"},donate:{title:"Apoya Biblia+",subtitle:"Tu donacin mantiene Biblia+ 100% gratis y ayuda a llevar la Palabra a ms personas, en ms idiomas. Pero eso no es todo: cada contribucin sustenta a los desarrolladores que trabajan incansablemente  da y noche  para mejorar la experiencia, corregir errores, agregar funciones y hacer la aplicacin ms ligera, rpida y accesible para todos. No solo ests donando. Ests siendo parte de la historia de quienes buscan la Palabra, donde quiera que estn.",one_time:"Donacin nica",recurring:"Donacin Recurrente",monthly:"Mensual",amount:"Cantidad",custom_amount:"Cantidad personalizada",destination:"Destino de la donacin",app_operations:"Operaciones de la aplicacin",bible_translation:"Traduccin bblica",anonymous:"Donar annimamente",message:"Mensaje (opcional)",message_placeholder:"Deja un mensaje de apoyo...",donate_button:"Donar",processing:"Procesando...",success_title:"Donacin exitosa!",success_message:"Muchas gracias por tu apoyo!",error_title:"Error al procesar donacin",configure_stripe:"Sistema de donaciones no configurado. Configura las claves de Stripe para habilitar donaciones."},landing:{hero_title:"Transforma Tu Estudio Bblico",hero_subtitle:"Inteligencia Artificial, Podcasts, Comunidad y Enseanza en una nica plataforma premium. El futuro del estudio bblico ha llegado.",start_free:"Comenzar Gratis",see_features:"Ver Caractersticas",premium_features:"Caractersticas Premium",premium_subtitle:"Todo lo que necesitas para un estudio bblico profundo y transformador",customize_experience:"Personaliza Tu Experiencia",customize_subtitle:"4 temas listos o crea el tuyo propio con colores personalizados",why_bible_plus:"Por Qu Biblia+?",why_subtitle:"Mucho ms que una simple aplicacin bblica",cta_title:"Comienza Hoy Tu Jornada",cta_subtitle:"nete a miles de personas transformando su estudio bblico",start_free_cta:"Comenzar Gratis",footer_description:"Estudio Premium con IA",footer_plans:"Planes",footer_contact:"Contacto",footer_support:"Soporte",newGeneration:"v2.0 - Nueva Generacin",nav_resources:"Recursos",nav_themes:"Temas",nav_testimonials:"Testimonios",nav_faq:"Preguntas",powerful_resources:"Recursos Poderosos Para Tu Estudio",incredible_themes:"Temas Increbles",premium_content:"Contenido Premium",faq_title:"Preguntas Frecuentes",what_users_say:"Lo Que Dicen Nuestros Usuarios",transform_study:"Transforma tu estudio con Biblia+",features:{aiTitle:"IA Teolgica",aiDesc:"Asistente inteligente responde preguntas bblicas, compara doctrinas y ofrece contexto histrico profundo.",plansTitle:"Planes Personalizados",plansDesc:"Crea planes de lectura integrados con podcasts y sigue tu progreso diario.",podcastsTitle:"Podcasts Integrados",podcastsDesc:"Escucha, descarga e incluye episodios de podcast en tus planes de estudio bblico.",teacherTitle:"Modo Profesor",teacherDesc:"Crea lecciones, evala estudiantes y gestiona clases con herramientas profesionales.",communityTitle:"Comunidad Activa",communityDesc:"Comparte ideas, conctate con otros estudiantes y crece juntos.",themesTitle:"Temas Personalizables",themesDesc:"5 temas premium o crea el tuyo propio con selector de colores RGB personalizado."}},pricing:{page_title:"Planes y Precios",page_subtitle:"Elige el plan perfecto para tu jornada espiritual",free_plan:"Gratis",premium_plan:"Premium",lifetime_plan:"De Por Vida",per_month:"/mes",one_time:"pago nico",select_plan:"Elegir Plan",guarantee_title:"Garanta de 30 Das",guarantee_description:"100% de reembolso si no ests satisfecho",faq_title:"Preguntas Frecuentes"},community:{title:"Comunidad",what_studying:"Qu ests estudiando?",verse_reference:"Referencia del Versculo",your_reflection:"Tu Reflexin",post:"Publicar",trending_topics:"Temas Destacados",likes:"me gusta",comments:"comentarios"},favorites:{title:"Mis Favoritos",subtitle:"Versculos guardados, destacados y notas",bookmarks:"Marcadores",highlights:"Destacados",notes:"Notas",no_favorites:"An no hay favoritos",add_first:"Comienza agregando tus versculos favoritos"},profile:{title:"Perfil",my_plans:"Mis Planes",prayer:"Oracin",achievements:"Logros",reading_streak:"Racha de Lectura",spiritual_level:"Nivel Espiritual",edit_profile:"Editar Perfil",logout:"Salir"},aiStudy:{title:"Estudiar con IA",subtitle:"Asistente teolgico inteligente",ai_chat:"Chat con IA",ask_question:"Haz una pregunta teolgica",type_message:"Escribe tu mensaje..."},teacherMode:{title:"Modo Profesor",new_lesson:"Nueva Leccin",lesson_title:"Ttulo de la Leccin",students:"Estudiantes",progress:"Progreso",export_report:"Exportar Informe"},offline:{title:"Modo Sin Conexin",chapters_saved:"Captulos Guardados",space_used:"Espacio Usado",books_downloaded:"Libros Descargados",download_chapter:"Descargar Captulo",delete_chapter:"Eliminar",clear_all:"Borrar Todo"},contact:{title:"Contctanos",subtitle:"Enva Tu Mensaje",name:"Nombre",email:"Correo Electrnico",message:"Mensaje",send:"Enviar",success:"Mensaje enviado exitosamente!"}}};function vY(t,e){const r=t.toLowerCase();return a3[e].bibleBooks[r]||t}const i3=m.createContext(void 0);function yY({children:t}){const[e,r]=m.useState(()=>localStorage.getItem("bible-plus-language")||"pt");m.useEffect(()=>{localStorage.setItem("bible-plus-language",e),document.documentElement.lang=e},[e]);const a={language:e,setLanguage:i=>{r(i)},t:{...a3[e],currentLanguage:e}};return n.jsx(i3.Provider,{value:a,children:t})}function Lr(){const t=m.useContext(i3);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const gu="/assets/logo-new-B9u5XtTI.png";function bY(){const[t]=eo();Vn();const{t:e}=Lr(),{setOpenMobile:r,isMobile:s}=Tv();m.useEffect(()=>{s&&r(!1)},[t,s,r]);const a=[{title:e.nav.home,url:"/",icon:z1},{title:e.nav.bible,url:"/bible-reader",icon:Sr},{title:e.favorites.title,url:"/favorites",icon:Ei},{title:e.nav.plans,url:"/plans",icon:Hs},{title:e.nav.progress,url:"/progress",icon:ci},{title:e.nav.prayers,url:"/prayers",icon:Ki}],i=[{title:e.nav.compareVersions,url:"/compare",icon:VD},{title:"Conquistas",url:"/achievements",icon:ci},{title:e.nav.discover,url:"/community",icon:As},{title:e.nav.studyGroups,url:"/groups",icon:FG},{title:e.nav.podcasts,url:"/podcasts",icon:Pd}],o=[{title:e.nav.teacherMode,url:"/teacher",icon:uu}];return n.jsxs(hY,{className:"border-r border-sidebar-border",children:[n.jsx(mY,{className:"p-6 border-b border-sidebar-border",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"h-12 w-12 object-cover rounded-2xl shadow-lg"}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-display text-xl font-bold text-gray-800 dark:text-gray-100",children:e.common.appName}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.sections.premiumStudy})]})]})}),n.jsxs(gY,{children:[n.jsxs(Sp,{children:[n.jsx(gb,{children:e.sections.mainMenu}),n.jsx(kp,{children:n.jsx(Cp,{children:a.map(l=>n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t===l.url,"data-testid":`link-sidebar-${l.url.slice(1)||"home"}`,children:n.jsxs(Te,{href:l.url,children:[n.jsx(l.icon,{className:"h-4 w-4"}),n.jsx("span",{children:l.title})]})})},l.title))})})]}),n.jsxs(Sp,{children:[n.jsx(gb,{children:e.sections.study}),n.jsx(kp,{children:n.jsx(Cp,{children:i.map(l=>n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t===l.url,"data-testid":`link-sidebar-${l.url.slice(1)}`,children:n.jsxs(Te,{href:l.url,children:[n.jsx(l.icon,{className:"h-4 w-4"}),n.jsx("span",{children:l.title})]})})},l.title))})})]}),n.jsxs(Sp,{children:[n.jsx(gb,{children:e.sections.teaching}),n.jsx(kp,{children:n.jsx(Cp,{children:o.map(l=>n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t===l.url,"data-testid":`link-sidebar-${l.url.slice(1)}`,children:n.jsxs(Te,{href:l.url,children:[n.jsx(l.icon,{className:"h-4 w-4"}),n.jsx("span",{children:l.title})]})})},l.title))})})]}),n.jsx(Sp,{children:n.jsx(kp,{children:n.jsxs(Cp,{children:[n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t==="/configuraes","data-testid":"link-sidebar-settings",children:n.jsxs(Te,{href:"/configuraes",children:[n.jsx(fu,{className:"h-4 w-4"}),n.jsx("span",{children:e.nav.settings})]})})}),n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t==="/about","data-testid":"link-sidebar-about",children:n.jsxs(Te,{href:"/about",children:[n.jsx(yw,{className:"h-4 w-4"}),n.jsx("span",{children:e.sections.about})]})})}),n.jsx(Wc,{children:n.jsx(Kc,{asChild:!0,isActive:t==="/contact","data-testid":"link-sidebar-feedback",children:n.jsxs(Te,{href:"/contact",children:[n.jsx(Ki,{className:"h-4 w-4"}),n.jsx("span",{children:"Feedback"})]})})})]})})})]}),n.jsx(pY,{className:"p-4 border-t border-sidebar-border",children:n.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[" 2026 - BbliaFS. Todos os direitos reservados. Desenvolvido por |"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-500 dark:text-purple-400 dark:hover:text-purple-300 hover:underline transition-colors","data-testid":"link-fabrisite-sidebar",children:"FabriSite"})]})})]})}const o3=m.createContext(void 0),wY={default:{bg:"",text:"",name:"Padro",background:"",textColor:""},sepia:{bg:"bg-[#f4ecd8]",text:"text-[#5c4b37]",name:"Spia",background:"#f4ecd8",textColor:"#5c4b37"},paper:{bg:"bg-[#faf9f6]",text:"text-[#333333]",name:"Papel",background:"#faf9f6",textColor:"#333333"},night:{bg:"bg-[#1a1a2e]",text:"text-[#e8e8e8]",name:"Noturno",background:"#1a1a2e",textColor:"#e8e8e8"}};function jY({children:t}){const[e,r]=m.useState(()=>{const c=localStorage.getItem("theme");return c==="light"||c==="dark"?c:du||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),[s,a]=m.useState(()=>{const c=localStorage.getItem("readingTheme");return c==="default"||c==="sepia"||c==="paper"||c==="night"?c:"default"});m.useEffect(()=>{const c=document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("theme",e)},[e]),m.useEffect(()=>{localStorage.setItem("readingTheme",s);const c=document.documentElement,d=wY[s];s!=="default"?(c.style.setProperty("--reading-bg",d.background),c.style.setProperty("--reading-text",d.textColor),c.classList.add("reading-theme-active")):(c.style.removeProperty("--reading-bg"),c.style.removeProperty("--reading-text"),c.classList.remove("reading-theme-active"))},[s]);const i=c=>{r(c)},o=c=>{a(c)},l=()=>{r(c=>c==="light"?"dark":"light")};return n.jsx(o3.Provider,{value:{theme:e,readingTheme:s,setTheme:i,setReadingTheme:o,toggleTheme:l},children:t})}function cN(){const t=m.useContext(o3);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}async function NY(t){const e=new TextEncoder,s=new ReadableStream({start(d){d.enqueue(e.encode(t)),d.close()}}).pipeThrough(new CompressionStream("gzip")),a=[],i=s.getReader();for(;;){const{done:d,value:u}=await i.read();if(d)break;a.push(u)}const o=a.reduce((d,u)=>d+u.length,0),l=new Uint8Array(o);let c=0;for(const d of a)l.set(d,c),c+=d.length;return l}async function xb(t){const r=new ReadableStream({start(c){c.enqueue(t),c.close()}}).pipeThrough(new DecompressionStream("gzip")),s=[],a=r.getReader();for(;;){const{done:c,value:d}=await a.read();if(c)break;s.push(d)}const i=s.reduce((c,d)=>c+d.length,0),o=new Uint8Array(i);let l=0;for(const c of s)o.set(c,l),l+=c.length;return new TextDecoder().decode(o)}function _Y(t,e){return Math.round((1-e/t)*100)}class SY{constructor(){this.dbName="biblia-plus-offline",this.storeName="chapters",this.db=null}async init(){return new Promise((e,r)=>{const s=indexedDB.open(this.dbName,1);s.onerror=()=>r(s.error),s.onsuccess=()=>{this.db=s.result,e()},s.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(this.storeName)){const o=i.createObjectStore(this.storeName,{keyPath:["book","chapter","version"]});o.createIndex("book","book",{unique:!1}),o.createIndex("version","version",{unique:!1}),o.createIndex("downloadedAt","downloadedAt",{unique:!1})}}})}async saveChapter(e,r=!0){this.db||await this.init();let s={...e};if(r&&e.content)try{const a=JSON.stringify(e.content),i=new TextEncoder().encode(a).length,o=await NY(a);s={...e,compressedContent:o,isCompressed:!0,originalSize:i,size:o.length,content:null};const l=_Y(i,o.length);console.log(`[OfflineStorage] Compressed ${e.book} ${e.chapter}: ${l}% saved`)}catch(a){console.warn("[OfflineStorage] Compression failed, saving uncompressed:",a)}return new Promise((a,i)=>{const c=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(s);c.onsuccess=()=>a(),c.onerror=()=>i(c.error)})}async getChapter(e,r,s){return this.db||await this.init(),new Promise(async(a,i)=>{const c=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get([e,r,s]);c.onsuccess=async()=>{const d=c.result;if(!d){a(null);return}if(d.isCompressed&&d.compressedContent)try{const u=await xb(d.compressedContent);d.content=JSON.parse(u),delete d.compressedContent}catch(u){console.error("[OfflineStorage] Decompression failed:",u)}a(d)},c.onerror=()=>i(c.error)})}async getAllChapters(e=!0){return this.db||await this.init(),new Promise(async(r,s)=>{const o=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();o.onsuccess=async()=>{let l=o.result;e&&(l=await Promise.all(l.map(async c=>{if(c.isCompressed&&c.compressedContent)try{const d=await xb(c.compressedContent);return{...c,content:JSON.parse(d),compressedContent:void 0}}catch{return console.error("[OfflineStorage] Decompression failed for:",c.book,c.chapter),c}return c}))),r(l)},o.onerror=()=>s(o.error)})}async getBookChapters(e,r,s=!0){return this.db||await this.init(),new Promise(async(a,i)=>{const c=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();c.onsuccess=async()=>{let d=c.result.filter(u=>u.book===e&&u.version===r);s&&(d=await Promise.all(d.map(async u=>{if(u.isCompressed&&u.compressedContent)try{const h=await xb(u.compressedContent);return{...u,content:JSON.parse(h),compressedContent:void 0}}catch{return console.error("[OfflineStorage] Decompression failed for:",u.book,u.chapter),u}return u}))),a(d)},c.onerror=()=>i(c.error)})}async deleteChapter(e,r,s){return this.db||await this.init(),new Promise((a,i)=>{const c=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete([e,r,s]);c.onsuccess=()=>a(),c.onerror=()=>i(c.error)})}async deleteBook(e,r){this.db||await this.init();const s=await this.getBookChapters(e,r);return new Promise((a,i)=>{const l=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName);let c=0;s.forEach(d=>{const u=l.delete([d.book,d.chapter,d.version]);u.onsuccess=()=>{c++,c===s.length&&a()},u.onerror=()=>i(u.error)}),s.length===0&&a()})}async getTotalSize(){return(await this.getAllChapters()).reduce((r,s)=>r+(s.size||0),0)}async getStorageStats(){const e=await this.getAllChapters();let r=0,s=0;e.forEach(i=>{r+=i.size||0,s+=i.originalSize||i.size||0});const a={totalChapters:e.length,totalSize:r,originalSize:s,compressionSavings:s-r,compressionRatio:s>0?Math.round((1-r/s)*100):0,byBook:{},byVersion:{}};return e.forEach(i=>{a.byBook[i.book]=(a.byBook[i.book]||0)+1,a.byVersion[i.version]=(a.byVersion[i.version]||0)+1}),a}async clearAll(){return this.db||await this.init(),new Promise((e,r)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();i.onsuccess=()=>e(),i.onerror=()=>r(i.error)})}}const mo=new SY;var l3={exports:{}};const kY={},CY=Object.freeze(Object.defineProperty({__proto__:null,default:kY},Symbol.toStringTag,{value:"Module"})),O2=Pu(CY);(function(t,e){var r=void 0,s=function(a){return r||(r=new Promise(function(i,o){var l=typeof a<"u"?a:{},c=l.onAbort;l.onAbort=function(p){o(new Error(p)),c&&c(p)},l.postRun=l.postRun||[],l.postRun.push(function(){i(l)}),t=void 0;var d;d||(d=typeof l<"u"?l:{});var u=typeof window=="object",h=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";d.onRuntimeInitialized=function(){function p(Q,ce){switch(typeof ce){case"boolean":Yz(Q,ce?1:0);break;case"number":Xz(Q,ce);break;case"string":Qz(Q,ce,-1,-1);break;case"object":if(ce===null)Q_(Q);else if(ce.length!=null){var Le=Vm(ce,Fm);Jz(Q,Le,ce.length,-1),Bm(Le)}else zm(Q,"Wrong API use : tried to return a value of an unknown type ("+ce+").",-1);break;default:Q_(Q)}}function w(Q,ce){for(var Le=[],st=0;st<Q;st+=1){var bt=Je(ce+4*st,"i32"),tr=qz(bt);if(tr===1||tr===2)bt=Gz(bt);else if(tr===3)bt=Wz(bt);else if(tr===4){tr=bt,bt=Hz(tr),tr=Kz(tr);for(var ga=new Uint8Array(bt),Wn=0;Wn<bt;Wn+=1)ga[Wn]=A[tr+Wn];bt=ga}else bt=null;Le.push(bt)}return Le}function S(Q,ce){this.Qa=Q,this.db=ce,this.Oa=1,this.lb=[]}function E(Q,ce){if(this.db=ce,ce=ve(Q)+1,this.eb=fy(ce),this.eb===null)throw Error("Unable to allocate memory for the SQL string");oe(Q,W,this.eb,ce),this.kb=this.eb,this.Za=this.pb=null}function V(Q){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Q!=null){var ce=this.filename,Le="/",st=ce;if(Le&&(Le=typeof Le=="string"?Le:Qu(Le),st=ce?Jt(Le+"/"+ce):Le),ce=Xe(!0,!0),st=Dc(st,ce),Q){if(typeof Q=="string"){Le=Array(Q.length);for(var bt=0,tr=Q.length;bt<tr;++bt)Le[bt]=Q.charCodeAt(bt);Q=Le}Sl(st,ce|146),Le=$(st,577),Yt(Le,Q,0,Q.length,0),ye(Le),Sl(st,ce)}}this.handleError(ze(this.filename,J)),this.db=Je(J,"i32"),Y_(this.db),this.fb={},this.Sa={}}var J=lo(4),te=d.cwrap,ze=te("sqlite3_open","number",["string","number"]),Dt=te("sqlite3_close_v2","number",["number"]),Tt=te("sqlite3_exec","number",["number","string","number","number","number"]),Ar=te("sqlite3_changes","number",["number"]),rn=te("sqlite3_prepare_v2","number",["number","string","number","number","number"]),H_=te("sqlite3_sql","string",["number"]),Cz=te("sqlite3_normalized_sql","string",["number"]),W_=te("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ez=te("sqlite3_bind_text","number",["number","number","number","number","number"]),K_=te("sqlite3_bind_blob","number",["number","number","number","number","number"]),Pz=te("sqlite3_bind_double","number",["number","number","number"]),Tz=te("sqlite3_bind_int","number",["number","number","number"]),Az=te("sqlite3_bind_parameter_index","number",["number","string"]),Rz=te("sqlite3_step","number",["number"]),Oz=te("sqlite3_errmsg","string",["number"]),Iz=te("sqlite3_column_count","number",["number"]),Dz=te("sqlite3_data_count","number",["number"]),Mz=te("sqlite3_column_double","number",["number","number"]),G_=te("sqlite3_column_text","string",["number","number"]),Lz=te("sqlite3_column_blob","number",["number","number"]),$z=te("sqlite3_column_bytes","number",["number","number"]),Fz=te("sqlite3_column_type","number",["number","number"]),Vz=te("sqlite3_column_name","string",["number","number"]),Bz=te("sqlite3_reset","number",["number"]),zz=te("sqlite3_clear_bindings","number",["number"]),Uz=te("sqlite3_finalize","number",["number"]),X_=te("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),qz=te("sqlite3_value_type","number",["number"]),Hz=te("sqlite3_value_bytes","number",["number"]),Wz=te("sqlite3_value_text","string",["number"]),Kz=te("sqlite3_value_blob","number",["number"]),Gz=te("sqlite3_value_double","number",["number"]),Xz=te("sqlite3_result_double","",["number","number"]),Q_=te("sqlite3_result_null","",["number"]),Qz=te("sqlite3_result_text","",["number","string","number","number"]),Jz=te("sqlite3_result_blob","",["number","number","number","number"]),Yz=te("sqlite3_result_int","",["number","number"]),zm=te("sqlite3_result_error","",["number","string","number"]),J_=te("sqlite3_aggregate_context","number",["number","number"]),Y_=te("RegisterExtensionFunctions","number",["number"]),Z_=te("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(Q){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Q)?this.Cb(Q):Q!=null&&typeof Q=="object"?this.Db(Q):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Q=Rz(this.Qa);switch(Q){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Q)}},S.prototype.wb=function(Q){return Q==null&&(Q=this.Oa,this.Oa+=1),Mz(this.Qa,Q)},S.prototype.Gb=function(Q){if(Q==null&&(Q=this.Oa,this.Oa+=1),Q=G_(this.Qa,Q),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Q)},S.prototype.Hb=function(Q){return Q==null&&(Q=this.Oa,this.Oa+=1),G_(this.Qa,Q)},S.prototype.getBlob=function(Q){Q==null&&(Q=this.Oa,this.Oa+=1);var ce=$z(this.Qa,Q);Q=Lz(this.Qa,Q);for(var Le=new Uint8Array(ce),st=0;st<ce;st+=1)Le[st]=A[Q+st];return Le},S.prototype.get=function(Q,ce){ce=ce||{},Q!=null&&this.bind(Q)&&this.step(),Q=[];for(var Le=Dz(this.Qa),st=0;st<Le;st+=1)switch(Fz(this.Qa,st)){case 1:var bt=ce.useBigInt?this.Gb(st):this.wb(st);Q.push(bt);break;case 2:Q.push(this.wb(st));break;case 3:Q.push(this.Hb(st));break;case 4:Q.push(this.getBlob(st));break;default:Q.push(null)}return Q},S.prototype.getColumnNames=function(){for(var Q=[],ce=Iz(this.Qa),Le=0;Le<ce;Le+=1)Q.push(Vz(this.Qa,Le));return Q},S.prototype.getAsObject=function(Q,ce){Q=this.get(Q,ce),ce=this.getColumnNames();for(var Le={},st=0;st<ce.length;st+=1)Le[ce[st]]=Q[st];return Le},S.prototype.getSQL=function(){return H_(this.Qa)},S.prototype.getNormalizedSQL=function(){return Cz(this.Qa)},S.prototype.run=function(Q){return Q!=null&&this.bind(Q),this.step(),this.reset()},S.prototype.sb=function(Q,ce){ce==null&&(ce=this.Oa,this.Oa+=1),Q=Ne(Q);var Le=Vm(Q,Fm);this.lb.push(Le),this.db.handleError(Ez(this.Qa,ce,Le,Q.length-1,0))},S.prototype.Bb=function(Q,ce){ce==null&&(ce=this.Oa,this.Oa+=1);var Le=Vm(Q,Fm);this.lb.push(Le),this.db.handleError(K_(this.Qa,ce,Le,Q.length,0))},S.prototype.rb=function(Q,ce){ce==null&&(ce=this.Oa,this.Oa+=1),this.db.handleError((Q===(Q|0)?Tz:Pz)(this.Qa,ce,Q))},S.prototype.Eb=function(Q){Q==null&&(Q=this.Oa,this.Oa+=1),K_(this.Qa,Q,0,0,0)},S.prototype.tb=function(Q,ce){switch(ce==null&&(ce=this.Oa,this.Oa+=1),typeof Q){case"string":this.sb(Q,ce);return;case"number":this.rb(Q,ce);return;case"bigint":this.sb(Q.toString(),ce);return;case"boolean":this.rb(Q+0,ce);return;case"object":if(Q===null){this.Eb(ce);return}if(Q.length!=null){this.Bb(Q,ce);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Q+")."},S.prototype.Db=function(Q){var ce=this;return Object.keys(Q).forEach(function(Le){var st=Az(ce.Qa,Le);st!==0&&ce.tb(Q[Le],st)}),!0},S.prototype.Cb=function(Q){for(var ce=0;ce<Q.length;ce+=1)this.tb(Q[ce],ce+1);return!0},S.prototype.reset=function(){return this.freemem(),zz(this.Qa)===0&&Bz(this.Qa)===0},S.prototype.freemem=function(){for(var Q;(Q=this.lb.pop())!==void 0;)Bm(Q)},S.prototype.free=function(){this.freemem();var Q=Uz(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Q},E.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Q=oh(),ce=lo(4);jt(J),jt(ce);try{this.db.handleError(W_(this.db.db,this.kb,-1,J,ce)),this.kb=Je(ce,"i32");var Le=Je(J,"i32");return Le===0?(this.mb(),{done:!0}):(this.Za=new S(Le,this.db),this.db.fb[Le]=this.Za,{value:this.Za,done:!1})}catch(st){throw this.pb=Pr(this.kb),this.mb(),st}finally{ih(Q)}},E.prototype.mb=function(){Bm(this.eb),this.eb=null},E.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Pr(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(E.prototype[Symbol.iterator]=function(){return this}),V.prototype.run=function(Q,ce){if(!this.db)throw"Database closed";if(ce){Q=this.prepare(Q,ce);try{Q.step()}finally{Q.free()}}else this.handleError(Tt(this.db,Q,0,0,J));return this},V.prototype.exec=function(Q,ce,Le){if(!this.db)throw"Database closed";var st=oh(),bt=null;try{var tr=uy(Q),ga=lo(4);for(Q=[];Je(tr,"i8")!==0;){jt(J),jt(ga),this.handleError(W_(this.db,tr,-1,J,ga));var Wn=Je(J,"i32");if(tr=Je(ga,"i32"),Wn!==0){var bn=null;for(bt=new S(Wn,this),ce!=null&&bt.bind(ce);bt.step();)bn===null&&(bn={columns:bt.getColumnNames(),values:[]},Q.push(bn)),bn.values.push(bt.get(null,Le));bt.free()}}return Q}catch(xa){throw bt&&bt.free(),xa}finally{ih(st)}},V.prototype.each=function(Q,ce,Le,st,bt){typeof ce=="function"&&(st=Le,Le=ce,ce=void 0),Q=this.prepare(Q,ce);try{for(;Q.step();)Le(Q.getAsObject(null,bt))}finally{Q.free()}if(typeof st=="function")return st()},V.prototype.prepare=function(Q,ce){if(jt(J),this.handleError(rn(this.db,Q,-1,J,0)),Q=Je(J,"i32"),Q===0)throw"Nothing to prepare";var Le=new S(Q,this);return ce!=null&&Le.bind(ce),this.fb[Q]=Le},V.prototype.iterateStatements=function(Q){return new E(Q,this)},V.prototype.export=function(){Object.values(this.fb).forEach(function(ce){ce.free()}),Object.values(this.Sa).forEach(oo),this.Sa={},this.handleError(Dt(this.db));var Q=Tr(this.filename);return this.handleError(ze(this.filename,J)),this.db=Je(J,"i32"),Y_(this.db),Q},V.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Q){Q.free()}),Object.values(this.Sa).forEach(oo),this.Sa={},this.Ya&&(oo(this.Ya),this.Ya=void 0),this.handleError(Dt(this.db)),th("/"+this.filename),this.db=null)},V.prototype.handleError=function(Q){if(Q===0)return null;throw Q=Oz(this.db),Error(Q)},V.prototype.getRowsModified=function(){return Ar(this.db)},V.prototype.create_function=function(Q,ce){Object.prototype.hasOwnProperty.call(this.Sa,Q)&&(oo(this.Sa[Q]),delete this.Sa[Q]);var Le=ah(function(st,bt,tr){bt=w(bt,tr);try{var ga=ce.apply(null,bt)}catch(Wn){zm(st,Wn,-1);return}p(st,ga)},"viii");return this.Sa[Q]=Le,this.handleError(X_(this.db,Q,ce.length,1,0,Le,0,0,0)),this},V.prototype.create_aggregate=function(Q,ce){var Le=ce.init||function(){return null},st=ce.finalize||function(bn){return bn},bt=ce.step;if(!bt)throw"An aggregate function must have a step function in "+Q;var tr={};Object.hasOwnProperty.call(this.Sa,Q)&&(oo(this.Sa[Q]),delete this.Sa[Q]),ce=Q+"__finalize",Object.hasOwnProperty.call(this.Sa,ce)&&(oo(this.Sa[ce]),delete this.Sa[ce]);var ga=ah(function(bn,xa,py){var Cl=J_(bn,1);Object.hasOwnProperty.call(tr,Cl)||(tr[Cl]=Le()),xa=w(xa,py),xa=[tr[Cl]].concat(xa);try{tr[Cl]=bt.apply(null,xa)}catch(Zz){delete tr[Cl],zm(bn,Zz,-1)}},"viii"),Wn=ah(function(bn){var xa=J_(bn,1);try{var py=st(tr[xa])}catch(Cl){delete tr[xa],zm(bn,Cl,-1);return}p(bn,py),delete tr[xa]},"vi");return this.Sa[Q]=ga,this.Sa[ce]=Wn,this.handleError(X_(this.db,Q,bt.length-1,1,0,0,ga,Wn,0)),this},V.prototype.updateHook=function(Q){this.Ya&&(Z_(this.db,0,0),oo(this.Ya),this.Ya=void 0),Q&&(this.Ya=ah(function(ce,Le,st,bt,tr){switch(Le){case 18:ce="insert";break;case 23:ce="update";break;case 9:ce="delete";break;default:throw"unknown operationCode in updateHook callback: "+Le}if(st=st?xt(W,st):"",bt=bt?xt(W,bt):"",tr>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Q(ce,st,bt,Number(tr))},"viiiij"),Z_(this.db,this.Ya,0))},d.Database=V};var g={...d},b="./this.program",x=(p,w)=>{throw w},j="",y,v;if(f){var N=O2;j=__dirname+"/",v=p=>(p=H(p)?new URL(p):p,N.readFileSync(p)),y=async p=>(p=H(p)?new URL(p):p,N.readFileSync(p,void 0)),!d.thisProgram&&1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=d,x=(p,w)=>{throw process.exitCode=p,w}}else(u||h)&&(h?j=self.location.href:typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),j=j.startsWith("blob:")?"":j.slice(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1),h&&(v=p=>{var w=new XMLHttpRequest;return w.open("GET",p,!1),w.responseType="arraybuffer",w.send(null),new Uint8Array(w.response)}),y=async p=>{if(H(p))return new Promise((S,E)=>{var V=new XMLHttpRequest;V.open("GET",p,!0),V.responseType="arraybuffer",V.onload=()=>{V.status==200||V.status==0&&V.response?S(V.response):E(V.status)},V.onerror=E,V.send(null)});var w=await fetch(p,{credentials:"same-origin"});if(w.ok)return w.arrayBuffer();throw Error(w.status+" : "+w.url)});var _=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,g),g=null,d.thisProgram&&(b=d.thisProgram);var P=d.wasmBinary,C,T=!1,M,A,W,B,L,K,X,G,ae,H=p=>p.startsWith("file://");function z(){var p=C.buffer;d.HEAP8=A=new Int8Array(p),d.HEAP16=B=new Int16Array(p),d.HEAPU8=W=new Uint8Array(p),d.HEAPU16=new Uint16Array(p),d.HEAP32=L=new Int32Array(p),d.HEAPU32=K=new Uint32Array(p),d.HEAPF32=X=new Float32Array(p),d.HEAPF64=ae=new Float64Array(p),d.HEAP64=G=new BigInt64Array(p),d.HEAPU64=new BigUint64Array(p)}var Z=0,me=null;function Se(p){var w;throw(w=d.onAbort)==null||w.call(d,p),p="Aborted("+p+")",k(p),T=!0,new WebAssembly.RuntimeError(p+". Build with -sASSERTIONS for more info.")}var tt;async function Pt(p){if(!P)try{var w=await y(p);return new Uint8Array(w)}catch{}if(p==tt&&P)p=new Uint8Array(P);else if(v)p=v(p);else throw"both async and sync fetching of the wasm failed";return p}async function Ae(p,w){try{var S=await Pt(p);return await WebAssembly.instantiate(S,w)}catch(E){k(`failed to asynchronously prepare wasm: ${E}`),Se(E)}}async function wt(p){var w=tt;if(!P&&typeof WebAssembly.instantiateStreaming=="function"&&!H(w)&&!f)try{var S=fetch(w,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,p)}catch(E){k(`wasm streaming compile failed: ${E}`),k("falling back to ArrayBuffer instantiation")}return Ae(w,p)}class we{constructor(w){q(this,"name","ExitStatus");this.message=`Program terminated with exit(${w})`,this.status=w}}var ht=p=>{for(;0<p.length;)p.shift()(d)},ct=[],mt=[],ut=()=>{var p=d.preRun.shift();mt.unshift(p)};function Je(p,w="i8"){switch(w.endsWith("*")&&(w="*"),w){case"i1":return A[p];case"i8":return A[p];case"i16":return B[p>>1];case"i32":return L[p>>2];case"i64":return G[p>>3];case"float":return X[p>>2];case"double":return ae[p>>3];case"*":return K[p>>2];default:Se(`invalid type for getValue: ${w}`)}}var ar=d.noExitRuntime||!0;function jt(p){var w="i32";switch(w.endsWith("*")&&(w="*"),w){case"i1":A[p]=0;break;case"i8":A[p]=0;break;case"i16":B[p>>1]=0;break;case"i32":L[p>>2]=0;break;case"i64":G[p>>3]=BigInt(0);break;case"float":X[p>>2]=0;break;case"double":ae[p>>3]=0;break;case"*":K[p>>2]=0;break;default:Se(`invalid type for setValue: ${w}`)}}var qr=typeof TextDecoder<"u"?new TextDecoder:void 0,xt=(p,w=0,S=NaN)=>{var E=w+S;for(S=w;p[S]&&!(S>=E);)++S;if(16<S-w&&p.buffer&&qr)return qr.decode(p.subarray(w,S));for(E="";w<S;){var V=p[w++];if(V&128){var J=p[w++]&63;if((V&224)==192)E+=String.fromCharCode((V&31)<<6|J);else{var te=p[w++]&63;V=(V&240)==224?(V&15)<<12|J<<6|te:(V&7)<<18|J<<12|te<<6|p[w++]&63,65536>V?E+=String.fromCharCode(V):(V-=65536,E+=String.fromCharCode(55296|V>>10,56320|V&1023))}}else E+=String.fromCharCode(V)}return E},Pr=(p,w)=>p?xt(W,p,w):"",Hr=(p,w)=>{for(var S=0,E=p.length-1;0<=E;E--){var V=p[E];V==="."?p.splice(E,1):V===".."?(p.splice(E,1),S++):S&&(p.splice(E,1),S--)}if(w)for(;S;S--)p.unshift("..");return p},Jt=p=>{var w=p.charAt(0)==="/",S=p.slice(-1)==="/";return(p=Hr(p.split("/").filter(E=>!!E),!w).join("/"))||w||(p="."),p&&S&&(p+="/"),(w?"/":"")+p},se=p=>{var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1);return p=w[0],w=w[1],!p&&!w?".":(w&&(w=w.slice(0,-1)),p+w)},rt=p=>p&&p.match(/([^\/]+|\/)\/*$/)[1],I=()=>{if(f){var p=O2;return w=>p.randomFillSync(w)}return w=>crypto.getRandomValues(w)},R=p=>{(R=I())(p)},O=(...p)=>{for(var w="",S=!1,E=p.length-1;-1<=E&&!S;E--){if(S=0<=E?p[E]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";w=S+"/"+w,S=S.charAt(0)==="/"}return w=Hr(w.split("/").filter(V=>!!V),!S).join("/"),(S?"/":"")+w||"."},de=[],ve=p=>{for(var w=0,S=0;S<p.length;++S){var E=p.charCodeAt(S);127>=E?w++:2047>=E?w+=2:55296<=E&&57343>=E?(w+=4,++S):w+=3}return w},oe=(p,w,S,E)=>{if(!(0<E))return 0;var V=S;E=S+E-1;for(var J=0;J<p.length;++J){var te=p.charCodeAt(J);if(55296<=te&&57343>=te){var ze=p.charCodeAt(++J);te=65536+((te&1023)<<10)|ze&1023}if(127>=te){if(S>=E)break;w[S++]=te}else{if(2047>=te){if(S+1>=E)break;w[S++]=192|te>>6}else{if(65535>=te){if(S+2>=E)break;w[S++]=224|te>>12}else{if(S+3>=E)break;w[S++]=240|te>>18,w[S++]=128|te>>12&63}w[S++]=128|te>>6&63}w[S++]=128|te&63}}return w[S]=0,S-V},Ne=(p,w)=>{var S=Array(ve(p)+1);return p=oe(p,S,0,S.length),w&&(S.length=p),S},pt=[];function Bt(p,w){pt[p]={input:[],output:[],cb:w},Yu(p,lr)}var lr={open(p){var w=pt[p.node.rdev];if(!w)throw new _e(43);p.tty=w,p.seekable=!1},close(p){p.tty.cb.fsync(p.tty)},fsync(p){p.tty.cb.fsync(p.tty)},read(p,w,S,E){if(!p.tty||!p.tty.cb.xb)throw new _e(60);for(var V=0,J=0;J<E;J++){try{var te=p.tty.cb.xb(p.tty)}catch{throw new _e(29)}if(te===void 0&&V===0)throw new _e(6);if(te==null)break;V++,w[S+J]=te}return V&&(p.node.atime=Date.now()),V},write(p,w,S,E){if(!p.tty||!p.tty.cb.qb)throw new _e(60);try{for(var V=0;V<E;V++)p.tty.cb.qb(p.tty,w[S+V])}catch{throw new _e(29)}return E&&(p.node.mtime=p.node.ctime=Date.now()),V}},ee={xb(){e:{if(!de.length){var p=null;if(f){var w=Buffer.alloc(256),S=0,E=process.stdin.fd;try{S=N.readSync(E,w,0,256)}catch(V){if(V.toString().includes("EOF"))S=0;else throw V}0<S&&(p=w.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(p=window.prompt("Input: "),p!==null&&(p+=`
`));if(!p){p=null;break e}de=Ne(p,!0)}p=de.shift()}return p},qb(p,w){w===null||w===10?(_(xt(p.output)),p.output=[]):w!=0&&p.output.push(w)},fsync(p){var w;0<((w=p.output)==null?void 0:w.length)&&(_(xt(p.output)),p.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},He={qb(p,w){w===null||w===10?(k(xt(p.output)),p.output=[]):w!=0&&p.output.push(w)},fsync(p){var w;0<((w=p.output)==null?void 0:w.length)&&(k(xt(p.output)),p.output=[])}},je={Wa:null,Xa(){return je.createNode(null,"/",16895,0)},createNode(p,w,S,E){if((S&61440)===24576||(S&61440)===4096)throw new _e(63);return je.Wa||(je.Wa={dir:{node:{Ta:je.La.Ta,Ua:je.La.Ua,lookup:je.La.lookup,hb:je.La.hb,rename:je.La.rename,unlink:je.La.unlink,rmdir:je.La.rmdir,readdir:je.La.readdir,symlink:je.La.symlink},stream:{Va:je.Ma.Va}},file:{node:{Ta:je.La.Ta,Ua:je.La.Ua},stream:{Va:je.Ma.Va,read:je.Ma.read,write:je.Ma.write,ib:je.Ma.ib,jb:je.Ma.jb}},link:{node:{Ta:je.La.Ta,Ua:je.La.Ua,readlink:je.La.readlink},stream:{}},ub:{node:{Ta:je.La.Ta,Ua:je.La.Ua},stream:ly}}),S=Rc(p,w,S,E),hs(S.mode)?(S.La=je.Wa.dir.node,S.Ma=je.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=je.Wa.file.node,S.Ma=je.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=je.Wa.link.node,S.Ma=je.Wa.link.stream):(S.mode&61440)===8192&&(S.La=je.Wa.ub.node,S.Ma=je.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),p&&(p.Na[w]=S,p.atime=p.mtime=p.ctime=S.atime),S},Sb(p){return p.Na?p.Na.subarray?p.Na.subarray(0,p.Ra):new Uint8Array(p.Na):new Uint8Array(0)},La:{Ta(p){var w={};return w.dev=(p.mode&61440)===8192?p.id:1,w.ino=p.id,w.mode=p.mode,w.nlink=1,w.uid=0,w.gid=0,w.rdev=p.rdev,hs(p.mode)?w.size=4096:(p.mode&61440)===32768?w.size=p.Ra:(p.mode&61440)===40960?w.size=p.link.length:w.size=0,w.atime=new Date(p.atime),w.mtime=new Date(p.mtime),w.ctime=new Date(p.ctime),w.blksize=4096,w.blocks=Math.ceil(w.size/w.blksize),w},Ua(p,w){for(var S of["mode","atime","mtime","ctime"])w[S]!=null&&(p[S]=w[S]);w.size!==void 0&&(w=w.size,p.Ra!=w&&(w==0?(p.Na=null,p.Ra=0):(S=p.Na,p.Na=new Uint8Array(w),S&&p.Na.set(S.subarray(0,Math.min(w,p.Ra))),p.Ra=w)))},lookup(){throw je.vb},hb(p,w,S,E){return je.createNode(p,w,S,E)},rename(p,w,S){try{var E=zn(w,S)}catch{}if(E){if(hs(p.mode))for(var V in E.Na)throw new _e(55);Nl(E)}delete p.parent.Na[p.name],w.Na[S]=p,p.name=S,w.ctime=w.mtime=p.parent.ctime=p.parent.mtime=Date.now()},unlink(p,w){delete p.Na[w],p.ctime=p.mtime=Date.now()},rmdir(p,w){var S=zn(p,w),E;for(E in S.Na)throw new _e(55);delete p.Na[w],p.ctime=p.mtime=Date.now()},readdir(p){return[".","..",...Object.keys(p.Na)]},symlink(p,w,S){return p=je.createNode(p,w,41471,0),p.link=S,p},readlink(p){if((p.mode&61440)!==40960)throw new _e(28);return p.link}},Ma:{read(p,w,S,E,V){var J=p.node.Na;if(V>=p.node.Ra)return 0;if(p=Math.min(p.node.Ra-V,E),8<p&&J.subarray)w.set(J.subarray(V,V+p),S);else for(E=0;E<p;E++)w[S+E]=J[V+E];return p},write(p,w,S,E,V,J){if(w.buffer===A.buffer&&(J=!1),!E)return 0;if(p=p.node,p.mtime=p.ctime=Date.now(),w.subarray&&(!p.Na||p.Na.subarray)){if(J)return p.Na=w.subarray(S,S+E),p.Ra=E;if(p.Ra===0&&V===0)return p.Na=w.slice(S,S+E),p.Ra=E;if(V+E<=p.Ra)return p.Na.set(w.subarray(S,S+E),V),E}J=V+E;var te=p.Na?p.Na.length:0;if(te>=J||(J=Math.max(J,te*(1048576>te?2:1.125)>>>0),te!=0&&(J=Math.max(J,256)),te=p.Na,p.Na=new Uint8Array(J),0<p.Ra&&p.Na.set(te.subarray(0,p.Ra),0)),p.Na.subarray&&w.subarray)p.Na.set(w.subarray(S,S+E),V);else for(J=0;J<E;J++)p.Na[V+J]=w[S+J];return p.Ra=Math.max(p.Ra,V+E),E},Va(p,w,S){if(S===1?w+=p.position:S===2&&(p.node.mode&61440)===32768&&(w+=p.node.Ra),0>w)throw new _e(28);return w},ib(p,w,S,E,V){if((p.node.mode&61440)!==32768)throw new _e(43);if(p=p.node.Na,V&2||!p||p.buffer!==A.buffer){V=!0,E=65536*Math.ceil(w/65536);var J=U_(65536,E);if(J&&W.fill(0,J,J+E),E=J,!E)throw new _e(48);p&&((0<S||S+w<p.length)&&(p.subarray?p=p.subarray(S,S+w):p=Array.prototype.slice.call(p,S,S+w)),A.set(p,E))}else V=!1,E=p.byteOffset;return{Kb:E,Ab:V}},jb(p,w,S,E){return je.Ma.write(p,w,0,E,S,!1),0}}},Xe=(p,w)=>{var S=0;return p&&(S|=365),w&&(S|=146),S},Ft=null,yr={},tn=[],Bn=1,us=null,ao=!1,Im=!0,Tc={},_e=class{constructor(p){q(this,"name","ErrnoError");this.Pa=p}},Dm=class{constructor(){q(this,"gb",{});q(this,"node",null)}get flags(){return this.gb.flags}set flags(p){this.gb.flags=p}get position(){return this.gb.position}set position(p){this.gb.position=p}},Mm=class{constructor(p,w,S,E){q(this,"La",{});q(this,"Ma",{});q(this,"ab",null);p||(p=this),this.parent=p,this.Xa=p.Xa,this.id=Bn++,this.name=w,this.mode=S,this.rdev=E,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(p){p?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(p){p?this.mode|=146:this.mode&=-147}};function Wr(p,w={}){if(!p)throw new _e(44);w.nb??(w.nb=!0),p.charAt(0)==="/"||(p="//"+p);var S=0;e:for(;40>S;S++){p=p.split("/").filter(ze=>!!ze);for(var E=Ft,V="/",J=0;J<p.length;J++){var te=J===p.length-1;if(te&&w.parent)break;if(p[J]!==".")if(p[J]==="..")V=se(V),E=E.parent;else{V=Jt(V+"/"+p[J]);try{E=zn(E,p[J])}catch(ze){if((ze==null?void 0:ze.Pa)===44&&te&&w.Jb)return{path:V};throw ze}if(!E.ab||te&&!w.nb||(E=E.ab.root),(E.mode&61440)===40960&&(!te||w.$a)){if(!E.La.readlink)throw new _e(52);E=E.La.readlink(E),E.charAt(0)==="/"||(E=se(V)+"/"+E),p=E+"/"+p.slice(J+1).join("/");continue e}}}return{path:V,node:E}}throw new _e(32)}function Qu(p){for(var w;;){if(p===p.parent)return p=p.Xa.zb,w?p[p.length-1]!=="/"?`${p}/${w}`:p+w:p;w=w?`${p.name}/${w}`:p.name,p=p.parent}}function Ac(p,w){for(var S=0,E=0;E<w.length;E++)S=(S<<5)-S+w.charCodeAt(E)|0;return(p+S>>>0)%us.length}function Nl(p){var w=Ac(p.parent.id,p.name);if(us[w]===p)us[w]=p.bb;else for(w=us[w];w;){if(w.bb===p){w.bb=p.bb;break}w=w.bb}}function zn(p,w){var S=hs(p.mode)?(S=Un(p,"x"))?S:p.La.lookup?0:2:54;if(S)throw new _e(S);for(S=us[Ac(p.id,w)];S;S=S.bb){var E=S.name;if(S.parent.id===p.id&&E===w)return S}return p.La.lookup(p,w)}function Rc(p,w,S,E){return p=new Mm(p,w,S,E),w=Ac(p.parent.id,p.name),p.bb=us[w],us[w]=p}function hs(p){return(p&61440)===16384}function _l(p){var w=["r","w","rw"][p&3];return p&512&&(w+="w"),w}function Un(p,w){if(Im)return 0;if(!w.includes("r")||p.mode&292){if(w.includes("w")&&!(p.mode&146)||w.includes("x")&&!(p.mode&73))return 2}else return 2;return 0}function Lm(p,w){if(!hs(p.mode))return 54;try{return zn(p,w),20}catch{}return Un(p,"wx")}function $m(p,w,S){try{var E=zn(p,w)}catch(V){return V.Pa}if(p=Un(p,"wx"))return p;if(S){if(!hs(E.mode))return 54;if(E===E.parent||Qu(E)==="/")return 10}else if(hs(E.mode))return 31;return 0}function Oc(p){if(!p)throw new _e(63);return p}function fs(p){if(p=tn[p],!p)throw new _e(8);return p}function Ic(p,w=-1){if(p=Object.assign(new Dm,p),w==-1)e:{for(w=0;4096>=w;w++)if(!tn[w])break e;throw new _e(33)}return p.fd=w,tn[w]=p}function oy(p,w=-1){var S,E;return p=Ic(p,w),(E=(S=p.Ma)==null?void 0:S.Rb)==null||E.call(S,p),p}function Ju(p,w,S){var E=p==null?void 0:p.Ma.Ua;p=E?p:w,E??(E=w.La.Ua),Oc(E),E(p,S)}var ly={open(p){var w,S;p.Ma=yr[p.node.rdev].Ma,(S=(w=p.Ma).open)==null||S.call(w,p)},Va(){throw new _e(70)}};function Yu(p,w){yr[p]={Ma:w}}function pa(p,w){var S=w==="/";if(S&&Ft)throw new _e(10);if(!S&&w){var E=Wr(w,{nb:!1});if(w=E.path,E=E.node,E.ab)throw new _e(10);if(!hs(E.mode))throw new _e(54)}w={type:p,Wb:{},zb:w,Ib:[]},p=p.Xa(w),p.Xa=w,w.root=p,S?Ft=p:E&&(E.ab=w,E.Xa&&E.Xa.Ib.push(w))}function $s(p,w,S){var E=Wr(p,{parent:!0}).node;if(p=rt(p),!p)throw new _e(28);if(p==="."||p==="..")throw new _e(20);var V=Lm(E,p);if(V)throw new _e(V);if(!E.La.hb)throw new _e(63);return E.La.hb(E,p,w,S)}function Dc(p,w=438){return $s(p,w&4095|32768,0)}function Fs(p,w=511){return $s(p,w&1023|16384,0)}function Mc(p,w,S){typeof S>"u"&&(S=w,w=438),$s(p,w|8192,S)}function Zu(p,w){if(!O(p))throw new _e(44);var S=Wr(w,{parent:!0}).node;if(!S)throw new _e(44);w=rt(w);var E=Lm(S,w);if(E)throw new _e(E);if(!S.La.symlink)throw new _e(63);S.La.symlink(S,w,p)}function eh(p){var w=Wr(p,{parent:!0}).node;p=rt(p);var S=zn(w,p),E=$m(w,p,!0);if(E)throw new _e(E);if(!w.La.rmdir)throw new _e(63);if(S.ab)throw new _e(10);w.La.rmdir(w,p),Nl(S)}function th(p){var w=Wr(p,{parent:!0}).node;if(!w)throw new _e(44);p=rt(p);var S=zn(w,p),E=$m(w,p,!1);if(E)throw new _e(E);if(!w.La.unlink)throw new _e(63);if(S.ab)throw new _e(10);w.La.unlink(w,p),Nl(S)}function io(p,w){return p=Wr(p,{$a:!w}).node,Oc(p.La.Ta)(p)}function rh(p,w,S,E){Ju(p,w,{mode:S&4095|w.mode&-4096,ctime:Date.now(),Fb:E})}function Sl(p,w){p=typeof p=="string"?Wr(p,{$a:!0}).node:p,rh(null,p,w)}function sh(p,w,S){if(hs(w.mode))throw new _e(31);if((w.mode&61440)!==32768)throw new _e(28);var E=Un(w,"w");if(E)throw new _e(E);Ju(p,w,{size:S,timestamp:Date.now()})}function $(p,w,S=438){if(p==="")throw new _e(44);if(typeof w=="string"){var E={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[w];if(typeof E>"u")throw Error(`Unknown file open mode: ${w}`);w=E}if(S=w&64?S&4095|32768:0,typeof p=="object")E=p;else{var V=p.endsWith("/");p=Wr(p,{$a:!(w&131072),Jb:!0}),E=p.node,p=p.path}var J=!1;if(w&64)if(E){if(w&128)throw new _e(20)}else{if(V)throw new _e(31);E=$s(p,S|511,0),J=!0}if(!E)throw new _e(44);if((E.mode&61440)===8192&&(w&=-513),w&65536&&!hs(E.mode))throw new _e(54);if(!J&&(V=E?(E.mode&61440)===40960?32:hs(E.mode)&&(_l(w)!=="r"||w&576)?31:Un(E,_l(w)):44))throw new _e(V);return w&512&&!J&&(V=E,V=typeof V=="string"?Wr(V,{$a:!0}).node:V,sh(null,V,0)),w&=-131713,V=Ic({node:E,path:Qu(E),flags:w,seekable:!0,position:0,Ma:E.Ma,Lb:[],error:!1}),V.Ma.open&&V.Ma.open(V),J&&Sl(E,S&511),!d.logReadFiles||w&1||p in Tc||(Tc[p]=1),V}function ye(p){if(p.fd===null)throw new _e(8);p.ob&&(p.ob=null);try{p.Ma.close&&p.Ma.close(p)}catch(w){throw w}finally{tn[p.fd]=null}p.fd=null}function Nt(p,w,S){if(p.fd===null)throw new _e(8);if(!p.seekable||!p.Ma.Va)throw new _e(70);if(S!=0&&S!=1&&S!=2)throw new _e(28);p.position=p.Ma.Va(p,w,S),p.Lb=[]}function yt(p,w,S,E,V){if(0>E||0>V)throw new _e(28);if(p.fd===null)throw new _e(8);if((p.flags&2097155)===1)throw new _e(8);if(hs(p.node.mode))throw new _e(31);if(!p.Ma.read)throw new _e(28);var J=typeof V<"u";if(!J)V=p.position;else if(!p.seekable)throw new _e(70);return w=p.Ma.read(p,w,S,E,V),J||(p.position+=w),w}function Yt(p,w,S,E,V){if(0>E||0>V)throw new _e(28);if(p.fd===null)throw new _e(8);if(!(p.flags&2097155))throw new _e(8);if(hs(p.node.mode))throw new _e(31);if(!p.Ma.write)throw new _e(28);p.seekable&&p.flags&1024&&Nt(p,0,2);var J=typeof V<"u";if(!J)V=p.position;else if(!p.seekable)throw new _e(70);return w=p.Ma.write(p,w,S,E,V,void 0),J||(p.position+=w),w}function Tr(p){var w,S=$(p,S||0);p=io(p).size;var E=new Uint8Array(p);return yt(S,E,0,p,0),w=E,ye(S),w}function It(p,w,S){p=Jt("/dev/"+p);var E=Xe(!!w,!!S);It.yb??(It.yb=64);var V=It.yb++<<8|0;Yu(V,{open(J){J.seekable=!1},close(){var J;(J=S==null?void 0:S.buffer)!=null&&J.length&&S(10)},read(J,te,ze,Dt){for(var Tt=0,Ar=0;Ar<Dt;Ar++){try{var rn=w()}catch{throw new _e(29)}if(rn===void 0&&Tt===0)throw new _e(6);if(rn==null)break;Tt++,te[ze+Ar]=rn}return Tt&&(J.node.atime=Date.now()),Tt},write(J,te,ze,Dt){for(var Tt=0;Tt<Dt;Tt++)try{S(te[ze+Tt])}catch{throw new _e(29)}return Dt&&(J.node.mtime=J.node.ctime=Date.now()),Tt}}),Mc(p,E,V)}var Vt={};function br(p,w,S){if(w.charAt(0)==="/")return w;if(p=p===-100?"/":fs(p).path,w.length==0){if(!S)throw new _e(44);return p}return p+"/"+w}function qn(p,w){L[p>>2]=w.dev,L[p+4>>2]=w.mode,K[p+8>>2]=w.nlink,L[p+12>>2]=w.uid,L[p+16>>2]=w.gid,L[p+20>>2]=w.rdev,G[p+24>>3]=BigInt(w.size),L[p+32>>2]=4096,L[p+36>>2]=w.blocks;var S=w.atime.getTime(),E=w.mtime.getTime(),V=w.ctime.getTime();return G[p+40>>3]=BigInt(Math.floor(S/1e3)),K[p+48>>2]=S%1e3*1e6,G[p+56>>3]=BigInt(Math.floor(E/1e3)),K[p+64>>2]=E%1e3*1e6,G[p+72>>3]=BigInt(Math.floor(V/1e3)),K[p+80>>2]=V%1e3*1e6,G[p+88>>3]=BigInt(w.ino),0}var Zr=void 0,pr=()=>{var p=L[+Zr>>2];return Zr+=4,p},cr=0,Hn=[0,31,60,91,121,152,182,213,244,274,305,335],pi=[0,31,59,90,120,151,181,212,243,273,304,334],nh={},B_=p=>{var w;M=p,ar||0<cr||((w=d.onExit)==null||w.call(d,p),T=!0),x(p,new we(p))},_z=p=>{if(!T)try{if(p(),!(ar||0<cr))try{M=p=M,B_(p)}catch(w){w instanceof we||w=="unwind"||x(1,w)}}catch(w){w instanceof we||w=="unwind"||x(1,w)}},cy={},z_=()=>{if(!dy){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"},w;for(w in cy)cy[w]===void 0?delete p[w]:p[w]=cy[w];var S=[];for(w in p)S.push(`${w}=${p[w]}`);dy=S}return dy},dy,uy=p=>{var w=ve(p)+1,S=lo(w);return oe(p,W,S,w),S},Sz=(p,w,S,E)=>{var V={string:Tt=>{var Ar=0;return Tt!=null&&Tt!==0&&(Ar=uy(Tt)),Ar},array:Tt=>{var Ar=lo(Tt.length);return A.set(Tt,Ar),Ar}};p=d["_"+p];var J=[],te=0;if(E)for(var ze=0;ze<E.length;ze++){var Dt=V[S[ze]];Dt?(te===0&&(te=oh()),J[ze]=Dt(E[ze])):J[ze]=E[ze]}return S=p(...J),S=function(Tt){return te!==0&&ih(te),w==="string"?Tt?xt(W,Tt):"":w==="boolean"?!!Tt:Tt}(S)},Fm=0,Vm=(p,w)=>(w=w==1?lo(p.length):fy(p.length),p.subarray||p.slice||(p=new Uint8Array(p)),W.set(p,w),w),kl,hy=[],gi,oo=p=>{kl.delete(gi.get(p)),gi.set(p,null),hy.push(p)},ah=(p,w)=>{if(!kl){kl=new WeakMap;var S=gi.length;if(kl)for(var E=0;E<0+S;E++){var V=gi.get(E);V&&kl.set(V,E)}}if(S=kl.get(p)||0)return S;if(hy.length)S=hy.pop();else{try{gi.grow(1)}catch(Dt){throw Dt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Dt}S=gi.length-1}try{gi.set(S,p)}catch(Dt){if(!(Dt instanceof TypeError))throw Dt;if(typeof WebAssembly.Function=="function"){var J=WebAssembly.Function;E={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},V={parameters:[],results:w[0]=="v"?[]:[E[w[0]]]};for(var te=1;te<w.length;++te)V.parameters.push(E[w[te]]);w=new J(V,p)}else{E=[1],V=w.slice(0,1),w=w.slice(1),te={i:127,p:127,j:126,f:125,d:124,e:111},E.push(96);var ze=w.length;128>ze?E.push(ze):E.push(ze%128|128,ze>>7);for(J of w)E.push(te[J]);V=="v"?E.push(0):E.push(1,te[V]),w=[0,97,115,109,1,0,0,0,1],J=E.length,128>J?w.push(J):w.push(J%128|128,J>>7),w.push(...E),w.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),w=new WebAssembly.Module(new Uint8Array(w)),w=new WebAssembly.Instance(w,{e:{f:p}}).exports.f}gi.set(S,w)}return kl.set(p,S),S};us=Array(4096),pa(je,"/"),Fs("/tmp"),Fs("/home"),Fs("/home/web_user"),function(){Fs("/dev"),Yu(259,{read:()=>0,write:(E,V,J,te)=>te,Va:()=>0}),Mc("/dev/null",259),Bt(1280,ee),Bt(1536,He),Mc("/dev/tty",1280),Mc("/dev/tty1",1536);var p=new Uint8Array(1024),w=0,S=()=>(w===0&&(R(p),w=p.byteLength),p[--w]);It("random",S),It("urandom",S),Fs("/dev/shm"),Fs("/dev/shm/tmp")}(),function(){Fs("/proc");var p=Fs("/proc/self");Fs("/proc/self/fd"),pa({Xa(){var w=Rc(p,"fd",16895,73);return w.Ma={Va:je.Ma.Va},w.La={lookup(S,E){S=+E;var V=fs(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>V.path},id:S+1},S.parent=S},readdir(){return Array.from(tn.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},w}},"/proc/self/fd")}(),je.vb=new _e(44),je.vb.stack="<generic error, no stack>";var kz={a:(p,w,S,E)=>Se(`Assertion failed: ${p?xt(W,p):""}, at: `+[w?w?xt(W,w):"":"unknown filename",S,E?E?xt(W,E):"":"unknown function"]),i:function(p,w){try{return p=p?xt(W,p):"",Sl(p,w),0}catch(S){if(typeof Vt>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(p,w,S){try{if(w=w?xt(W,w):"",w=br(p,w),S&-8)return-28;var E=Wr(w,{$a:!0}).node;return E?(p="",S&4&&(p+="r"),S&2&&(p+="w"),S&1&&(p+="x"),p&&Un(E,p)?-2:0):-44}catch(V){if(typeof Vt>"u"||V.name!=="ErrnoError")throw V;return-V.Pa}},j:function(p,w){try{var S=fs(p);return rh(S,S.node,w,!1),0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},h:function(p){try{var w=fs(p);return Ju(w,w.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof Vt>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(p,w,S){Zr=S;try{var E=fs(p);switch(w){case 0:var V=pr();if(0>V)break;for(;tn[V];)V++;return oy(E,V).fd;case 1:case 2:return 0;case 3:return E.flags;case 4:return V=pr(),E.flags|=V,0;case 12:return V=pr(),B[V+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(J){if(typeof Vt>"u"||J.name!=="ErrnoError")throw J;return-J.Pa}},g:function(p,w){try{var S=fs(p),E=S.node,V=S.Ma.Ta;p=V?S:E,V??(V=E.La.Ta),Oc(V);var J=V(p);return qn(w,J)}catch(te){if(typeof Vt>"u"||te.name!=="ErrnoError")throw te;return-te.Pa}},H:function(p,w){w=-9007199254740992>w||9007199254740992<w?NaN:Number(w);try{if(isNaN(w))return 61;var S=fs(p);if(0>w||!(S.flags&2097155))throw new _e(28);return sh(S,S.node,w),0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},G:function(p,w){try{if(w===0)return-28;var S=ve("/")+1;return w<S?-68:(oe("/",W,p,w),S)}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},K:function(p,w){try{return p=p?xt(W,p):"",qn(w,io(p,!0))}catch(S){if(typeof Vt>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(p,w,S){try{return w=w?xt(W,w):"",w=br(p,w),Fs(w,S),0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},J:function(p,w,S,E){try{w=w?xt(W,w):"";var V=E&256;return w=br(p,w,E&4096),qn(S,V?io(w,!0):io(w))}catch(J){if(typeof Vt>"u"||J.name!=="ErrnoError")throw J;return-J.Pa}},x:function(p,w,S,E){Zr=E;try{w=w?xt(W,w):"",w=br(p,w);var V=E?pr():0;return $(w,S,V).fd}catch(J){if(typeof Vt>"u"||J.name!=="ErrnoError")throw J;return-J.Pa}},v:function(p,w,S,E){try{if(w=w?xt(W,w):"",w=br(p,w),0>=E)return-28;var V=Wr(w).node;if(!V)throw new _e(44);if(!V.La.readlink)throw new _e(28);var J=V.La.readlink(V),te=Math.min(E,ve(J)),ze=A[S+te];return oe(J,W,S,E+1),A[S+te]=ze,te}catch(Dt){if(typeof Vt>"u"||Dt.name!=="ErrnoError")throw Dt;return-Dt.Pa}},u:function(p){try{return p=p?xt(W,p):"",eh(p),0}catch(w){if(typeof Vt>"u"||w.name!=="ErrnoError")throw w;return-w.Pa}},f:function(p,w){try{return p=p?xt(W,p):"",qn(w,io(p))}catch(S){if(typeof Vt>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(p,w,S){try{return w=w?xt(W,w):"",w=br(p,w),S===0?th(w):S===512?eh(w):Se("Invalid flags passed to unlinkat"),0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},q:function(p,w,S){try{w=w?xt(W,w):"",w=br(p,w,!0);var E=Date.now(),V,J;if(S){var te=K[S>>2]+4294967296*L[S+4>>2],ze=L[S+8>>2];ze==1073741823?V=E:ze==1073741822?V=null:V=1e3*te+ze/1e6,S+=16,te=K[S>>2]+4294967296*L[S+4>>2],ze=L[S+8>>2],ze==1073741823?J=E:ze==1073741822?J=null:J=1e3*te+ze/1e6}else J=V=E;if((J??V)!==null){p=V;var Dt=Wr(w,{$a:!0}).node;Oc(Dt.La.Ua)(Dt,{atime:p,mtime:J})}return 0}catch(Tt){if(typeof Vt>"u"||Tt.name!=="ErrnoError")throw Tt;return-Tt.Pa}},m:()=>Se(""),l:()=>{ar=!1,cr=0},A:function(p,w){p=-9007199254740992>p||9007199254740992<p?NaN:Number(p),p=new Date(1e3*p),L[w>>2]=p.getSeconds(),L[w+4>>2]=p.getMinutes(),L[w+8>>2]=p.getHours(),L[w+12>>2]=p.getDate(),L[w+16>>2]=p.getMonth(),L[w+20>>2]=p.getFullYear()-1900,L[w+24>>2]=p.getDay();var S=p.getFullYear();L[w+28>>2]=(S%4!==0||S%100===0&&S%400!==0?pi:Hn)[p.getMonth()]+p.getDate()-1|0,L[w+36>>2]=-(60*p.getTimezoneOffset()),S=new Date(p.getFullYear(),6,1).getTimezoneOffset();var E=new Date(p.getFullYear(),0,1).getTimezoneOffset();L[w+32>>2]=(S!=E&&p.getTimezoneOffset()==Math.min(E,S))|0},y:function(p,w,S,E,V,J,te){V=-9007199254740992>V||9007199254740992<V?NaN:Number(V);try{if(isNaN(V))return 61;var ze=fs(E);if(w&2&&!(S&2)&&(ze.flags&2097155)!==2)throw new _e(2);if((ze.flags&2097155)===1)throw new _e(2);if(!ze.Ma.ib)throw new _e(43);if(!p)throw new _e(28);var Dt=ze.Ma.ib(ze,p,V,w,S),Tt=Dt.Kb;return L[J>>2]=Dt.Ab,K[te>>2]=Tt,0}catch(Ar){if(typeof Vt>"u"||Ar.name!=="ErrnoError")throw Ar;return-Ar.Pa}},z:function(p,w,S,E,V,J){J=-9007199254740992>J||9007199254740992<J?NaN:Number(J);try{var te=fs(V);if(S&2){if(S=J,(te.node.mode&61440)!==32768)throw new _e(43);if(!(E&2)){var ze=W.slice(p,p+w);te.Ma.jb&&te.Ma.jb(te,ze,S,w,E)}}}catch(Dt){if(typeof Vt>"u"||Dt.name!=="ErrnoError")throw Dt;return-Dt.Pa}},n:(p,w)=>{if(nh[p]&&(clearTimeout(nh[p].id),delete nh[p]),!w)return 0;var S=setTimeout(()=>{delete nh[p],_z(()=>q_(p,performance.now()))},w);return nh[p]={id:S,Xb:w},0},B:(p,w,S,E)=>{var V=new Date().getFullYear(),J=new Date(V,0,1).getTimezoneOffset();V=new Date(V,6,1).getTimezoneOffset(),K[p>>2]=60*Math.max(J,V),L[w>>2]=+(J!=V),w=te=>{var ze=Math.abs(te);return`UTC${0<=te?"-":"+"}${String(Math.floor(ze/60)).padStart(2,"0")}${String(ze%60).padStart(2,"0")}`},p=w(J),w=w(V),V<J?(oe(p,W,S,17),oe(w,W,E,17)):(oe(p,W,E,17),oe(w,W,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:p=>{var w=W.length;if(p>>>=0,2147483648<p)return!1;for(var S=1;4>=S;S*=2){var E=w*(1+.2/S);E=Math.min(E,p+100663296);e:{E=(Math.min(2147483648,65536*Math.ceil(Math.max(p,E)/65536))-C.buffer.byteLength+65535)/65536|0;try{C.grow(E),z();var V=1;break e}catch{}V=void 0}if(V)return!0}return!1},E:(p,w)=>{var S=0;return z_().forEach((E,V)=>{var J=w+S;for(V=K[p+4*V>>2]=J,J=0;J<E.length;++J)A[V++]=E.charCodeAt(J);A[V]=0,S+=E.length+1}),0},F:(p,w)=>{var S=z_();K[p>>2]=S.length;var E=0;return S.forEach(V=>E+=V.length+1),K[w>>2]=E,0},e:function(p){try{var w=fs(p);return ye(w),0}catch(S){if(typeof Vt>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(p,w){try{var S=fs(p);return A[w]=S.tty?2:hs(S.mode)?3:(S.mode&61440)===40960?7:4,B[w+2>>1]=0,G[w+8>>3]=BigInt(0),G[w+16>>3]=BigInt(0),0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return E.Pa}},w:function(p,w,S,E){try{e:{var V=fs(p);p=w;for(var J,te=w=0;te<S;te++){var ze=K[p>>2],Dt=K[p+4>>2];p+=8;var Tt=yt(V,A,ze,Dt,J);if(0>Tt){var Ar=-1;break e}if(w+=Tt,Tt<Dt)break;typeof J<"u"&&(J+=Tt)}Ar=w}return K[E>>2]=Ar,0}catch(rn){if(typeof Vt>"u"||rn.name!=="ErrnoError")throw rn;return rn.Pa}},D:function(p,w,S,E){w=-9007199254740992>w||9007199254740992<w?NaN:Number(w);try{if(isNaN(w))return 61;var V=fs(p);return Nt(V,w,S),G[E>>3]=BigInt(V.position),V.ob&&w===0&&S===0&&(V.ob=null),0}catch(J){if(typeof Vt>"u"||J.name!=="ErrnoError")throw J;return J.Pa}},I:function(p){var S;try{var w=fs(p);return(S=w.Ma)!=null&&S.fsync?w.Ma.fsync(w):0}catch(E){if(typeof Vt>"u"||E.name!=="ErrnoError")throw E;return E.Pa}},t:function(p,w,S,E){try{e:{var V=fs(p);p=w;for(var J,te=w=0;te<S;te++){var ze=K[p>>2],Dt=K[p+4>>2];p+=8;var Tt=Yt(V,A,ze,Dt,J);if(0>Tt){var Ar=-1;break e}if(w+=Tt,Tt<Dt)break;typeof J<"u"&&(J+=Tt)}Ar=w}return K[E>>2]=Ar,0}catch(rn){if(typeof Vt>"u"||rn.name!=="ErrnoError")throw rn;return rn.Pa}},k:B_},Ue;(async function(){var S;function p(E){var V;return Ue=E.exports,C=Ue.M,z(),gi=Ue.O,Z--,(V=d.monitorRunDependencies)==null||V.call(d,Z),Z==0&&me&&(E=me,me=null,E()),Ue}Z++,(S=d.monitorRunDependencies)==null||S.call(d,Z);var w={a:kz};return d.instantiateWasm?new Promise(E=>{d.instantiateWasm(w,(V,J)=>{p(V),E(V.exports)})}):(tt??(tt=d.locateFile?d.locateFile("sql-wasm.wasm",j):j+"sql-wasm.wasm"),p((await wt(w)).instance))})(),d._sqlite3_free=p=>(d._sqlite3_free=Ue.P)(p),d._sqlite3_value_text=p=>(d._sqlite3_value_text=Ue.Q)(p),d._sqlite3_prepare_v2=(p,w,S,E,V)=>(d._sqlite3_prepare_v2=Ue.R)(p,w,S,E,V),d._sqlite3_step=p=>(d._sqlite3_step=Ue.S)(p),d._sqlite3_reset=p=>(d._sqlite3_reset=Ue.T)(p),d._sqlite3_exec=(p,w,S,E,V)=>(d._sqlite3_exec=Ue.U)(p,w,S,E,V),d._sqlite3_finalize=p=>(d._sqlite3_finalize=Ue.V)(p),d._sqlite3_column_name=(p,w)=>(d._sqlite3_column_name=Ue.W)(p,w),d._sqlite3_column_text=(p,w)=>(d._sqlite3_column_text=Ue.X)(p,w),d._sqlite3_column_type=(p,w)=>(d._sqlite3_column_type=Ue.Y)(p,w),d._sqlite3_errmsg=p=>(d._sqlite3_errmsg=Ue.Z)(p),d._sqlite3_clear_bindings=p=>(d._sqlite3_clear_bindings=Ue._)(p),d._sqlite3_value_blob=p=>(d._sqlite3_value_blob=Ue.$)(p),d._sqlite3_value_bytes=p=>(d._sqlite3_value_bytes=Ue.aa)(p),d._sqlite3_value_double=p=>(d._sqlite3_value_double=Ue.ba)(p),d._sqlite3_value_int=p=>(d._sqlite3_value_int=Ue.ca)(p),d._sqlite3_value_type=p=>(d._sqlite3_value_type=Ue.da)(p),d._sqlite3_result_blob=(p,w,S,E)=>(d._sqlite3_result_blob=Ue.ea)(p,w,S,E),d._sqlite3_result_double=(p,w)=>(d._sqlite3_result_double=Ue.fa)(p,w),d._sqlite3_result_error=(p,w,S)=>(d._sqlite3_result_error=Ue.ga)(p,w,S),d._sqlite3_result_int=(p,w)=>(d._sqlite3_result_int=Ue.ha)(p,w),d._sqlite3_result_int64=(p,w)=>(d._sqlite3_result_int64=Ue.ia)(p,w),d._sqlite3_result_null=p=>(d._sqlite3_result_null=Ue.ja)(p),d._sqlite3_result_text=(p,w,S,E)=>(d._sqlite3_result_text=Ue.ka)(p,w,S,E),d._sqlite3_aggregate_context=(p,w)=>(d._sqlite3_aggregate_context=Ue.la)(p,w),d._sqlite3_column_count=p=>(d._sqlite3_column_count=Ue.ma)(p),d._sqlite3_data_count=p=>(d._sqlite3_data_count=Ue.na)(p),d._sqlite3_column_blob=(p,w)=>(d._sqlite3_column_blob=Ue.oa)(p,w),d._sqlite3_column_bytes=(p,w)=>(d._sqlite3_column_bytes=Ue.pa)(p,w),d._sqlite3_column_double=(p,w)=>(d._sqlite3_column_double=Ue.qa)(p,w),d._sqlite3_bind_blob=(p,w,S,E,V)=>(d._sqlite3_bind_blob=Ue.ra)(p,w,S,E,V),d._sqlite3_bind_double=(p,w,S)=>(d._sqlite3_bind_double=Ue.sa)(p,w,S),d._sqlite3_bind_int=(p,w,S)=>(d._sqlite3_bind_int=Ue.ta)(p,w,S),d._sqlite3_bind_text=(p,w,S,E,V)=>(d._sqlite3_bind_text=Ue.ua)(p,w,S,E,V),d._sqlite3_bind_parameter_index=(p,w)=>(d._sqlite3_bind_parameter_index=Ue.va)(p,w),d._sqlite3_sql=p=>(d._sqlite3_sql=Ue.wa)(p),d._sqlite3_normalized_sql=p=>(d._sqlite3_normalized_sql=Ue.xa)(p),d._sqlite3_changes=p=>(d._sqlite3_changes=Ue.ya)(p),d._sqlite3_close_v2=p=>(d._sqlite3_close_v2=Ue.za)(p),d._sqlite3_create_function_v2=(p,w,S,E,V,J,te,ze,Dt)=>(d._sqlite3_create_function_v2=Ue.Aa)(p,w,S,E,V,J,te,ze,Dt),d._sqlite3_update_hook=(p,w,S)=>(d._sqlite3_update_hook=Ue.Ba)(p,w,S),d._sqlite3_open=(p,w)=>(d._sqlite3_open=Ue.Ca)(p,w);var fy=d._malloc=p=>(fy=d._malloc=Ue.Da)(p),Bm=d._free=p=>(Bm=d._free=Ue.Ea)(p);d._RegisterExtensionFunctions=p=>(d._RegisterExtensionFunctions=Ue.Fa)(p);var U_=(p,w)=>(U_=Ue.Ga)(p,w),q_=(p,w)=>(q_=Ue.Ha)(p,w),ih=p=>(ih=Ue.Ia)(p),lo=p=>(lo=Ue.Ja)(p),oh=()=>(oh=Ue.Ka)();d.stackSave=()=>oh(),d.stackRestore=p=>ih(p),d.stackAlloc=p=>lo(p),d.cwrap=(p,w,S,E)=>{var V=!S||S.every(J=>J==="number"||J==="boolean");return w!=="string"&&V&&!E?d["_"+p]:(...J)=>Sz(p,w,S,J)},d.addFunction=ah,d.removeFunction=oo,d.UTF8ToString=Pr,d.ALLOC_NORMAL=Fm,d.allocate=Vm,d.allocateUTF8OnStack=uy;function my(){function p(){var V;if(d.calledRun=!0,!T){if(!d.noFSInit&&!ao){var w,S;ao=!0,E??(E=d.stdin),w??(w=d.stdout),S??(S=d.stderr),E?It("stdin",E):Zu("/dev/tty","/dev/stdin"),w?It("stdout",null,w):Zu("/dev/tty","/dev/stdout"),S?It("stderr",null,S):Zu("/dev/tty1","/dev/stderr"),$("/dev/stdin",0),$("/dev/stdout",1),$("/dev/stderr",1)}if(Ue.N(),Im=!1,(V=d.onRuntimeInitialized)==null||V.call(d),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var E=d.postRun.shift();ct.unshift(E)}ht(ct)}}if(0<Z)me=my;else{if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)ut();ht(mt),0<Z?me=my:d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1),p()},1)):p()}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return my(),l}),r)};t.exports=s,t.exports.default=s})(l3);var EY=l3.exports;const PY=Lx(EY),TY={job:"j",at:"atos"};function AY(t){const e=t.toLowerCase();return TY[e]||e}class RY{constructor(){this.db=null,this.isLoading=!1,this.loadPromise=null}async init(){return this.db?!0:this.loadPromise?(await this.loadPromise,this.db!==null):(this.loadPromise=this.loadDatabase(),await this.loadPromise,this.db!==null)}async loadDatabase(){if(!(this.isLoading||this.db)){this.isLoading=!0;try{console.log("[BibleSQLite] Initializing sql.js...");const e=await PY({locateFile:i=>`https://sql.js.org/dist/${i}`}),r=du?"/bible.db":"./bible.db";console.log(`[BibleSQLite] Fetching bible.db from ${r}...`);const s=await fetch(r);if(!s.ok)throw new Error(`Failed to fetch bible.db: ${s.status}`);const a=await s.arrayBuffer();this.db=new e.Database(new Uint8Array(a)),console.log("[BibleSQLite] Database loaded successfully")}catch(e){console.error("[BibleSQLite] Error loading database:",e),this.db=null}finally{this.isLoading=!1}}}async getBooks(){if(await this.init(),!this.db)return[];try{const e=this.db.exec("SELECT * FROM books ORDER BY book_order");if(!e.length)return[];const r=e[0].columns;return e[0].values.map(s=>{const a={};return r.forEach((i,o)=>{a[i]=s[o]}),a})}catch(e){return console.error("[BibleSQLite] Error getting books:",e),[]}}async getBook(e){if(await this.init(),!this.db)return null;try{const r=AY(e),s=this.db.prepare("SELECT * FROM books WHERE abbrev = ?");if(s.bind([r]),s.step()){const a=s.getAsObject();return s.free(),a}return s.free(),null}catch(r){return console.error("[BibleSQLite] Error getting book:",r),null}}async getChapter(e,r){if(await this.init(),!this.db)return null;try{const s=await this.getBook(e);if(!s)return console.warn(`[BibleSQLite] Book not found: ${e}`),null;const a=this.db.prepare("SELECT verse, text FROM verses WHERE book_id = ? AND chapter = ? ORDER BY verse");a.bind([s.id,r]);const i=[];for(;a.step();){const o=a.getAsObject();i.push({verse:o.verse,text:o.text})}return a.free(),i.length===0?(console.warn(`[BibleSQLite] No verses found for ${e} ${r}`),null):{book:s.abbrev,bookName:s.name,chapter:r,verses:i,totalChapters:s.chapters}}catch(s){return console.error("[BibleSQLite] Error getting chapter:",s),null}}async getVerse(e,r,s){if(await this.init(),!this.db)return null;try{const a=await this.getBook(e);if(!a)return null;const i=this.db.prepare("SELECT text FROM verses WHERE book_id = ? AND chapter = ? AND verse = ?");i.bind([a.id,r,s]);let o=null;return i.step()&&(o=i.getAsObject().text),i.free(),o}catch(a){return console.error("[BibleSQLite] Error getting verse:",a),null}}async searchVerses(e,r=50){if(await this.init(),!this.db)return[];try{const s=`%${e}%`,a=this.db.prepare(`
        SELECT b.abbrev as book, v.chapter, v.verse, v.text 
        FROM verses v 
        JOIN books b ON v.book_id = b.id 
        WHERE v.text LIKE ? 
        ORDER BY b.book_order, v.chapter, v.verse
        LIMIT ?
      `);a.bind([s,r]);const i=[];for(;a.step();){const o=a.getAsObject();i.push({book:o.book,chapter:o.chapter,verse:o.verse,text:o.text})}return a.free(),i}catch(s){return console.error("[BibleSQLite] Error searching verses:",s),[]}}isReady(){return this.db!==null}close(){this.db&&(this.db.close(),this.db=null)}}const qa=new RY,c3=m.createContext(void 0);function dN(){const t=m.useContext(c3);if(!t)throw new Error("useOffline must be used within OfflineProvider");return t}function OY({children:t}){const[e,r]=m.useState(navigator.onLine),[s,a]=m.useState(new Set),[i,o]=m.useState(!1),[l,c]=m.useState(0),[d,u]=m.useState(!1),{toast:h}=nr();m.useEffect(()=>{async function P(){try{await mo.init();const C=await mo.getAllChapters(),T=new Set(C.map(A=>`${A.book}-${A.chapter}-${A.version}`));a(T);const M=()=>{setTimeout(async()=>{try{const A=await qa.init();u(A),A&&console.log("[OfflineProvider] SQLite Bible database ready")}catch(A){console.error("Error initializing SQLite in background:",A)}},3e3)};"requestIdleCallback"in window?window.requestIdleCallback(M):M()}catch(C){console.error("Error initializing offline storage:",C)}}P()},[]),m.useEffect(()=>{const P=()=>{r(!0),h({title:"Conectado",description:"Conexo com a internet restabelecida"})},C=()=>{r(!1),h({title:"Modo Offline",description:"Voc pode continuar lendo o contedo baixado",variant:"destructive"})};return window.addEventListener("online",P),window.addEventListener("offline",C),()=>{window.removeEventListener("online",P),window.removeEventListener("offline",C)}},[h]);const f=async(P,C,T)=>{var M;try{o(!0);const A=await Xs(`/api/bible/${T}/${P}/${C}`);if(!A.ok)throw new Error("Falha ao baixar captulo");const W=await A.json(),B=JSON.stringify(W),L=new Blob([B]).size,K=((M=W.verses)==null?void 0:M.length)||0;await mo.saveChapter({book:P,chapter:C,version:T,content:W,downloadedAt:Date.now(),size:L});try{await Ze("POST","/api/offline/content",{book:P,chapter:C,version:T,size:L,verseCount:K})}catch(G){console.error("Failed to sync with backend:",G)}const X=`${P}-${C}-${T}`;a(G=>new Set(G).add(X)),h({title:"Captulo baixado!",description:`${P} ${C} disponvel offline`})}catch(A){h({variant:"destructive",title:"Erro ao baixar",description:A.message||"No foi possvel baixar o captulo"})}finally{o(!1)}},g=async(P,C,T)=>{try{o(!0),c(0);for(let M=1;M<=T;M++)await f(P,M,C),c(Math.round(M/T*100));h({title:"Livro completo baixado!",description:`${P} disponvel offline`})}catch(M){h({variant:"destructive",title:"Erro ao baixar livro",description:M.message})}finally{o(!1),c(0)}},b=async(P,C,T)=>{try{await mo.deleteChapter(P,C,T);const M=`${P}-${C}-${T}`;a(A=>{const W=new Set(A);return W.delete(M),W}),h({title:"Captulo removido",description:"Contedo offline excludo"})}catch(M){h({variant:"destructive",title:"Erro ao remover",description:M.message})}},x=async(P,C)=>{try{await mo.deleteBook(P,C),a(T=>{const M=new Set(T);return Array.from(T).forEach(A=>{A.startsWith(`${P}-`)&&A.endsWith(`-${C}`)&&M.delete(A)}),M}),h({title:"Livro removido",description:"Todos os captulos excludos"})}catch(T){h({variant:"destructive",title:"Erro ao remover livro",description:T.message})}},j=(P,C,T)=>{const M=`${P}-${C}-${T}`;return s.has(M)},y=async(P,C,T)=>{try{const M=await mo.getChapter(P,C,T);if(M!=null&&M.content)return console.log(`[Offline] Loaded ${P} ${C} from IndexedDB`),M.content;try{if(d||await qa.init()&&u(!0),qa.isReady()){const A=await qa.getChapter(P,C);if(A)return console.log(`[Offline] Loaded ${P} ${C} from SQLite (NVI fallback)`),{book:{name:A.bookName,abbrev:A.book},chapter:{number:A.chapter},verses:A.verses.map(W=>({number:W.verse,text:W.text})),totalChapters:A.totalChapters}}}catch(A){console.error("[Offline] SQLite fallback failed:",A)}return null}catch(M){return console.error("Error fetching offline chapter:",M),null}},v=async(P,C)=>{try{d||(await qa.init(),u(qa.isReady()));const T=await qa.getChapter(P,C);return T?{book:T.book,bookName:T.bookName,chapter:T.chapter,verses:T.verses,totalChapters:T.totalChapters}:null}catch(T){return console.error("Error fetching SQLite chapter:",T),null}},N=async()=>{try{return d||await qa.init()&&u(!0),qa.isReady()?(await qa.getBooks()).map(C=>({name:C.name,abbrev:{pt:C.abbrev},chapters:C.chapters,testament:C.testament})):[]}catch(P){return console.error("Error fetching SQLite books:",P),[]}},_=async()=>{try{await mo.clearAll(),a(new Set),h({title:"Cache limpo",description:"Todo o contedo offline foi removido"})}catch(P){h({variant:"destructive",title:"Erro ao limpar cache",description:P.message})}},k=async()=>await mo.getStorageStats();return n.jsx(c3.Provider,{value:{isOnline:e,downloadedChapters:s,isDownloading:i,downloadProgress:l,sqliteReady:d,downloadChapter:f,downloadBook:g,deleteChapter:b,deleteBook:x,isChapterOffline:j,getOfflineChapter:y,getSqliteChapter:v,getSqliteBooks:N,clearAllOffline:_,getStorageStats:k},children:t})}function IY(){const{theme:t,toggleTheme:e}=cN();return n.jsxs(D,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",children:[t==="light"?n.jsx(CG,{className:"h-5 w-5"}):n.jsx(MG,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}var DY=m.createContext(void 0);function vl(t){const e=m.useContext(DY);return t||e||"ltr"}var vb="rovingFocusGroup.onEntryFocus",MY={bubbles:!1,cancelable:!0},Av="RovingFocusGroup",[Pw,d3,LY]=Lu(Av),[$Y,Uu]=Mr(Av,[LY]),[FY,VY]=$Y(Av),u3=m.forwardRef((t,e)=>n.jsx(Pw.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Pw.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(BY,{...t,ref:e})})}));u3.displayName=Av;var BY=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=m.useRef(null),g=Qe(e,f),b=vl(i),[x=null,j]=Ds({prop:o,defaultProp:l,onChange:c}),[y,v]=m.useState(!1),N=vr(d),_=d3(r),k=m.useRef(!1),[P,C]=m.useState(0);return m.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(vb,N),()=>T.removeEventListener(vb,N)},[N]),n.jsx(FY,{scope:r,orientation:s,dir:b,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(T=>j(T),[j]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>C(T=>T-1),[]),children:n.jsx(Pe.div,{tabIndex:y||P===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{k.current=!0}),onFocus:ue(t.onFocus,T=>{const M=!k.current;if(T.target===T.currentTarget&&M&&!y){const A=new CustomEvent(vb,MY);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const W=_().filter(G=>G.focusable),B=W.find(G=>G.active),L=W.find(G=>G.id===x),X=[B,L,...W].filter(Boolean).map(G=>G.ref.current);m3(X,u)}}k.current=!1}),onBlur:ue(t.onBlur,()=>v(!1))})})}),h3="RovingFocusGroupItem",f3=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=t,l=gn(),c=i||l,d=VY(h3,r),u=d.currentTabStopId===c,h=d3(r),{onFocusableItemAdd:f,onFocusableItemRemove:g}=d;return m.useEffect(()=>{if(s)return f(),()=>g()},[s,f,g]),n.jsx(Pw.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(Pe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,b=>{s?d.onItemFocus(c):b.preventDefault()}),onFocus:ue(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ue(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=qY(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=h().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const v=y.indexOf(b.currentTarget);y=d.loop?HY(y,v+1):y.slice(v+1)}setTimeout(()=>m3(y))}})})})});f3.displayName=h3;var zY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qY(t,e,r){const s=UY(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return zY[s]}function m3(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function HY(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var uN=u3,hN=f3,Tw=["Enter"," "],WY=["ArrowDown","PageUp","Home"],p3=["ArrowUp","PageDown","End"],KY=[...WY,...p3],GY={ltr:[...Tw,"ArrowRight"],rtl:[...Tw,"ArrowLeft"]},XY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bm="Menu",[Ef,QY,JY]=Lu(bm),[Cc,g3]=Mr(bm,[JY,xl,Uu]),Rv=xl(),x3=Uu(),[YY,Ec]=Cc(bm),[ZY,wm]=Cc(bm),v3=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=t,l=Rv(e),[c,d]=m.useState(null),u=m.useRef(!1),h=vr(i),f=vl(a);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),n.jsx(bv,{...l,children:n.jsx(YY,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(ZY,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:s})})})};v3.displayName=bm;var eZ="MenuAnchor",fN=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,a=Rv(r);return n.jsx(hm,{...a,...s,ref:e})});fN.displayName=eZ;var mN="MenuPortal",[tZ,y3]=Cc(mN,{forceMount:void 0}),b3=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:a}=t,i=Ec(mN,e);return n.jsx(tZ,{scope:e,forceMount:r,children:n.jsx(Yr,{present:r||i.open,children:n.jsx($u,{asChild:!0,container:a,children:s})})})};b3.displayName=mN;var ua="MenuContent",[rZ,pN]=Cc(ua),w3=m.forwardRef((t,e)=>{const r=y3(ua,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,i=Ec(ua,t.__scopeMenu),o=wm(ua,t.__scopeMenu);return n.jsx(Ef.Provider,{scope:t.__scopeMenu,children:n.jsx(Yr,{present:s||i.open,children:n.jsx(Ef.Slot,{scope:t.__scopeMenu,children:o.modal?n.jsx(sZ,{...a,ref:e}):n.jsx(nZ,{...a,ref:e})})})})}),sZ=m.forwardRef((t,e)=>{const r=Ec(ua,t.__scopeMenu),s=m.useRef(null),a=Qe(e,s);return m.useEffect(()=>{const i=s.current;if(i)return Pv(i)},[]),n.jsx(gN,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),nZ=m.forwardRef((t,e)=>{const r=Ec(ua,t.__scopeMenu);return n.jsx(gN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),aZ=tl("MenuContent.ScrollLock"),gN=m.forwardRef((t,e)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:b,...x}=t,j=Ec(ua,r),y=wm(ua,r),v=Rv(r),N=x3(r),_=QY(r),[k,P]=m.useState(null),C=m.useRef(null),T=Qe(e,C,j.onContentChange),M=m.useRef(0),A=m.useRef(""),W=m.useRef(0),B=m.useRef(null),L=m.useRef("right"),K=m.useRef(0),X=b?mm:m.Fragment,G=b?{as:aZ,allowPinchZoom:!0}:void 0,ae=z=>{var we,ht;const Z=A.current+z,me=_().filter(ct=>!ct.disabled),Se=document.activeElement,tt=(we=me.find(ct=>ct.ref.current===Se))==null?void 0:we.textValue,Pt=me.map(ct=>ct.textValue),Ae=xZ(Pt,Z,tt),wt=(ht=me.find(ct=>ct.textValue===Ae))==null?void 0:ht.ref.current;(function ct(mt){A.current=mt,window.clearTimeout(M.current),mt!==""&&(M.current=window.setTimeout(()=>ct(""),1e3))})(Z),wt&&setTimeout(()=>wt.focus())};m.useEffect(()=>()=>window.clearTimeout(M.current),[]),Cv();const H=m.useCallback(z=>{var me,Se;return L.current===((me=B.current)==null?void 0:me.side)&&yZ(z,(Se=B.current)==null?void 0:Se.area)},[]);return n.jsx(rZ,{scope:r,searchRef:A,onItemEnter:m.useCallback(z=>{H(z)&&z.preventDefault()},[H]),onItemLeave:m.useCallback(z=>{var Z;H(z)||((Z=C.current)==null||Z.focus(),P(null))},[H]),onTriggerLeave:m.useCallback(z=>{H(z)&&z.preventDefault()},[H]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(z=>{B.current=z},[]),children:n.jsx(X,{...G,children:n.jsx(fm,{asChild:!0,trapped:a,onMountAutoFocus:ue(i,z=>{var Z;z.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(kc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:n.jsx(uN,{asChild:!0,...N,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:P,onEntryFocus:ue(c,z=>{y.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(wv,{role:"menu","aria-orientation":"vertical","data-state":L3(j.open),"data-radix-menu-content":"",dir:y.dir,...v,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,z=>{const me=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Se=z.ctrlKey||z.altKey||z.metaKey,tt=z.key.length===1;me&&(z.key==="Tab"&&z.preventDefault(),!Se&&tt&&ae(z.key));const Pt=C.current;if(z.target!==Pt||!KY.includes(z.key))return;z.preventDefault();const wt=_().filter(we=>!we.disabled).map(we=>we.ref.current);p3.includes(z.key)&&wt.reverse(),pZ(wt)}),onBlur:ue(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(M.current),A.current="")}),onPointerMove:ue(t.onPointerMove,Pf(z=>{const Z=z.target,me=K.current!==z.clientX;if(z.currentTarget.contains(Z)&&me){const Se=z.clientX>K.current?"right":"left";L.current=Se,K.current=z.clientX}}))})})})})})})});w3.displayName=ua;var iZ="MenuGroup",xN=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Pe.div,{role:"group",...s,ref:e})});xN.displayName=iZ;var oZ="MenuLabel",j3=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Pe.div,{...s,ref:e})});j3.displayName=oZ;var nx="MenuItem",I2="menu.itemSelect",Ov=m.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:s,...a}=t,i=m.useRef(null),o=wm(nx,t.__scopeMenu),l=pN(nx,t.__scopeMenu),c=Qe(e,i),d=m.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(I2,{bubbles:!0,cancelable:!0});h.addEventListener(I2,g=>s==null?void 0:s(g),{once:!0}),D1(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(N3,{...a,ref:c,disabled:r,onClick:ue(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:ue(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ue(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||Tw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ov.displayName=nx;var N3=m.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=t,o=pN(nx,r),l=x3(r),c=m.useRef(null),d=Qe(e,c),[u,h]=m.useState(!1),[f,g]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[i.children]),n.jsx(Ef.ItemSlot,{scope:r,disabled:s,textValue:a??f,children:n.jsx(hN,{asChild:!0,...l,focusable:!s,children:n.jsx(Pe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:ue(t.onPointerMove,Pf(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(t.onPointerLeave,Pf(b=>o.onItemLeave(b))),onFocus:ue(t.onFocus,()=>h(!0)),onBlur:ue(t.onBlur,()=>h(!1))})})})}),lZ="MenuCheckboxItem",_3=m.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:s,...a}=t;return n.jsx(P3,{scope:t.__scopeMenu,checked:r,children:n.jsx(Ov,{role:"menuitemcheckbox","aria-checked":ax(r)?"mixed":r,...a,ref:e,"data-state":yN(r),onSelect:ue(a.onSelect,()=>s==null?void 0:s(ax(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_3.displayName=lZ;var S3="MenuRadioGroup",[cZ,dZ]=Cc(S3,{value:void 0,onValueChange:()=>{}}),k3=m.forwardRef((t,e)=>{const{value:r,onValueChange:s,...a}=t,i=vr(s);return n.jsx(cZ,{scope:t.__scopeMenu,value:r,onValueChange:i,children:n.jsx(xN,{...a,ref:e})})});k3.displayName=S3;var C3="MenuRadioItem",E3=m.forwardRef((t,e)=>{const{value:r,...s}=t,a=dZ(C3,t.__scopeMenu),i=r===a.value;return n.jsx(P3,{scope:t.__scopeMenu,checked:i,children:n.jsx(Ov,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":yN(i),onSelect:ue(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});E3.displayName=C3;var vN="MenuItemIndicator",[P3,uZ]=Cc(vN,{checked:!1}),T3=m.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:s,...a}=t,i=uZ(vN,r);return n.jsx(Yr,{present:s||ax(i.checked)||i.checked===!0,children:n.jsx(Pe.span,{...a,ref:e,"data-state":yN(i.checked)})})});T3.displayName=vN;var hZ="MenuSeparator",A3=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});A3.displayName=hZ;var fZ="MenuArrow",R3=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,a=Rv(r);return n.jsx(jv,{...a,...s,ref:e})});R3.displayName=fZ;var mZ="MenuSub",[rpe,O3]=Cc(mZ),Rh="MenuSubTrigger",I3=m.forwardRef((t,e)=>{const r=Ec(Rh,t.__scopeMenu),s=wm(Rh,t.__scopeMenu),a=O3(Rh,t.__scopeMenu),i=pN(Rh,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(fN,{asChild:!0,...d,children:n.jsx(N3,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":L3(r.open),...t,ref:lv(e,a.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ue(t.onPointerMove,Pf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ue(t.onPointerLeave,Pf(h=>{var g,b;u();const f=(g=r.content)==null?void 0:g.getBoundingClientRect();if(f){const x=(b=r.content)==null?void 0:b.dataset.side,j=x==="right",y=j?-5:5,v=f[j?"left":"right"],N=f[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:f.top},{x:N,y:f.top},{x:N,y:f.bottom},{x:v,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ue(t.onKeyDown,h=>{var g;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||GY[s.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});I3.displayName=Rh;var D3="MenuSubContent",M3=m.forwardRef((t,e)=>{const r=y3(ua,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,i=Ec(ua,t.__scopeMenu),o=wm(ua,t.__scopeMenu),l=O3(D3,t.__scopeMenu),c=m.useRef(null),d=Qe(e,c);return n.jsx(Ef.Provider,{scope:t.__scopeMenu,children:n.jsx(Yr,{present:s||i.open,children:n.jsx(Ef.Slot,{scope:t.__scopeMenu,children:n.jsx(gN,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ue(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ue(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ue(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),f=XY[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),u.preventDefault())})})})})})});M3.displayName=D3;function L3(t){return t?"open":"closed"}function ax(t){return t==="indeterminate"}function yN(t){return ax(t)?"indeterminate":t?"checked":"unchecked"}function pZ(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function gZ(t,e){return t.map((r,s)=>t[(e+s)%t.length])}function xZ(t,e,r){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=gZ(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function vZ(t,e){const{x:r,y:s}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function yZ(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return vZ(r,e)}function Pf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bZ=v3,wZ=fN,jZ=b3,NZ=w3,_Z=xN,SZ=j3,kZ=Ov,CZ=_3,EZ=k3,PZ=E3,TZ=T3,AZ=A3,RZ=R3,OZ=I3,IZ=M3,bN="DropdownMenu",[DZ,spe]=Mr(bN,[g3]),en=g3(),[MZ,$3]=DZ(bN),F3=t=>{const{__scopeDropdownMenu:e,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=en(e),d=m.useRef(null),[u=!1,h]=Ds({prop:a,defaultProp:i,onChange:o});return n.jsx(MZ,{scope:e,triggerId:gn(),triggerRef:d,contentId:gn(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:n.jsx(bZ,{...c,open:u,onOpenChange:h,dir:s,modal:l,children:r})})};F3.displayName=bN;var V3="DropdownMenuTrigger",B3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=t,i=$3(V3,r),o=en(r);return n.jsx(wZ,{asChild:!0,...o,children:n.jsx(Pe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:lv(e,i.triggerRef),onPointerDown:ue(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ue(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});B3.displayName=V3;var LZ="DropdownMenuPortal",z3=t=>{const{__scopeDropdownMenu:e,...r}=t,s=en(e);return n.jsx(jZ,{...s,...r})};z3.displayName=LZ;var U3="DropdownMenuContent",q3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=$3(U3,r),i=en(r),o=m.useRef(!1);return n.jsx(NZ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:e,onCloseAutoFocus:ue(t.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ue(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q3.displayName=U3;var $Z="DropdownMenuGroup",FZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(_Z,{...a,...s,ref:e})});FZ.displayName=$Z;var VZ="DropdownMenuLabel",H3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(SZ,{...a,...s,ref:e})});H3.displayName=VZ;var BZ="DropdownMenuItem",W3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(kZ,{...a,...s,ref:e})});W3.displayName=BZ;var zZ="DropdownMenuCheckboxItem",K3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(CZ,{...a,...s,ref:e})});K3.displayName=zZ;var UZ="DropdownMenuRadioGroup",qZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(EZ,{...a,...s,ref:e})});qZ.displayName=UZ;var HZ="DropdownMenuRadioItem",G3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(PZ,{...a,...s,ref:e})});G3.displayName=HZ;var WZ="DropdownMenuItemIndicator",X3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(TZ,{...a,...s,ref:e})});X3.displayName=WZ;var KZ="DropdownMenuSeparator",Q3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(AZ,{...a,...s,ref:e})});Q3.displayName=KZ;var GZ="DropdownMenuArrow",XZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(RZ,{...a,...s,ref:e})});XZ.displayName=GZ;var QZ="DropdownMenuSubTrigger",J3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(OZ,{...a,...s,ref:e})});J3.displayName=QZ;var JZ="DropdownMenuSubContent",Y3=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=en(r);return n.jsx(IZ,{...a,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y3.displayName=JZ;var YZ=F3,ZZ=B3,eee=z3,Z3=q3,eL=H3,tL=W3,rL=K3,sL=G3,nL=X3,aL=Q3,iL=J3,oL=Y3;const Iv=YZ,Dv=ZZ,tee=m.forwardRef(({className:t,inset:e,children:r,...s},a)=>n.jsxs(iL,{ref:a,className:be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s,children:[r,n.jsx(Da,{className:"ml-auto"})]}));tee.displayName=iL.displayName;const ree=m.forwardRef(({className:t,...e},r)=>n.jsx(oL,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));ree.displayName=oL.displayName;const jm=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>n.jsx(eee,{children:n.jsx(Z3,{ref:s,sideOffset:e,className:be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));jm.displayName=Z3.displayName;const sa=m.forwardRef(({className:t,inset:e,...r},s)=>n.jsx(tL,{ref:s,className:be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));sa.displayName=tL.displayName;const see=m.forwardRef(({className:t,children:e,checked:r,...s},a)=>n.jsxs(rL,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(nL,{children:n.jsx(as,{className:"h-4 w-4"})})}),e]}));see.displayName=rL.displayName;const nee=m.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(sL,{ref:s,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(nL,{children:n.jsx(FD,{className:"h-2 w-2 fill-current"})})}),e]}));nee.displayName=sL.displayName;const lL=m.forwardRef(({className:t,inset:e,...r},s)=>n.jsx(eL,{ref:s,className:be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));lL.displayName=eL.displayName;const Aw=m.forwardRef(({className:t,...e},r)=>n.jsx(aL,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));Aw.displayName=aL.displayName;const D2=[{code:"pt",name:"Portugus",flag:""},{code:"en",name:"English",flag:""},{code:"nl",name:"Nederlands",flag:""},{code:"es",name:"Espaol",flag:""}];function aee(){const{language:t,setLanguage:e}=Lr();return D2.find(r=>r.code===t),n.jsxs(Iv,{children:[n.jsx(Dv,{asChild:!0,children:n.jsxs(D,{variant:"ghost",size:"icon","data-testid":"button-language-selector",children:[n.jsx(Pi,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Select Language"})]})}),n.jsx(jm,{align:"end",children:D2.map(r=>n.jsxs(sa,{onClick:()=>e(r.code),className:"flex items-center gap-2","data-testid":`menu-item-language-${r.code}`,children:[n.jsx("span",{className:"text-lg",children:r.flag}),n.jsx("span",{children:r.name}),t===r.code&&n.jsx("span",{className:"ml-auto text-primary",children:""})]},r.code))})]})}var wN="Avatar",[iee,npe]=Mr(wN),[oee,cL]=iee(wN),dL=m.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[a,i]=m.useState("idle");return n.jsx(oee,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(Pe.span,{...s,ref:e})})});dL.displayName=wN;var uL="AvatarImage",hL=m.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=t,o=cL(uL,r),l=lee(s,i),c=vr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Ur(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Pe.img,{...i,ref:e,src:s}):null});hL.displayName=uL;var fL="AvatarFallback",mL=m.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...a}=t,i=cL(fL,r),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(Pe.span,{...a,ref:e}):null});mL.displayName=fL;function M2(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lee(t,{referrerPolicy:e,crossOrigin:r}){const s=dee(),a=m.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>M2(i,t));return Ur(()=>{l(M2(i,t))},[i,t]),Ur(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,e]),o}function cee(){return()=>{}}function dee(){return m.useSyncExternalStore(cee,()=>!0,()=>!1)}var pL=dL,gL=hL,xL=mL;const Li=m.forwardRef(({className:t,...e},r)=>n.jsx(pL,{ref:r,className:be(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Li.displayName=pL.displayName;const Go=m.forwardRef(({className:t,...e},r)=>n.jsx(gL,{ref:r,className:be("aspect-square h-full w-full",t),...e}));Go.displayName=gL.displayName;const $i=m.forwardRef(({className:t,...e},r)=>n.jsx(xL,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$i.displayName=xL.displayName;function uee(){const{user:t,session:e}=Vn();if(!t)return null;const r=t.displayName||t.fullName||t.email||"Usurio",s=r.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2),a=async()=>{try{await bs.auth.signOut(),e!=null&&e.access_token&&await Xs("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}}).catch(()=>{}),window.location.href="/"}catch(i){console.error("Logout failed:",i),window.location.href="/"}};return n.jsxs(Iv,{children:[n.jsx(Dv,{asChild:!0,children:n.jsx(D,{variant:"ghost",size:"icon",className:"h-10 w-10 shrink-0","data-testid":"button-user-profile",children:n.jsxs(Li,{className:"h-9 w-9",children:[t.profileImageUrl&&n.jsx(Go,{src:t.profileImageUrl,alt:r}),n.jsx($i,{className:"text-xs font-semibold bg-gradient-to-br from-primary to-accent text-primary-foreground",children:s})]})})}),n.jsxs(jm,{align:"end",className:"w-56",children:[n.jsxs(lL,{className:"flex items-center gap-2",children:[n.jsxs(Li,{className:"h-8 w-8",children:[t.profileImageUrl&&n.jsx(Go,{src:t.profileImageUrl,alt:r}),n.jsx($i,{className:"text-xs font-semibold",children:s})]}),n.jsxs("div",{className:"flex flex-col overflow-hidden",children:[n.jsx("span",{className:"text-sm font-semibold truncate",children:r}),n.jsx("span",{className:"text-xs text-muted-foreground truncate",children:t.email})]})]}),n.jsx(Aw,{}),n.jsx(Te,{href:"/perfil",children:n.jsxs(sa,{"data-testid":"menu-item-profile",children:[n.jsx(pv,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Meu Perfil"})]})}),n.jsx(Te,{href:"/pricing",children:n.jsxs(sa,{"data-testid":"menu-item-pricing",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Assinaturas"})]})}),n.jsx(Te,{href:"/configuraes",children:n.jsxs(sa,{"data-testid":"menu-item-settings",children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Configuraes"})]})}),n.jsx(Aw,{}),n.jsxs(sa,{onClick:a,"data-testid":"menu-item-logout",children:[n.jsx(Sf,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Sair"})]})]})]})}function hee(){const[t]=eo(),{t:e}=Lr(),r=[{title:e.nav.home,url:"/",icon:z1,testId:"nav-home"},{title:e.nav.bible,url:"/bible-reader",icon:Sr,testId:"nav-bible"},{title:e.nav.plans,url:"/plans",icon:Hs,testId:"nav-plans"},{title:e.nav.progress,url:"/progress",icon:ci,testId:"nav-progress"},{title:e.nav.you,url:"/perfil",icon:pv,testId:"nav-you"}];return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t md:hidden","data-testid":"bottom-nav",children:n.jsx("div",{className:"flex items-center justify-around h-16 max-w-screen-xl mx-auto px-2",children:r.map(s=>{const a=s.icon,i=t===s.url;return n.jsxs(Te,{href:s.url,className:`flex flex-col items-center justify-center gap-1 px-3 py-2 min-w-[4rem] transition-colors ${i?"text-primary":"text-muted-foreground hover:text-foreground"}`,"data-testid":s.testId,"aria-current":i?"page":void 0,children:[n.jsx(a,{className:`h-5 w-5 ${i?"fill-current":""}`}),n.jsx("span",{className:"text-xs font-medium",children:s.title})]},s.url)})})})}const Y=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Y.displayName="Card";const he=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",t),...e}));he.displayName="CardHeader";const ge=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",t),...e}));ge.displayName="CardTitle";const qe=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("text-sm text-muted-foreground",t),...e}));qe.displayName="CardDescription";const re=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("p-6 pt-0",t),...e}));re.displayName="CardContent";const or=m.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",t),...e}));or.displayName="CardFooter";const fee=Fu("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ot({className:t,variant:e,...r}){return n.jsx("div",{className:be(fee({variant:e}),t),...r})}var jN="Collapsible",[mee,vL]=Mr(jN),[pee,NN]=mee(jN),yL=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=t,[c=!1,d]=Ds({prop:s,defaultProp:a,onChange:o});return n.jsx(pee,{scope:r,disabled:i,contentId:gn(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:n.jsx(Pe.div,{"data-state":SN(c),"data-disabled":i?"":void 0,...l,ref:e})})});yL.displayName=jN;var bL="CollapsibleTrigger",wL=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...s}=t,a=NN(bL,r);return n.jsx(Pe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":SN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:e,onClick:ue(t.onClick,a.onOpenToggle)})});wL.displayName=bL;var _N="CollapsibleContent",jL=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=NN(_N,t.__scopeCollapsible);return n.jsx(Yr,{present:r||a.open,children:({present:i})=>n.jsx(gee,{...s,ref:e,present:i})})});jL.displayName=_N;var gee=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=t,o=NN(_N,r),[l,c]=m.useState(s),d=m.useRef(null),u=Qe(e,d),h=m.useRef(0),f=h.current,g=m.useRef(0),b=g.current,x=o.open||l,j=m.useRef(x),y=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(v)},[]),Ur(()=>{const v=d.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const N=v.getBoundingClientRect();h.current=N.height,g.current=N.width,j.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(s)}},[o.open,s]),n.jsx(Pe.div,{"data-state":SN(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:x&&a})});function SN(t){return t?"open":"closed"}var xee=yL,vee=wL,yee=jL,ro="Accordion",bee=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kN,wee,jee]=Lu(ro),[Mv,ape]=Mr(ro,[jee,vL]),CN=vL(),NL=$e.forwardRef((t,e)=>{const{type:r,...s}=t,a=s,i=s;return n.jsx(kN.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?n.jsx(kee,{...i,ref:e}):n.jsx(See,{...a,ref:e})})});NL.displayName=ro;var[_L,Nee]=Mv(ro),[SL,_ee]=Mv(ro,{collapsible:!1}),See=$e.forwardRef((t,e)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[l,c]=Ds({prop:r,defaultProp:s,onChange:a});return n.jsx(_L,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:$e.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(SL,{scope:t.__scopeAccordion,collapsible:i,children:n.jsx(kL,{...o,ref:e})})})}),kee=$e.forwardRef((t,e)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=t,[o=[],l]=Ds({prop:r,defaultProp:s,onChange:a}),c=$e.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=$e.useCallback(u=>l((h=[])=>h.filter(f=>f!==u)),[l]);return n.jsx(_L,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(SL,{scope:t.__scopeAccordion,collapsible:!0,children:n.jsx(kL,{...i,ref:e})})})}),[Cee,Lv]=Mv(ro),kL=$e.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=t,l=$e.useRef(null),c=Qe(l,e),d=wee(r),h=vl(a)==="ltr",f=ue(t.onKeyDown,g=>{var T;if(!bee.includes(g.key))return;const b=g.target,x=d().filter(M=>{var A;return!((A=M.ref.current)!=null&&A.disabled)}),j=x.findIndex(M=>M.ref.current===b),y=x.length;if(j===-1)return;g.preventDefault();let v=j;const N=0,_=y-1,k=()=>{v=j+1,v>_&&(v=N)},P=()=>{v=j-1,v<N&&(v=_)};switch(g.key){case"Home":v=N;break;case"End":v=_;break;case"ArrowRight":i==="horizontal"&&(h?k():P());break;case"ArrowDown":i==="vertical"&&k();break;case"ArrowLeft":i==="horizontal"&&(h?P():k());break;case"ArrowUp":i==="vertical"&&P();break}const C=v%y;(T=x[C].ref.current)==null||T.focus()});return n.jsx(Cee,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(kN.Slot,{scope:r,children:n.jsx(Pe.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:f})})})}),ix="AccordionItem",[Eee,EN]=Mv(ix),CL=$e.forwardRef((t,e)=>{const{__scopeAccordion:r,value:s,...a}=t,i=Lv(ix,r),o=Nee(ix,r),l=CN(r),c=gn(),d=s&&o.value.includes(s)||!1,u=i.disabled||t.disabled;return n.jsx(Eee,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(xee,{"data-orientation":i.orientation,"data-state":OL(d),...l,...a,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});CL.displayName=ix;var EL="AccordionHeader",PL=$e.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=Lv(ro,r),i=EN(EL,r);return n.jsx(Pe.h3,{"data-orientation":a.orientation,"data-state":OL(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:e})});PL.displayName=EL;var Rw="AccordionTrigger",TL=$e.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=Lv(ro,r),i=EN(Rw,r),o=_ee(Rw,r),l=CN(r);return n.jsx(kN.ItemSlot,{scope:r,children:n.jsx(vee,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:e})})});TL.displayName=Rw;var AL="AccordionContent",RL=$e.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=Lv(ro,r),i=EN(AL,r),o=CN(r);return n.jsx(yee,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});RL.displayName=AL;function OL(t){return t?"open":"closed"}var Pee=NL,Tee=CL,Aee=PL,IL=TL,DL=RL;const PN=Pee,$v=m.forwardRef(({className:t,...e},r)=>n.jsx(Tee,{ref:r,className:be("border-b",t),...e}));$v.displayName="AccordionItem";const Fv=m.forwardRef(({className:t,children:e,...r},s)=>n.jsx(Aee,{className:"flex",children:n.jsxs(IL,{ref:s,className:be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,n.jsx(F1,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Fv.displayName=IL.displayName;const Vv=m.forwardRef(({className:t,children:e,...r},s)=>n.jsx(DL,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:be("pb-4 pt-0",t),children:e})}));Vv.displayName=DL.displayName;function Ree(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}function Bv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ow=t=>Array.isArray(t);function ML(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}function Tf(t){return typeof t=="string"||Array.isArray(t)}function L2(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function TN(t,e,r,s){if(typeof e=="function"){const[a,i]=L2(s);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=L2(s);e=e(r!==void 0?r:t.custom,a,i)}return e}function zv(t,e,r){const s=t.getProps();return TN(s,e,r!==void 0?r:s.custom,t)}const AN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RN=["initial",...AN],Nm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pc=new Set(Nm),Fi=t=>t*1e3,Vi=t=>t/1e3,Oee={type:"spring",stiffness:500,damping:25,restSpeed:10},Iee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dee={type:"keyframes",duration:.8},Mee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lee=(t,{keyframes:e})=>e.length>2?Dee:Pc.has(t)?t.startsWith("scale")?Iee(e[1]):Oee:Mee;function ON(t,e){return t?t[e]||t.default||t:void 0}const $ee={skipAnimations:!1,useManualTiming:!1},Fee=t=>t!==null;function Uv(t,{repeat:e,repeatType:r="loop"},s){const a=t.filter(Fee),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const Os=t=>t;let Iw=Os;function Vee(t){let e=new Set,r=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const g=h&&s?e:r;return u&&i.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[e,r]=[r,e],r.clear(),e.forEach(l),s=!1,a&&(a=!1,c.process(d))}};return c}const Ep=["read","resolveKeyframes","update","preRender","render","postRender"],Bee=40;function LL(t,e){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ep.reduce((y,v)=>(y[v]=Vee(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,g=()=>{const y=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(y-a.timestamp,Bee),1),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),a.isProcessing=!1,r&&e&&(s=!1,t(g))},b=()=>{r=!0,s=!0,a.isProcessing||t(g)};return{schedule:Ep.reduce((y,v)=>{const N=o[v];return y[v]=(_,k=!1,P=!1)=>(r||b(),N.schedule(_,k,P)),y},{}),cancel:y=>{for(let v=0;v<Ep.length;v++)o[Ep[v]].cancel(y)},state:a,steps:o}}const{schedule:sr,cancel:il,state:ys,steps:yb}=LL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Os,!0),$L=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,zee=1e-7,Uee=12;function qee(t,e,r,s,a){let i,o,l=0;do o=e+(r-e)/2,i=$L(o,s,a)-t,i>0?r=o:e=o;while(Math.abs(i)>zee&&++l<Uee);return o}function _m(t,e,r,s){if(t===e&&r===s)return Os;const a=i=>qee(i,0,1,t,r);return i=>i===0||i===1?i:$L(a(i),e,s)}const FL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VL=t=>e=>1-t(1-e),BL=_m(.33,1.53,.69,.99),IN=VL(BL),zL=FL(IN),UL=t=>(t*=2)<1?.5*IN(t):.5*(2-Math.pow(2,-10*(t-1))),DN=t=>1-Math.sin(Math.acos(t)),qL=VL(DN),HL=FL(DN),WL=t=>/^0[^.\s]+$/u.test(t);function Hee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WL(t):!0}const KL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),GL=t=>e=>typeof e=="string"&&e.startsWith(t),XL=GL("--"),Wee=GL("var(--"),MN=t=>Wee(t)?Kee.test(t.split("/*")[0].trim()):!1,Kee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xee(t){const e=Gee.exec(t);if(!e)return[,];const[,r,s,a]=e;return[`--${r??s}`,a]}function QL(t,e,r=1){const[s,a]=Xee(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return KL(o)?parseFloat(o):o}return MN(a)?QL(a,e,r+1):a}const Qi=(t,e,r)=>r>e?e:r<t?t:r,qu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Af={...qu,transform:t=>Qi(0,1,t)},Pp={...qu,default:1},Sm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xo=Sm("deg"),ni=Sm("%"),at=Sm("px"),Qee=Sm("vh"),Jee=Sm("vw"),$2={...ni,parse:t=>ni.parse(t)/100,transform:t=>ni.transform(t*100)},Yee=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F2=t=>t===qu||t===at,V2=(t,e)=>parseFloat(t.split(", ")[e]),B2=(t,e)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return V2(a[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?V2(i[1],t):0}},Zee=new Set(["x","y","z"]),ete=Nm.filter(t=>!Zee.has(t));function tte(t){const e=[];return ete.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const xu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:B2(4,13),y:B2(5,14)};xu.translateX=xu.x;xu.translateY=xu.y;const JL=t=>e=>e.test(t),rte={test:t=>t==="auto",parse:t=>t},YL=[qu,at,ni,xo,Jee,Qee,rte],z2=t=>YL.find(JL(t)),nc=new Set;let Dw=!1,Mw=!1;function ZL(){if(Mw){const t=Array.from(nc).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const a=tte(s);a.length&&(r.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mw=!1,Dw=!1,nc.forEach(t=>t.complete()),nc.clear()}function e6(){nc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mw=!0)})}function ste(){e6(),ZL()}class LN{constructor(e,r,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nc.add(this),Dw||(Dw=!0,sr.read(e6),sr.resolveKeyframes(ZL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:a}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),a&&o===void 0&&a.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kh=t=>Math.round(t*1e5)/1e5,$N=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nte(t){return t==null}const ate=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FN=(t,e)=>r=>!!(typeof r=="string"&&ate.test(r)&&r.startsWith(t)||e&&!nte(r)&&Object.prototype.hasOwnProperty.call(r,e)),t6=(t,e,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match($N);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ite=t=>Qi(0,255,t),bb={...qu,transform:t=>Math.round(ite(t))},Wl={test:FN("rgb","red"),parse:t6("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+bb.transform(t)+", "+bb.transform(e)+", "+bb.transform(r)+", "+Kh(Af.transform(s))+")"};function ote(t){let e="",r="",s="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Lw={test:FN("#"),parse:ote,transform:Wl.transform},fd={test:FN("hsl","hue"),parse:t6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+ni.transform(Kh(e))+", "+ni.transform(Kh(r))+", "+Kh(Af.transform(s))+")"},Cs={test:t=>Wl.test(t)||Lw.test(t)||fd.test(t),parse:t=>Wl.test(t)?Wl.parse(t):fd.test(t)?fd.parse(t):Lw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wl.transform(t):fd.transform(t)},lte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cte(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match($N))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(lte))===null||r===void 0?void 0:r.length)||0)>0}const r6="number",s6="color",dte="var",ute="var(",U2="${}",hte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rf(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(hte,c=>(Cs.test(c)?(s.color.push(i),a.push(s6),r.push(Cs.parse(c))):c.startsWith(ute)?(s.var.push(i),a.push(dte),r.push(c)):(s.number.push(i),a.push(r6),r.push(parseFloat(c))),++i,U2)).split(U2);return{values:r,split:l,indexes:s,types:a}}function n6(t){return Rf(t).values}function a6(t){const{split:e,types:r}=Rf(t),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===r6?i+=Kh(a[o]):l===s6?i+=Cs.transform(a[o]):i+=a[o]}return i}}const fte=t=>typeof t=="number"?0:t;function mte(t){const e=n6(t);return a6(t)(e.map(fte))}const ol={test:cte,parse:n6,createTransformer:a6,getAnimatableNone:mte},pte=new Set(["brightness","contrast","saturate","opacity"]);function gte(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match($N)||[];if(!s)return t;const a=r.replace(s,"");let i=pte.has(e)?1:0;return s!==r&&(i*=100),e+"("+i+a+")"}const xte=/\b([a-z-]*)\(.*?\)/gu,$w={...ol,getAnimatableNone:t=>{const e=t.match(xte);return e?e.map(gte).join(" "):t}},vte={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at},yte={rotate:xo,rotateX:xo,rotateY:xo,rotateZ:xo,scale:Pp,scaleX:Pp,scaleY:Pp,scaleZ:Pp,skew:xo,skewX:xo,skewY:xo,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Af,originX:$2,originY:$2,originZ:at},q2={...qu,transform:Math.round},VN={...vte,...yte,zIndex:q2,size:at,fillOpacity:Af,strokeOpacity:Af,numOctaves:q2},bte={...VN,color:Cs,backgroundColor:Cs,outlineColor:Cs,fill:Cs,stroke:Cs,borderColor:Cs,borderTopColor:Cs,borderRightColor:Cs,borderBottomColor:Cs,borderLeftColor:Cs,filter:$w,WebkitFilter:$w},BN=t=>bte[t];function i6(t,e){let r=BN(t);return r!==$w&&(r=ol),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const wte=new Set(["auto","none","0"]);function jte(t,e,r){let s=0,a;for(;s<t.length&&!a;){const i=t[s];typeof i=="string"&&!wte.has(i)&&Rf(i).values.length&&(a=t[s]),s++}if(a&&r)for(const i of e)t[i]=i6(r,a)}class o6 extends LN{constructor(e,r,s,a,i){super(e,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),MN(d))){const u=QL(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Yee.has(s)||e.length!==2)return;const[a,i]=e,o=z2(a),l=z2(i);if(o!==l)if(F2(o)&&F2(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let a=0;a<e.length;a++)Hee(e[a])&&s.push(a);s.length&&jte(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=xu[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function zN(t){return typeof t=="function"}let ag;function Nte(){ag=void 0}const ai={now:()=>(ag===void 0&&ai.set(ys.isProcessing||$ee.useManualTiming?ys.timestamp:performance.now()),ag),set:t=>{ag=t,queueMicrotask(Nte)}},H2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ol.test(t)||t==="0")&&!t.startsWith("url("));function _te(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Ste(t,e,r,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=H2(a,e),l=H2(i,e);return!o||!l?!1:_te(t)||(r==="spring"||zN(r))&&s}const kte=40;class l6{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ai.now(),this.options={autoplay:e,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kte?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ste(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=ai.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Ste(e,s,a,i))if(o)this.options.duration=0;else{c==null||c(Uv(e,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const vu=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s},c6=(t,e,r=10)=>{let s="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)s+=t(vu(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function d6(t,e){return e?t*(1e3/e):0}const Cte=5;function u6(t,e,r){const s=Math.max(e-Cte,0);return d6(r-t(s),e-s)}const Or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wb=.001;function Ete({duration:t=Or.duration,bounce:e=Or.bounce,velocity:r=Or.velocity,mass:s=Or.mass}){let a,i,o=1-e;o=Qi(Or.minDamping,Or.maxDamping,o),t=Qi(Or.minDuration,Or.maxDuration,Vi(t)),o<1?(a=d=>{const u=d*o,h=u*t,f=u-r,g=Fw(d,o),b=Math.exp(-h);return wb-f/g*b},i=d=>{const h=d*o*t,f=h*r+r,g=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-h),x=Fw(Math.pow(d,2),o);return(-a(d)+wb>0?-1:1)*((f-g)*b)/x}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-wb+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=Tte(a,i,l);if(t=Fi(t),isNaN(c))return{stiffness:Or.stiffness,damping:Or.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const Pte=12;function Tte(t,e,r){let s=r;for(let a=1;a<Pte;a++)s=s-t(s)/e(s);return s}function Fw(t,e){return t*Math.sqrt(1-e*e)}const Vw=2e4;function h6(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Vw;)e+=r,s=t.next(e);return e>=Vw?1/0:e}const Ate=["duration","bounce"],Rte=["stiffness","damping","mass"];function W2(t,e){return e.some(r=>t[r]!==void 0)}function Ote(t){let e={velocity:Or.velocity,stiffness:Or.stiffness,damping:Or.damping,mass:Or.mass,isResolvedFromDuration:!1,...t};if(!W2(t,Rte)&&W2(t,Ate))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Qi(.05,1,1-t.bounce)*Math.sqrt(a);e={...e,mass:Or.mass,stiffness:a,damping:i}}else{const r=Ete(t);e={...e,...r,mass:Or.mass},e.isResolvedFromDuration=!0}return e}function f6(t=Or.visualDuration,e=Or.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=Ote({...r,velocity:-Vi(r.velocity||0)}),b=f||0,x=d/(2*Math.sqrt(c*u)),j=o-i,y=Vi(Math.sqrt(c/u)),v=Math.abs(j)<5;s||(s=v?Or.restSpeed.granular:Or.restSpeed.default),a||(a=v?Or.restDelta.granular:Or.restDelta.default);let N;if(x<1){const k=Fw(y,x);N=P=>{const C=Math.exp(-x*y*P);return o-C*((b+x*y*j)/k*Math.sin(k*P)+j*Math.cos(k*P))}}else if(x===1)N=k=>o-Math.exp(-y*k)*(j+(b+y*j)*k);else{const k=y*Math.sqrt(x*x-1);N=P=>{const C=Math.exp(-x*y*P),T=Math.min(k*P,300);return o-C*((b+x*y*j)*Math.sinh(T)+k*j*Math.cosh(T))/k}}const _={calculatedDuration:g&&h||null,next:k=>{const P=N(k);if(g)l.done=k>=h;else{let C=0;x<1&&(C=k===0?Fi(b):u6(N,k,P));const T=Math.abs(C)<=s,M=Math.abs(o-P)<=a;l.done=T&&M}return l.value=l.done?o:P,l},toString:()=>{const k=Math.min(h6(_),Vw),P=c6(C=>_.next(k*C).value,k,30);return k+"ms "+P}};return _}function K2({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,b=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=r*e;const j=h+x,y=o===void 0?j:o(j);y!==j&&(x=y-h);const v=T=>-x*Math.exp(-T/s),N=T=>y+v(T),_=T=>{const M=v(T),A=N(T);f.done=Math.abs(M)<=d,f.value=f.done?y:A};let k,P;const C=T=>{g(f.value)&&(k=T,P=f6({keyframes:[f.value,b(f.value)],velocity:u6(N,T,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let M=!1;return!P&&k===void 0&&(M=!0,_(T),C(T)),k!==void 0&&T>=k?P.next(T-k):(!M&&_(T),f)}}}const Ite=_m(.42,0,1,1),Dte=_m(0,0,.58,1),m6=_m(.42,0,.58,1),Mte=t=>Array.isArray(t)&&typeof t[0]!="number",UN=t=>Array.isArray(t)&&typeof t[0]=="number",G2={linear:Os,easeIn:Ite,easeInOut:m6,easeOut:Dte,circIn:DN,circInOut:HL,circOut:qL,backIn:IN,backInOut:zL,backOut:BL,anticipate:UL},X2=t=>{if(UN(t)){Iw(t.length===4);const[e,r,s,a]=t;return _m(e,r,s,a)}else if(typeof t=="string")return Iw(G2[t]!==void 0),G2[t];return t},Lte=(t,e)=>r=>e(t(r)),Xo=(...t)=>t.reduce(Lte),kr=(t,e,r)=>t+(e-t)*r;function jb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $te({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=jb(c,l,t+1/3),i=jb(c,l,t),o=jb(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function ox(t,e){return r=>r>0?e:t}const Nb=(t,e,r)=>{const s=t*t,a=r*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Fte=[Lw,Wl,fd],Vte=t=>Fte.find(e=>e.test(t));function Q2(t){const e=Vte(t);if(!e)return!1;let r=e.parse(t);return e===fd&&(r=$te(r)),r}const J2=(t,e)=>{const r=Q2(t),s=Q2(e);if(!r||!s)return ox(t,e);const a={...r};return i=>(a.red=Nb(r.red,s.red,i),a.green=Nb(r.green,s.green,i),a.blue=Nb(r.blue,s.blue,i),a.alpha=kr(r.alpha,s.alpha,i),Wl.transform(a))},Bw=new Set(["none","hidden"]);function Bte(t,e){return Bw.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function zte(t,e){return r=>kr(t,e,r)}function qN(t){return typeof t=="number"?zte:typeof t=="string"?MN(t)?ox:Cs.test(t)?J2:Hte:Array.isArray(t)?p6:typeof t=="object"?Cs.test(t)?J2:Ute:ox}function p6(t,e){const r=[...t],s=r.length,a=t.map((i,o)=>qN(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function Ute(t,e){const r={...t,...e},s={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(s[a]=qN(t[a])(t[a],e[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function qte(t,e){var r;const s=[],a={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][a[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;s[i]=c,a[o]++}return s}const Hte=(t,e)=>{const r=ol.createTransformer(e),s=Rf(t),a=Rf(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Bw.has(t)&&!a.values.length||Bw.has(e)&&!s.values.length?Bte(t,e):Xo(p6(qte(s,a),a.values),r):ox(t,e)};function g6(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?kr(t,e,r):qN(t)(t,e)}function Wte(t,e,r){const s=[],a=r||g6,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Os:e;l=Xo(c,l)}s.push(l)}return s}function Kte(t,e,{clamp:r=!0,ease:s,mixer:a}={}){const i=t.length;if(Iw(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Wte(e,s,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<t.length-2&&!(d<t[u+1]);u++);const h=vu(t[u],t[u+1],d);return o[u](h)};return r?d=>c(Qi(t[0],t[i-1],d)):c}function Gte(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const a=vu(0,e,s);t.push(kr(r,1,a))}}function Xte(t){const e=[0];return Gte(e,t.length-1),e}function Qte(t,e){return t.map(r=>r*e)}function Jte(t,e){return t.map(()=>e||m6).splice(0,t.length-1)}function lx({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const a=Mte(s)?s.map(X2):X2(s),i={done:!1,value:e[0]},o=Qte(r&&r.length===e.length?r:Xte(e),t),l=Kte(o,e,{ease:Array.isArray(a)?a:Jte(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Yte=t=>{const e=({timestamp:r})=>t(r);return{start:()=>sr.update(e,!0),stop:()=>il(e),now:()=>ys.isProcessing?ys.timestamp:ai.now()}},Zte={decay:K2,inertia:K2,tween:lx,keyframes:lx,spring:f6},ere=t=>t/100;class HN extends l6{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||LN,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=zN(r)?r:Zte[r]||lx;let c,d;l!==lx&&typeof e[0]!="number"&&(c=Xo(ere,g6(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=h6(u));const{calculatedDuration:h}=u,f=h+a,g=f*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:b,repeatDelay:x,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let N=this.currentTime,_=i;if(g){const T=Math.min(this.currentTime,u)/h;let M=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(b==="reverse"?(A=1-A,x&&(A-=x/h)):b==="mirror"&&(_=o)),N=Qi(0,1,A)*h}const k=v?{done:!1,value:c[0]}:_.next(N);l&&(k.value=l(k.value));let{done:P}=k;!v&&d!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&a!==void 0&&(k.value=Uv(c,this.options,a)),j&&j(k.value),C&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Vi(e.calculatedDuration):0}get time(){return Vi(this.currentTime)}set time(e){e=Fi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Vi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Yte,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const tre=new Set(["opacity","clipPath","filter","transform"]);function WN(t){let e;return()=>(e===void 0&&(e=t()),e)}const rre={linearEasing:void 0};function sre(t,e){const r=WN(t);return()=>{var s;return(s=rre[e])!==null&&s!==void 0?s:r()}}const cx=sre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function x6(t){return!!(typeof t=="function"&&cx()||!t||typeof t=="string"&&(t in zw||cx())||UN(t)||Array.isArray(t)&&t.every(x6))}const Oh=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oh([0,.65,.55,1]),circOut:Oh([.55,0,1,.45]),backIn:Oh([.31,.01,.66,-.59]),backOut:Oh([.33,1.53,.69,.99])};function v6(t,e){if(t)return typeof t=="function"&&cx()?c6(t,e):UN(t)?Oh(t):Array.isArray(t)?t.map(r=>v6(r,e)||zw.easeOut):zw[t]}function nre(t,e,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:r};c&&(d.offset=c);const u=v6(l,a);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Y2(t,e){t.timeline=e,t.onfinish=null}const are=WN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dx=10,ire=2e4;function ore(t){return zN(t.type)||t.type==="spring"||!x6(t.ease)}function lre(t,e){const r=new HN({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let i=0;for(;!s.done&&i<ire;)s=r.sample(i),a.push(s.value),i+=dx;return{times:void 0,keyframes:a,duration:i-dx,ease:"linear"}}const y6={anticipate:UL,backInOut:zL,circInOut:HL};function cre(t){return t in y6}class Z2 extends l6{constructor(e){super(e);const{name:r,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new o6(i,(o,l)=>this.onKeyframesResolved(o,l),r,s,a),this.resolver.scheduleResolve()}initPlayback(e,r){var s;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(typeof o=="string"&&cx()&&cre(o)&&(o=y6[o]),ore(this.options)){const{onComplete:f,onUpdate:g,motionValue:b,element:x,...j}=this.options,y=lre(e,j);e=y.keyframes,e.length===1&&(e[1]=e[0]),a=y.duration,i=y.times,o=y.ease,l="keyframes"}const h=nre(c.owner.current,d,e,{...this.options,duration:a,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Y2(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(Uv(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:a,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Vi(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Vi(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=Fi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Os;const{animation:s}=r;Y2(s,e)}return Os}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:s,duration:a,type:i,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...g}=this.options,b=new HN({...g,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),x=Fi(this.time);d.setWithVelocity(b.sample(x-dx).value,b.sample(x).value,dx)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=e;return are()&&s&&tre.has(s)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const dre=WN(()=>window.ScrollTimeline!==void 0);class ure{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=r}attachTimeline(e,r){const s=this.animations.map(a=>dre()&&a.attachTimeline?a.attachTimeline(e):r(a));return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function hre({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const KN=(t,e,r,s={},a,i)=>o=>{const l=ON(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Fi(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};hre(l)||(u={...u,...Lee(t,u)}),u.duration&&(u.duration=Fi(u.duration)),u.repeatDelay&&(u.repeatDelay=Fi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Uv(u.keyframes,l);if(f!==void 0)return sr.update(()=>{u.onUpdate(f),u.onComplete()}),new ure([])}return!i&&Z2.supports(u)?new Z2(u):new HN(u)},fre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mre=t=>Ow(t)?t[t.length-1]||0:t;function GN(t,e){t.indexOf(e)===-1&&t.push(e)}function XN(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class QN{constructor(){this.subscriptions=[]}add(e){return GN(this.subscriptions,e),()=>XN(this.subscriptions,e)}notify(e,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eC=30,pre=t=>!isNaN(parseFloat(t));class gre{constructor(e,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=ai.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new QN);const s=this.events[e].add(r);return e==="change"?()=>{s(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,eC);return d6(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Of(t,e){return new gre(t,e)}function xre(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Of(r))}function vre(t,e){const r=zv(t,e);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=mre(i[o]);xre(t,o,l)}}const JN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yre="framerAppearId",b6="data-"+JN(yre);function w6(t){return t.props[b6]}const Rs=t=>!!(t&&t.getVelocity);function bre(t){return!!(Rs(t)&&t.add)}function Uw(t,e){const r=t.getValue("willChange");if(bre(r))return r.add(e)}function wre({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function j6(t,e,{delay:r=0,transitionOverride:s,type:a}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const d=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const h in c){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=c[h];if(g===void 0||u&&wre(u,h))continue;const b={delay:r,...ON(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const y=w6(t);if(y){const v=window.MotionHandoffAnimation(y,h,sr);v!==null&&(b.startTime=v,x=!0)}}Uw(t,h),f.start(KN(h,f,g,t.shouldReduceMotion&&Pc.has(h)?{type:!1}:b,t,x));const j=f.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{sr.update(()=>{l&&vre(t,l)})}),d}function qw(t,e,r={}){var s;const a=zv(t,e,r.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(j6(t,a,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return jre(t,e,u+d,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function jre(t,e,r=0,s=0,a=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(Nre).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(qw(d,e,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Nre(t,e){return t.sortNodePosition(e)}function _re(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>qw(t,i,r));s=Promise.all(a)}else if(typeof e=="string")s=qw(t,e,r);else{const a=typeof e=="function"?zv(t,e,r.custom):e;s=Promise.all(j6(t,a,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Sre=RN.length;function N6(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?N6(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Sre;r++){const s=RN[r],a=t.props[s];(Tf(a)||a===!1)&&(e[s]=a)}return e}const kre=[...AN].reverse(),Cre=AN.length;function Ere(t){return e=>Promise.all(e.map(({animation:r,options:s})=>_re(t,r,s)))}function Pre(t){let e=Ere(t),r=tC(),s=!0;const a=c=>(d,u)=>{var h;const f=zv(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:b,...x}=f;d={...d,...x,...b}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=N6(t.parent)||{},h=[],f=new Set;let g={},b=1/0;for(let j=0;j<Cre;j++){const y=kre[j],v=r[y],N=d[y]!==void 0?d[y]:u[y],_=Tf(N),k=y===c?v.isActive:null;k===!1&&(b=j);let P=N===u[y]&&N!==d[y]&&_;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...g},!v.isActive&&k===null||!N&&!v.prevProp||Bv(N)||typeof N=="boolean")continue;const C=Tre(v.prevProp,N);let T=C||y===c&&v.isActive&&!P&&_||j>b&&_,M=!1;const A=Array.isArray(N)?N:[N];let W=A.reduce(a(y),{});k===!1&&(W={});const{prevResolvedValues:B={}}=v,L={...B,...W},K=ae=>{T=!0,f.has(ae)&&(M=!0,f.delete(ae)),v.needsAnimating[ae]=!0;const H=t.getValue(ae);H&&(H.liveStyle=!1)};for(const ae in L){const H=W[ae],z=B[ae];if(g.hasOwnProperty(ae))continue;let Z=!1;Ow(H)&&Ow(z)?Z=!ML(H,z):Z=H!==z,Z?H!=null?K(ae):f.add(ae):H!==void 0&&f.has(ae)?K(ae):v.protectedKeys[ae]=!0}v.prevProp=N,v.prevResolvedValues=W,v.isActive&&(g={...g,...W}),s&&t.blockInitialAnimation&&(T=!1),T&&(!(P&&C)||M)&&h.push(...A.map(ae=>({animation:ae,options:{type:y}})))}if(f.size){const j={};f.forEach(y=>{const v=t.getBaseTarget(y),N=t.getValue(y);N&&(N.liveStyle=!0),j[y]=v??null}),h.push({animation:j})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=tC(),s=!0}}}function Tre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ML(e,t):!1}function Tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tC(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class yl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Are extends yl{constructor(e){super(e),e.animationState||(e.animationState=Pre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Rre=0;class Ore extends yl{constructor(){super(...arguments),this.id=Rre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ire={animation:{Feature:Are},exit:{Feature:Ore}};function Dre(t,e,r){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const i=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ba={x:!1,y:!1};function _6(){return ba.x||ba.y}function rC(t){return e=>{e.pointerType==="touch"||_6()||t(e)}}function Mre(t,e,r={}){const s=new AbortController,a={passive:!0,...r,signal:s.signal},i=rC(o=>{const{target:l}=o,c=e(o);if(!c||!l)return;const d=rC(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,a)});return Dre(t).forEach(o=>{o.addEventListener("pointerenter",i,a)}),()=>s.abort()}function Lre(t){return t==="x"||t==="y"?ba[t]?null:(ba[t]=!0,()=>{ba[t]=!1}):ba.x||ba.y?null:(ba.x=ba.y=!0,()=>{ba.x=ba.y=!1})}const S6=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function km(t){return{point:{x:t.pageX,y:t.pageY}}}const $re=t=>e=>S6(e)&&t(e,km(e));function Oi(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Qo(t,e,r,s){return Oi(t,e,$re(r),s)}const sC=(t,e)=>Math.abs(t-e);function Fre(t,e){const r=sC(t.x,e.x),s=sC(t.y,e.y);return Math.sqrt(r**2+s**2)}class k6{constructor(e,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Sb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=Fre(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:b}=h,{timestamp:x}=ys;this.history.push({...b,timestamp:x});const{onStart:j,onMove:y}=this.handlers;f||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_b(f,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Sb(h.type==="pointercancel"?this.lastMoveEventInfo:_b(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,j),b&&b(h,j)},!S6(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=km(e),l=_b(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ys;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(e,Sb(l,this.history)),this.removeListeners=Xo(Qo(this.contextWindow,"pointermove",this.handlePointerMove),Qo(this.contextWindow,"pointerup",this.handlePointerUp),Qo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),il(this.updatePoint)}}function _b(t,e){return e?{point:e(t.point)}:t}function nC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sb({point:t},e){return{point:t,delta:nC(t,C6(e)),offset:nC(t,Vre(e)),velocity:Bre(e,.1)}}function Vre(t){return t[0]}function C6(t){return t[t.length-1]}function Bre(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const a=C6(t);for(;r>=0&&(s=t[r],!(a.timestamp-s.timestamp>Fi(e)));)r--;if(!s)return{x:0,y:0};const i=Vi(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function md(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const E6=1e-4,zre=1-E6,Ure=1+E6,P6=.01,qre=0-P6,Hre=0+P6;function Ln(t){return t.max-t.min}function Wre(t,e,r){return Math.abs(t-e)<=r}function aC(t,e,r,s=.5){t.origin=s,t.originPoint=kr(e.min,e.max,t.origin),t.scale=Ln(r)/Ln(e),t.translate=kr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=zre&&t.scale<=Ure||isNaN(t.scale))&&(t.scale=1),(t.translate>=qre&&t.translate<=Hre||isNaN(t.translate))&&(t.translate=0)}function Gh(t,e,r,s){aC(t.x,e.x,r.x,s?s.originX:void 0),aC(t.y,e.y,r.y,s?s.originY:void 0)}function iC(t,e,r){t.min=r.min+e.min,t.max=t.min+Ln(e)}function Kre(t,e,r){iC(t.x,e.x,r.x),iC(t.y,e.y,r.y)}function oC(t,e,r){t.min=e.min-r.min,t.max=t.min+Ln(e)}function Xh(t,e,r){oC(t.x,e.x,r.x),oC(t.y,e.y,r.y)}function Gre(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?kr(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?kr(r,t,s.max):Math.min(t,r)),t}function lC(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Xre(t,{top:e,left:r,bottom:s,right:a}){return{x:lC(t.x,r,a),y:lC(t.y,e,s)}}function cC(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function Qre(t,e){return{x:cC(t.x,e.x),y:cC(t.y,e.y)}}function Jre(t,e){let r=.5;const s=Ln(t),a=Ln(e);return a>s?r=vu(e.min,e.max-s,t.min):s>a&&(r=vu(t.min,t.max-a,e.min)),Qi(0,1,r)}function Yre(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Hw=.35;function Zre(t=Hw){return t===!1?t=0:t===!0&&(t=Hw),{x:dC(t,"left","right"),y:dC(t,"top","bottom")}}function dC(t,e,r){return{min:uC(t,e),max:uC(t,r)}}function uC(t,e){return typeof t=="number"?t:t[e]||0}const hC=()=>({translate:0,scale:1,origin:0,originPoint:0}),pd=()=>({x:hC(),y:hC()}),fC=()=>({min:0,max:0}),$r=()=>({x:fC(),y:fC()});function Xn(t){return[t("x"),t("y")]}function T6({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function ese({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tse(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function kb(t){return t===void 0||t===1}function Ww({scale:t,scaleX:e,scaleY:r}){return!kb(t)||!kb(e)||!kb(r)}function Ml(t){return Ww(t)||A6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function A6(t){return mC(t.x)||mC(t.y)}function mC(t){return t&&t!=="0%"}function ux(t,e,r){const s=t-r,a=e*s;return r+a}function pC(t,e,r,s,a){return a!==void 0&&(t=ux(t,a,s)),ux(t,r,s)+e}function Kw(t,e=0,r=1,s,a){t.min=pC(t.min,e,r,s,a),t.max=pC(t.max,e,r,s,a)}function R6(t,{x:e,y:r}){Kw(t.x,e.translate,e.scale,e.originPoint),Kw(t.y,r.translate,r.scale,r.originPoint)}const gC=.999999999999,xC=1.0000000000001;function rse(t,e,r,s=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R6(t,o)),s&&Ml(i.latestValues)&&xd(t,i.latestValues))}e.x<xC&&e.x>gC&&(e.x=1),e.y<xC&&e.y>gC&&(e.y=1)}function gd(t,e){t.min=t.min+e,t.max=t.max+e}function vC(t,e,r,s,a=.5){const i=kr(t.min,t.max,a);Kw(t,e,r,i,s)}function xd(t,e){vC(t.x,e.x,e.scaleX,e.scale,e.originX),vC(t.y,e.y,e.scaleY,e.scale,e.originY)}function O6(t,e){return T6(tse(t.getBoundingClientRect(),e))}function sse(t,e,r){const s=O6(t,r),{scroll:a}=e;return a&&(gd(s.x,a.offset.x),gd(s.y,a.offset.y)),s}const I6=({current:t})=>t?t.ownerDocument.defaultView:null,nse=new WeakMap;class ase{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(km(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:b}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lre(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(j=>{let y=this.getAxisMotionValue(j).get()||0;if(ni.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const N=v.layout.layoutBox[j];N&&(y=Ln(N)*(parseFloat(y)/100))}}this.originPoint[j]=y}),b&&sr.postRender(()=>b(u,h)),Uw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:b,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=h;if(g&&this.currentDirection===null){this.currentDirection=ise(j),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Xn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new k6(e,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:I6(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&sr.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:a}=this.getProps();if(!s||!Tp(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Gre(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&md(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Xre(a.layoutBox,r):this.constraints=!1,this.elastic=Zre(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Yre(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!md(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=sse(s,a.root,this.visualElement.getTransformPagePoint());let o=Qre(a.layout.layoutBox,i);if(r){const l=r(ese(o));this.hasMutatedConstraints=!!l,l&&(o=T6(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Xn(u=>{if(!Tp(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,g=a?40:1e7,b={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return Uw(this.visualElement,e),s.start(KN(e,s,0,r,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(r=>{const{drag:s}=this.getProps();if(!Tp(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-kr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!md(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Jre({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(o=>{if(!Tp(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(kr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;nse.set(this.visualElement,this);const e=this.visualElement.current,r=Qo(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();md(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),sr.read(s);const o=Oi(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Hw,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Tp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ise(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ose extends yl{constructor(e){super(e),this.removeGroupControls=Os,this.removeListeners=Os,this.controls=new ase(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Os}unmount(){this.removeGroupControls(),this.removeListeners()}}const yC=t=>(e,r)=>{t&&sr.postRender(()=>t(e,r))};class lse extends yl{constructor(){super(...arguments),this.removePointerDownListener=Os}onPointerDown(e){this.session=new k6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:yC(e),onStart:yC(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&sr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Qo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qv=m.createContext(null);function cse(){const t=m.useContext(qv);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:s}=t,a=m.useId();m.useEffect(()=>s(a),[]);const i=m.useCallback(()=>r&&r(a),[a,r]);return!e&&r?[!1,i]:[!0]}const YN=m.createContext({}),D6=m.createContext({}),ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(at.test(t))t=parseFloat(t);else return t;const r=bC(t,e.target.x),s=bC(t,e.target.y);return`${r}% ${s}%`}},dse={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,a=ol.parse(t);if(a.length>5)return s;const i=ol.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=kr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},hx={};function use(t){Object.assign(hx,t)}const{schedule:ZN,cancel:ipe}=LL(queueMicrotask,!1);class hse extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;use(fse),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||sr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function M6(t){const[e,r]=cse(),s=m.useContext(YN);return n.jsx(hse,{...t,layoutGroup:s,switchLayoutGroup:m.useContext(D6),isPresent:e,safeToRemove:r})}const fse={borderRadius:{...bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bh,borderTopRightRadius:bh,borderBottomLeftRadius:bh,borderBottomRightRadius:bh,boxShadow:dse},L6=["TopLeft","TopRight","BottomLeft","BottomRight"],mse=L6.length,wC=t=>typeof t=="string"?parseFloat(t):t,jC=t=>typeof t=="number"||at.test(t);function pse(t,e,r,s,a,i){a?(t.opacity=kr(0,r.opacity!==void 0?r.opacity:1,gse(s)),t.opacityExit=kr(e.opacity!==void 0?e.opacity:1,0,xse(s))):i&&(t.opacity=kr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<mse;o++){const l=`border${L6[o]}Radius`;let c=NC(e,l),d=NC(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||jC(c)===jC(d)?(t[l]=Math.max(kr(wC(c),wC(d),s),0),(ni.test(d)||ni.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=kr(e.rotate||0,r.rotate||0,s))}function NC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gse=$6(0,.5,qL),xse=$6(.5,.95,Os);function $6(t,e,r){return s=>s<t?0:s>e?1:r(vu(t,e,s))}function _C(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){_C(t.x,e.x),_C(t.y,e.y)}function SC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kC(t,e,r,s,a){return t-=e,t=ux(t,1/r,s),a!==void 0&&(t=ux(t,1/a,s)),t}function vse(t,e=0,r=1,s=.5,a,i=t,o=t){if(ni.test(e)&&(e=parseFloat(e),e=kr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=kr(i.min,i.max,s);t===i&&(l-=e),t.min=kC(t.min,e,r,l,a),t.max=kC(t.max,e,r,l,a)}function CC(t,e,[r,s,a],i,o){vse(t,e[r],e[s],e[a],e.scale,i,o)}const yse=["x","scaleX","originX"],bse=["y","scaleY","originY"];function EC(t,e,r,s){CC(t.x,e,yse,r?r.x:void 0,s?s.x:void 0),CC(t.y,e,bse,r?r.y:void 0,s?s.y:void 0)}function PC(t){return t.translate===0&&t.scale===1}function F6(t){return PC(t.x)&&PC(t.y)}function TC(t,e){return t.min===e.min&&t.max===e.max}function wse(t,e){return TC(t.x,e.x)&&TC(t.y,e.y)}function AC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V6(t,e){return AC(t.x,e.x)&&AC(t.y,e.y)}function RC(t){return Ln(t.x)/Ln(t.y)}function OC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jse{constructor(){this.members=[]}add(e){GN(this.members,e),e.scheduleRender()}remove(e){if(XN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nse(t,e,r){let s="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:b}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),g&&(s+=`skewX(${g}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const _se=(t,e)=>t.depth-e.depth;class Sse{constructor(){this.children=[],this.isDirty=!1}add(e){GN(this.children,e),this.isDirty=!0}remove(e){XN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_se),this.isDirty=!1,this.children.forEach(e)}}function og(t){const e=Rs(t)?t.get():t;return fre(e)?e.toValue():e}function kse(t,e){const r=ai.now(),s=({timestamp:a})=>{const i=a-r;i>=e&&(il(s),t(i-e))};return sr.read(s,!0),()=>il(s)}function Cse(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Ese(t,e,r){const s=Rs(t)?t:Of(t);return s.start(KN("",s,e,r)),s.animation}const Ll={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ih=typeof window<"u"&&window.MotionDebug!==void 0,Cb=["","X","Y","Z"],Pse={visibility:"hidden"},IC=1e3;let Tse=0;function Eb(t,e,r,s){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function B6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=w6(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",sr,!(a||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&B6(s)}function z6({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Tse++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ih&&(Ll.totalNodes=Ll.resolvedTargetDeltas=Ll.recalculatedProjection=0),this.nodes.forEach(Ose),this.nodes.forEach($se),this.nodes.forEach(Fse),this.nodes.forEach(Ise),Ih&&window.MotionDebug.record(Ll)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sse)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QN),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cse(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kse(f,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(MC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||qse,{onLayoutAnimationStart:j,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!V6(this.targetLayout,b)||g,N=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const _={...ON(x,"layout"),onPlay:j,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||MC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vse),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DC);return}this.isUpdating||this.nodes.forEach(Mse),this.isUpdating=!1,this.nodes.forEach(Lse),this.nodes.forEach(Ase),this.nodes.forEach(Rse),this.clearAllSnapshots();const l=ai.now();ys.delta=Qi(0,1e3/60,l-ys.timestamp),ys.timestamp=l,ys.isProcessing=!0,yb.update.process(ys),yb.preRender.process(ys),yb.render.process(ys),ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dse),this.sharedNodes.forEach(Bse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!F6(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Ml(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Hse(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return $r();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Wse))){const{scroll:u}=this.root;u&&(gd(c.x,u.offset.x),gd(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=$r();if(Kn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Kn(c,o),gd(c.x,h.offset.x),gd(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=$r();Kn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ml(u.latestValues)&&xd(c,u.latestValues)}return Ml(this.latestValues)&&xd(c,this.latestValues),c}removeTransform(o){const l=$r();Kn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ml(d.latestValues))continue;Ww(d.latestValues)&&d.updateSnapshot();const u=$r(),h=d.measurePageBox();Kn(u,h),EC(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ml(this.latestValues)&&EC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ys.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Xh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),R6(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Xh(this.relativeTargetOrigin,this.target,g.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ih&&Ll.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ww(this.parent.latestValues)||A6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ys.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Kn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;rse(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=$r());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SC(this.prevProjectionDelta.x,this.projectionDelta.x),SC(this.prevProjectionDelta.y,this.projectionDelta.y)),Gh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!OC(this.projectionDelta.x,this.prevProjectionDelta.x)||!OC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ih&&Ll.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pd(),this.projectionDelta=pd(),this.projectionDeltaWithTransform=pd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=pd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=$r(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=g!==b,j=this.getStack(),y=!j||j.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(Use));this.animationProgress=0;let N;this.mixTargetDelta=_=>{const k=_/1e3;LC(h.x,o.x,k),LC(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zse(this.relativeTarget,this.relativeTargetOrigin,f,k),N&&wse(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$r()),Kn(N,this.relativeTarget)),x&&(this.animationValues=u,pse(u,d,this.latestValues,k,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{ig.hasAnimatedSinceResize=!0,this.currentAnimation=Ese(0,IC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&U6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||$r();const h=Ln(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ln(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Kn(l,c),xd(l,u),Gh(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jse),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Eb("z",o,d,this.animationValues);for(let u=0;u<Cb.length;u++)Eb(`rotate${Cb[u]}`,o,d,this.animationValues),Eb(`skew${Cb[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Pse;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=og(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=og(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ml(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Nse(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:g,y:b}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in hx){if(f[x]===void 0)continue;const{correct:j,applyTo:y}=hx[x],v=d.transform==="none"?f[x]:j(f[x],h);if(y){const N=y.length;for(let _=0;_<N;_++)d[y[_]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=h===this?og(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(DC),this.root.sharedNodes.clear()}}}function Ase(t){t.updateLayout()}function Rse(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Xn(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=Ln(f);f.min=s[h].min,f.max=f.min+g}):U6(i,r.layoutBox,s)&&Xn(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=Ln(s[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=pd();Gh(l,s,r.layoutBox);const c=pd();o?Gh(c,t.applyTransform(a,!0),r.measuredBox):Gh(c,s,r.layoutBox);const d=!F6(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const b=$r();Xh(b,r.layoutBox,f.layoutBox);const x=$r();Xh(x,s,g.layoutBox),V6(b,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Ose(t){Ih&&Ll.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ise(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dse(t){t.clearSnapshot()}function DC(t){t.clearMeasurements()}function Mse(t){t.isLayoutDirty=!1}function Lse(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $se(t){t.resolveTargetDelta()}function Fse(t){t.calcProjection()}function Vse(t){t.resetSkewAndRotation()}function Bse(t){t.removeLeadSnapshot()}function LC(t,e,r){t.translate=kr(e.translate,0,r),t.scale=kr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function $C(t,e,r,s){t.min=kr(e.min,r.min,s),t.max=kr(e.max,r.max,s)}function zse(t,e,r,s){$C(t.x,e.x,r.x,s),$C(t.y,e.y,r.y,s)}function Use(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qse={duration:.45,ease:[.4,0,.1,1]},FC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VC=FC("applewebkit/")&&!FC("chrome/")?Math.round:Os;function BC(t){t.min=VC(t.min),t.max=VC(t.max)}function Hse(t){BC(t.x),BC(t.y)}function U6(t,e,r){return t==="position"||t==="preserve-aspect"&&!Wre(RC(e),RC(r),.2)}function Wse(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Kse=z6({attachResizeListener:(t,e)=>Oi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pb={current:void 0},q6=z6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pb.current){const t=new Kse({});t.mount(window),t.setOptions({layoutScroll:!0}),Pb.current=t}return Pb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Gse={pan:{Feature:lse},drag:{Feature:ose,ProjectionNode:q6,MeasureLayout:M6}};function zC(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r);const a=s[r?"onHoverStart":"onHoverEnd"];a&&sr.postRender(()=>a(e,km(e)))}class Xse extends yl{mount(){const{current:e,props:r}=this.node;e&&(this.unmount=Mre(e,s=>(zC(this.node,s,!0),a=>zC(this.node,a,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class Qse extends yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xo(Oi(this.node.current,"focus",()=>this.onFocus()),Oi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const H6=(t,e)=>e?t===e?!0:H6(t,e.parentElement):!1;function Tb(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,km(r))}class Jse extends yl{constructor(){super(...arguments),this.removeStartListeners=Os,this.removeEndListeners=Os,this.removeAccessibleListeners=Os,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=Qo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),f=!h&&!H6(this.node.current,l.target)?u:d;f&&sr.update(()=>f(l,c))},{passive:!(s.onTap||s.onPointerUp)}),o=Qo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Xo(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Tb("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&sr.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Oi(this.node.current,"keyup",o),Tb("down",(l,c)=>{this.startPress(l,c)})},r=Oi(this.node.current,"keydown",e),s=()=>{this.isPressing&&Tb("cancel",(i,o)=>this.cancelPress(i,o))},a=Oi(this.node.current,"blur",s);this.removeAccessibleListeners=Xo(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&sr.postRender(()=>s(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_6()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&sr.postRender(()=>s(e,r))}mount(){const e=this.node.getProps(),r=Qo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=Oi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xo(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gw=new WeakMap,Ab=new WeakMap,Yse=t=>{const e=Gw.get(t.target);e&&e(t)},Zse=t=>{t.forEach(Yse)};function ene({root:t,...e}){const r=t||document;Ab.has(r)||Ab.set(r,{});const s=Ab.get(r),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Zse,{root:t,...e})),s[a]}function tne(t,e,r){const s=ene(e);return Gw.set(t,r),s.observe(t),()=>{Gw.delete(t),s.unobserve(t)}}const rne={some:0,all:1};class sne extends yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:rne[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return tne(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(nne(e,r))&&this.startObserver()}unmount(){}}function nne({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const ane={inView:{Feature:sne},tap:{Feature:Jse},focus:{Feature:Qse},hover:{Feature:Xse}},ine={layout:{ProjectionNode:q6,MeasureLayout:M6}},e_=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Hv=m.createContext({}),t_=typeof window<"u",W6=t_?m.useLayoutEffect:m.useEffect,K6=m.createContext({strict:!1});function one(t,e,r,s,a){var i,o;const{visualElement:l}=m.useContext(Hv),c=m.useContext(K6),d=m.useContext(qv),u=m.useContext(e_).reducedMotion,h=m.useRef();s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=m.useContext(D6);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&lne(h.current,r,a,g);const b=m.useRef(!1);m.useInsertionEffect(()=>{f&&b.current&&f.update(r,d)});const x=r[b6],j=m.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return W6(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ZN.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),j.current=!1))}),f}function lne(t,e,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:G6(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&md(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function G6(t){if(t)return t.options.allowProjection!==!1?t.projection:G6(t.parent)}function cne(t,e,r){return m.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):md(r)&&(r.current=s))},[e])}function Wv(t){return Bv(t.animate)||RN.some(e=>Tf(t[e]))}function X6(t){return!!(Wv(t)||t.variants)}function dne(t,e){if(Wv(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Tf(r)?r:void 0,animate:Tf(s)?s:void 0}}return t.inherit!==!1?e:{}}function une(t){const{initial:e,animate:r}=dne(t,m.useContext(Hv));return m.useMemo(()=>({initial:e,animate:r}),[UC(e),UC(r)])}function UC(t){return Array.isArray(t)?t.join(" "):t}const qC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const t in qC)yu[t]={isEnabled:e=>qC[t].some(r=>!!e[r])};function hne(t){for(const e in t)yu[e]={...yu[e],...t[e]}}const fne=Symbol.for("motionComponentSymbol");function mne({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:a}){t&&hne(t);function i(l,c){let d;const u={...m.useContext(e_),...l,layoutId:pne(l)},{isStatic:h}=u,f=une(l),g=s(l,h);if(!h&&t_){gne();const b=xne(u);d=b.MeasureLayout,f.visualElement=one(a,g,u,e,b.ProjectionNode)}return n.jsxs(Hv.Provider,{value:f,children:[d&&f.visualElement?n.jsx(d,{visualElement:f.visualElement,...u}):null,r(a,l,cne(g,f.visualElement,c),g,h,f.visualElement)]})}const o=m.forwardRef(i);return o[fne]=a,o}function pne({layoutId:t}){const e=m.useContext(YN).id;return e&&t!==void 0?e+"-"+t:t}function gne(t,e){m.useContext(K6).strict}function xne(t){const{drag:e,layout:r}=yu;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const vne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(t){return typeof t!="string"||t.includes("-")?!1:!!(vne.indexOf(t)>-1||/[A-Z]/u.test(t))}function Q6(t,{style:e,vars:r},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const i in r)t.style.setProperty(i,r[i])}const J6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y6(t,e,r,s){Q6(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(J6.has(a)?a:JN(a),e.attrs[a])}function Z6(t,{layout:e,layoutId:r}){return Pc.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!hx[t]||t==="opacity")}function s_(t,e,r){var s;const{style:a}=t,i={};for(const o in a)(Rs(a[o])||e.style&&Rs(e.style[o])||Z6(o,t)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function e$(t,e,r){const s=s_(t,e,r);for(const a in t)if(Rs(t[a])||Rs(e[a])){const i=Nm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=t[a]}return s}function n_(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function yne({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},s,a,i){const o={latestValues:bne(s,a,i,t),renderState:e()};return r&&(o.mount=l=>r(s,l,o)),o}const t$=t=>(e,r)=>{const s=m.useContext(Hv),a=m.useContext(qv),i=()=>yne(t,e,s,a);return r?i():n_(i)};function bne(t,e,r,s){const a={},i=s(t,{});for(const f in i)a[f]=og(i[f]);let{initial:o,animate:l}=t;const c=Wv(t),d=X6(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Bv(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const b=TN(t,f[g]);if(b){const{transitionEnd:x,transition:j,...y}=b;for(const v in y){let N=y[v];if(Array.isArray(N)){const _=u?N.length-1:0;N=N[_]}N!==null&&(a[v]=N)}for(const v in x)a[v]=x[v]}}}return a}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),r$=()=>({...a_(),attrs:{}}),s$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jne=Nm.length;function Nne(t,e,r){let s="",a=!0;for(let i=0;i<jne;i++){const o=Nm[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=s$(l,VN[o]);if(!c){a=!1;const u=wne[o]||o;s+=`${u}(${d}) `}r&&(e[o]=d)}}return s=s.trim(),r?s=r(e,a?"":s):a&&(s="none"),s}function i_(t,e,r){const{style:s,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Pc.has(c)){o=!0;continue}else if(XL(c)){a[c]=d;continue}else{const u=s$(d,VN[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||r?s.transform=Nne(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}function HC(t,e,r){return typeof t=="string"?t:at.transform(e+r*t)}function _ne(t,e,r){const s=HC(e,t.x,t.width),a=HC(r,t.y,t.height);return`${s} ${a}`}const Sne={offset:"stroke-dashoffset",array:"stroke-dasharray"},kne={offset:"strokeDashoffset",array:"strokeDasharray"};function Cne(t,e,r=1,s=0,a=!0){t.pathLength=1;const i=a?Sne:kne;t[i.offset]=at.transform(-s);const o=at.transform(e),l=at.transform(r);t[i.array]=`${o} ${l}`}function o_(t,{attrX:e,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(i_(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:b}=t;f.transform&&(b&&(g.transform=f.transform),delete f.transform),b&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=_ne(b,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&Cne(f,o,l,c,!1)}const l_=t=>typeof t=="string"&&t.toLowerCase()==="svg",Ene={useVisualState:t$({scrapeMotionValuesFromProps:e$,createRenderState:r$,onMount:(t,e,{renderState:r,latestValues:s})=>{sr.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{o_(r,s,l_(e.tagName),t.transformTemplate),Y6(e,r)})}})},Pne={useVisualState:t$({scrapeMotionValuesFromProps:s_,createRenderState:a_})};function n$(t,e,r){for(const s in e)!Rs(e[s])&&!Z6(s,r)&&(t[s]=e[s])}function Tne({transformTemplate:t},e){return m.useMemo(()=>{const r=a_();return i_(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Ane(t,e){const r=t.style||{},s={};return n$(s,r,t),Object.assign(s,Tne(t,e)),s}function Rne(t,e){const r={},s=Ane(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const One=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||One.has(t)}let a$=t=>!fx(t);function Ine(t){t&&(a$=e=>e.startsWith("on")?!fx(e):t(e))}try{Ine(require("@emotion/is-prop-valid").default)}catch{}function Dne(t,e,r){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(a$(a)||r===!0&&fx(a)||!e&&!fx(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function Mne(t,e,r,s){const a=m.useMemo(()=>{const i=r$();return o_(i,e,l_(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};n$(i,t.style,t),a.style={...i,...a.style}}return a}function Lne(t=!1){return(r,s,a,{latestValues:i},o)=>{const c=(r_(r)?Mne:Rne)(s,i,o,r),d=Dne(s,typeof r=="string",t),u=r!==m.Fragment?{...d,...c,ref:a}:{},{children:h}=s,f=m.useMemo(()=>Rs(h)?h.get():h,[h]);return m.createElement(r,{...u,children:f})}}function $ne(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...r_(s)?Ene:Pne,preloadedFeatures:t,useRender:Lne(a),createVisualElement:e,Component:s};return mne(o)}}const Xw={current:null},i$={current:!1};function Fne(){if(i$.current=!0,!!t_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xw.current=t.matches;t.addListener(e),e()}else Xw.current=!1}function Vne(t,e,r){for(const s in e){const a=e[s],i=r[s];if(Rs(a))t.addValue(s,a);else if(Rs(i))t.addValue(s,Of(a,{owner:t}));else if(i!==a)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(s);t.addValue(s,Of(o!==void 0?o:a,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const WC=new WeakMap,Bne=[...YL,Cs,ol],zne=t=>Bne.find(JL(t)),KC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Une{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ai.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,sr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Wv(r),this.isVariantNode=X6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&Rs(g)&&g.set(c[f],!1)}}mount(e){this.current=e,WC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),i$.current||Fne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){WC.delete(this.current),this.projection&&this.projection.unmount(),il(this.notifyUpdate),il(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Pc.has(e),a=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&sr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const r=yu[e];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<KC.length;s++){const a=KC[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Vne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Of(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(KL(a)||WL(a))?a=parseFloat(a):!zne(a)&&ol.test(r)&&(a=i6(e,r)),this.setBaseTarget(e,Rs(a)?a.get():a)),Rs(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=TN(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[e])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rs(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new QN),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class o$ extends Une{constructor(){super(...arguments),this.KeyframeResolver=o6}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rs(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qne(t){return window.getComputedStyle(t)}class Hne extends o${constructor(){super(...arguments),this.type="html",this.renderInstance=Q6}readValueFromInstance(e,r){if(Pc.has(r)){const s=BN(r);return s&&s.default||0}else{const s=qne(e),a=(XL(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return O6(e,r)}build(e,r,s){i_(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return s_(e,r,s)}}class Wne extends o${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$r}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Pc.has(r)){const s=BN(r);return s&&s.default||0}return r=J6.has(r)?r:JN(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return e$(e,r,s)}build(e,r,s){o_(e,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,s,a){Y6(e,r,s,a)}mount(e){this.isSVGTag=l_(e.tagName),super.mount(e)}}const Kne=(t,e)=>r_(t)?new Wne(e):new Hne(e,{allowProjection:t!==m.Fragment}),Gne=$ne({...Ire,...ane,...Gse,...ine},Kne),ne=Ree(Gne);class Xne extends m.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qne({children:t,isPresent:e}){const r=m.useId(),s=m.useRef(null),a=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(e_);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=r;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),n.jsx(Xne,{isPresent:e,childRef:s,sizeRef:a,children:m.cloneElement(t,{ref:s})})}const Jne=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=n_(Yne),c=m.useId(),d=m.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),u=m.useMemo(()=>({id:c,initial:e,isPresent:r,custom:a,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),d]:[r,d]);return m.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),m.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(t=n.jsx(Qne,{isPresent:r,children:t})),n.jsx(qv.Provider,{value:u,children:t})};function Yne(){return new Map}const Ap=t=>t.key||"";function GC(t){const e=[];return m.Children.forEach(t,r=>{m.isValidElement(r)&&e.push(r)}),e}const na=({children:t,exitBeforeEnter:e,custom:r,initial:s=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=m.useMemo(()=>GC(t),[t]),c=l.map(Ap),d=m.useRef(!0),u=m.useRef(l),h=n_(()=>new Map),[f,g]=m.useState(l),[b,x]=m.useState(l);W6(()=>{d.current=!1,u.current=l;for(let v=0;v<b.length;v++){const N=Ap(b[v]);c.includes(N)?h.delete(N):h.get(N)!==!0&&h.set(N,!1)}},[b,c.length,c.join("-")]);const j=[];if(l!==f){let v=[...l];for(let N=0;N<b.length;N++){const _=b[N],k=Ap(_);c.includes(k)||(v.splice(N,0,_),j.push(_))}o==="wait"&&j.length&&(v=j),x(GC(v)),g(l);return}const{forceRender:y}=m.useContext(YN);return n.jsx(n.Fragment,{children:b.map(v=>{const N=Ap(v),_=l===b||c.includes(N),k=()=>{if(h.has(N))h.set(N,!0);else return;let P=!0;h.forEach(C=>{C||(P=!1)}),P&&(y==null||y(),x(u.current),a&&a())};return n.jsx(Jne,{isPresent:_,initial:!d.current||s?void 0:!1,custom:_?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:_?void 0:k,children:v},N)})})},Zne=[{name:"Clssico",primary:"#5711D9",secondary:"#FFD700"},{name:"Noite Sagrada",primary:"#9D44C0",secondary:"#E0E0E0"},{name:"Luz do Dia",primary:"#00A0E3",secondary:"#2C2C2C"},{name:"Terra Santa",primary:"#8B4513",secondary:"#D4AF37"}],eae=["Busca Inteligente com IA Teolgica","Temas de Leitura Personalizveis (Spia, Noturno)","Modo Professor com Gerao de Esboos","Sistema de Gamificao (XP e Streaks)","Acesso Offline Completo (Download de Livros)","Podcasts Teolgicos Integrados","Gravao de Oraes em udio","Exportao de Aulas em PDF","Sincronizao em Tempo Real","Comentrios Teolgicos Premium","Comunidade e Grupos de Estudo","Suporte Prioritrio"],tae=[{name:"Pastora de So Paulo",role:"Uso em sua comunidade",content:"Os planos de leitura customizveis e o modo offline transformaram como nossa comunidade estuda juntos.",avatar:""},{name:"Professor Universitrio",role:"Estudo de Teologia",content:"O assistente IA oferece perspectivas teolgicas equilibradas para minhas aulas. Sempre lembro aos alunos de validar com as fontes originais.",avatar:""},{name:"Estudo em Grupo",role:"Leitura Diria",content:"Adoramos usar a comunidade para compartilhar notas. O app permite que cada um tenha sua prpria interpretao das Escrituras.",avatar:""}],rae=[{question:"BbliaFS  realmente gratuito?",answer:"Sim! O plano bsico  100% gratuito para sempre, incluindo leitura offline, planos de leitura e comunidade. Oferecemos recursos premium opcionais (podcasts avanados, temas exclusivos, modo professor completo) para quem deseja expandir sua experincia."},{question:"O que funciona offline?",answer:"Leitura da Bblia, planos de leitura, notas e destaques funcionam completamente offline. O assistente IA, podcasts e recursos de comunidade requerem conexo com a internet para funcionarem."},{question:"Como o assistente IA funciona?",answer:"Nossa IA foi treinada com base em tradies teolgicas crists diversas (reformada, catlica, pentecostal) para fornecer respostas equilibradas. Ela analisa o contexto bblico para respostas mais precisas. Como qualquer IA, pode ocasionalmente gerar interpretaes imprecisasuse sempre sua prpria leitura das Escrituras como referncia final. O assistente  uma ferramenta de estudo, no um substituto para sua interpretao pessoal ou orientao pastoral."},{question:"Meus dados so privados?",answer:"Sim! Seus dados pessoais, anotaes e histrico de leitura so protegidos conforme nossa Poltica de Privacidade (link no rodap). Nunca vendemos dados de usurios. Veja nossos Termos de Uso para mais detalhes."},{question:"Posso compartilhar estudos com meu grupo?",answer:"Sim! A plataforma de comunidade permite compartilhar versculos, notas e planos de leitura com seu grupo de estudo."}];function wh(){const[t,e]=m.useState(!1),r=m.useRef(null);return m.useEffect(()=>{const s=new IntersectionObserver(([a])=>{a.isIntersecting&&(e(!0),s.unobserve(a.target))},{threshold:.1});return r.current&&s.observe(r.current),()=>{r.current&&s.unobserve(r.current)}},[]),{ref:r,isVisible:t}}function sae(){const{t}=Lr(),e=[{icon:Gg,title:t.landing.features.aiTitle,description:t.landing.features.aiDesc},{icon:Hs,title:t.landing.features.plansTitle,description:t.landing.features.plansDesc},{icon:Pd,title:t.landing.features.podcastsTitle,description:t.landing.features.podcastsDesc},{icon:uu,title:t.landing.features.teacherTitle,description:t.landing.features.teacherDesc},{icon:As,title:t.landing.features.communityTitle,description:t.landing.features.communityDesc},{icon:_r,title:t.landing.features.themesTitle,description:t.landing.features.themesDesc}];return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 border-b border-border/50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"h-10 w-10 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-display font-bold text-lg text-foreground",children:"BbliaFS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Estudo Bblico Premium"})]})]}),n.jsxs("nav",{className:"hidden lg:flex items-center gap-8",children:[n.jsx("a",{href:"#recursos",className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-features",children:t.landing.nav_resources}),n.jsx("a",{href:"#temas",className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-themes",children:t.landing.nav_themes}),n.jsx("a",{href:"#testemunhos",className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-testimonials",children:t.landing.nav_testimonials}),n.jsx("a",{href:"#faq",className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-faq",children:t.landing.nav_faq})]}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(D,{size:"sm",onClick:()=>window.location.href="/login","data-testid":"button-login-header",className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 text-primary-foreground shadow-lg",children:[n.jsx(i2,{className:"h-4 w-4 mr-1"}),"Entrar"]})}),n.jsx("div",{className:"sm:hidden",children:n.jsxs(Iv,{children:[n.jsx(Dv,{asChild:!0,children:n.jsx(D,{variant:"ghost",size:"icon","data-testid":"button-menu-mobile",children:n.jsx(bw,{className:"h-6 w-6"})})}),n.jsxs(jm,{align:"end",className:"w-56",children:[n.jsx(sa,{asChild:!0,children:n.jsxs("a",{href:"#recursos",className:"cursor-pointer flex items-center",children:[n.jsx(_r,{className:"h-4 w-4 mr-2"}),t.landing.nav_resources]})}),n.jsx(sa,{asChild:!0,children:n.jsxs("a",{href:"#temas",className:"cursor-pointer flex items-center",children:[n.jsx(_r,{className:"h-4 w-4 mr-2"}),t.landing.nav_themes]})}),n.jsx(sa,{asChild:!0,children:n.jsxs("a",{href:"#testemunhos",className:"cursor-pointer flex items-center",children:[n.jsx(Ma,{className:"h-4 w-4 mr-2"}),t.landing.nav_testimonials]})}),n.jsx(sa,{asChild:!0,children:n.jsxs("a",{href:"#faq",className:"cursor-pointer flex items-center",children:[n.jsx(_r,{className:"h-4 w-4 mr-2"}),t.landing.nav_faq]})}),n.jsx(sa,{asChild:!0,children:n.jsxs("a",{href:"/login",className:"cursor-pointer flex items-center text-primary font-medium","data-testid":"link-login-mobile",children:[n.jsx(i2,{className:"h-4 w-4 mr-2"}),"Entrar"]})})]})]})})]})}),n.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden pt-20",children:[n.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"linear-gradient(135deg, rgba(107,33,240,0.85) 0%, rgba(67,56,202,0.75) 50%, rgba(255,190,11,0.4) 100%)",backgroundSize:"cover",backgroundPosition:"center"}}),n.jsxs(ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 max-w-5xl mx-auto px-6 text-center",children:[n.jsx(ot,{className:"mb-6 bg-amber-400/90 text-purple-900 border-amber-300 backdrop-blur-md px-6 py-2 font-semibold shadow-lg","data-testid":"badge-version",children:"A Revoluo do Estudo Bblico"}),n.jsxs("h1",{className:"font-display text-5xl md:text-7xl font-bold text-white mb-6 drop-shadow-lg","data-testid":"text-hero-title",children:["Bblia Online: ",n.jsx("span",{className:"text-amber-300",children:"Inteligncia Artificial"})," Teolgica"]}),n.jsx("p",{className:"text-xl md:text-2xl text-white/95 mb-12 max-w-3xl mx-auto leading-relaxed drop-shadow-md",children:"Descubra novos insights teolgicos, estude offline e tenha um assistente IA que responde suas dvidas sobre as escrituras sagradas."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[n.jsxs(D,{size:"lg",className:"text-lg px-10 py-6 rounded-full bg-gradient-to-r from-amber-400 to-amber-500 hover:from-amber-300 hover:to-amber-400 text-purple-900 border-0 shadow-xl font-bold glow-gold",onClick:()=>window.location.href="/register","data-testid":"button-start-free",children:["Comear Grtis",n.jsx(s2,{className:"ml-2 h-5 w-5"})]}),n.jsx(D,{size:"lg",variant:"outline",className:"text-lg px-10 py-6 rounded-full bg-white/15 backdrop-blur-lg border-2 border-white/60 text-white hover:bg-white/25 hover:border-white/80 shadow-lg",onClick:()=>{var r;(r=document.getElementById("recursos"))==null||r.scrollIntoView({behavior:"smooth"})},"data-testid":"button-see-features",children:"Veja os Recursos"})]})]})]}),n.jsx("section",{className:"py-24 px-6 bg-gradient-to-b from-purple-50 via-background to-amber-50/30 dark:from-purple-950/30 dark:via-background dark:to-amber-950/20",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:["Por que Ler a ",n.jsx("span",{className:"gradient-text",children:"Bblia Sagrada"})," na BbliaFS?"]}),n.jsx("h3",{className:"text-xl text-muted-foreground max-w-2xl mx-auto font-normal",children:"A melhor plataforma para estudar a Palavra de Deus online e offline com recursos de ponta."})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:gv,title:"Assistente IA",desc:"Respostas teolgicas (requer internet)",color:"from-purple-500 to-purple-600"},{icon:_r,title:"Temas Premium",desc:"4 temas exclusivos + personalizveis",color:"from-amber-400 to-amber-500"},{icon:Pi,title:"Offline Total",desc:"Leia a Bblia + planos sem internet",color:"from-indigo-500 to-purple-500"},{icon:da,title:"Plano Bsico Gratuito",desc:"Recursos essenciais para sempre",color:"from-orange-400 to-amber-500"}].map((r,s)=>{const a=()=>{const{ref:i,isVisible:o}=wh();return n.jsxs(ne.div,{ref:i,initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:s*.1},className:"p-6 rounded-2xl bg-white/80 dark:bg-card/80 border border-purple-200/50 dark:border-purple-800/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:`flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br ${r.color} mb-4 shadow-lg`,children:n.jsx(r.icon,{className:"h-7 w-7 text-white"})}),n.jsx("h3",{className:"font-bold text-lg mb-2",children:r.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.desc})]})};return n.jsx(a,{},s)})})]})}),n.jsx("section",{id:"recursos",className:"py-24 px-6 bg-gradient-to-b from-background via-purple-50/20 to-background dark:from-background dark:via-purple-950/20 dark:to-background",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:["Recursos de ",n.jsx("span",{className:"gradient-text",children:"Estudo Bblico"})," Avanados"]}),n.jsx("h3",{className:"text-xl text-muted-foreground max-w-2xl mx-auto font-normal",children:"Tudo o que voc precisa para ler a Bblia Online e offline com profundidade teolgica e ferramentas modernas."})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,s)=>{const a=()=>{const{ref:i,isVisible:o}=wh();return n.jsx(ne.div,{ref:i,initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:s*.1},children:n.jsxs(Y,{className:"premium-card border-purple-200/50 dark:border-purple-800/30 bg-white/90 dark:bg-card/90","data-testid":`card-feature-${s}`,children:[n.jsxs(he,{children:[n.jsx("div",{className:"flex items-center gap-4 mb-2",children:n.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg",children:n.jsx(r.icon,{className:"h-7 w-7 text-white"})})}),n.jsx(ge,{className:"text-xl",children:r.title})]}),n.jsx(re,{children:n.jsx(qe,{className:"text-base leading-relaxed",children:r.description})})]})})};return n.jsx(a,{},s)})})]})}),n.jsx("section",{id:"temas",className:"py-24 px-6 bg-muted/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:[n.jsx("span",{className:"text-primary",children:"Temas de Leitura"})," da Bblia Sagrada"]}),n.jsx("h3",{className:"text-xl text-muted-foreground max-w-2xl mx-auto font-normal",children:"Personalize sua Bblia Sagrada com temas premium como Spia e Modo Noturno, melhorando sua experincia de leitura diria."})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Zne.map((r,s)=>{const a=()=>{const{ref:i,isVisible:o}=wh();return n.jsx(ne.div,{ref:i,initial:{opacity:0,scale:.95},animate:o?{opacity:1,scale:1}:{opacity:0,scale:.95},transition:{duration:.5,delay:s*.1},children:n.jsxs(Y,{className:"overflow-hidden hover-elevate h-full","data-testid":`card-theme-${s}`,children:[n.jsx("div",{className:"h-32 flex items-center justify-center",style:{backgroundColor:r.primary},children:n.jsx(Hs,{className:"h-16 w-16",style:{color:r.secondary}})}),n.jsx(he,{children:n.jsx("h3",{className:"text-center font-bold text-lg",children:r.name})})]})})};return n.jsx(a,{},s)})})]})}),n.jsx("section",{className:"py-24 px-6 bg-background",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:["Recursos Premium da ",n.jsx("span",{className:"gradient-text",children:"Bblia Online"})]}),n.jsx("p",{className:"text-xl text-muted-foreground",children:"Tudo est incluso no BbliaFS - use grtis e desbloqueie mais recursos de estudo bblico quando quiser."})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:n.jsxs(Y,{className:"border-2 border-primary/50 overflow-hidden",children:[n.jsxs(he,{className:"bg-gradient-to-r from-primary/10 to-accent/10",children:[n.jsx("h3",{className:"font-display text-2xl font-bold",children:"Funcionalidades Exclusivas"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Transforme sua forma de estudar a Bblia"})]}),n.jsx(re,{className:"pt-8",children:n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:eae.map((r,s)=>n.jsxs(ne.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:s*.05},className:"flex items-start gap-3","data-testid":`feature-item-${s}`,children:[n.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary/30 to-accent/30 mt-0.5",children:n.jsx(as,{className:"h-4 w-4 text-primary"})}),n.jsx("span",{className:"text-base font-medium leading-relaxed",children:r})]},s))})})]})})]})}),n.jsx("section",{id:"testemunhos",className:"py-24 px-6 bg-muted/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:["O Que Dizem Nossos Leitores da ",n.jsx("span",{className:"gradient-text",children:"Bblia Sagrada"})]}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Milhares de pessoas transformaram seu estudo bblico com a Bblia Online BbliaFS."})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:tae.map((r,s)=>{const a=()=>{const{ref:i,isVisible:o}=wh();return n.jsx(ne.div,{ref:i,initial:{opacity:0,scale:.9},animate:o?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{duration:.5,delay:s*.1},children:n.jsxs(Y,{className:"hover-elevate border-border/50 h-full","data-testid":`testimonial-${s}`,children:[n.jsxs(he,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary to-accent text-white font-bold",children:r.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:r.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.role})]})]}),n.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((l,c)=>n.jsx(Ma,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},c))})]}),n.jsx(re,{children:n.jsxs("p",{className:"italic text-muted-foreground",children:['"',r.content,'"']})})]})})};return n.jsx(a,{},s)})})]})}),n.jsx("section",{id:"faq",className:"py-24 px-6 bg-background",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-4",children:["Dvidas sobre a ",n.jsx("span",{className:"text-primary",children:"Bblia Sagrada"})," Online"]}),n.jsx("p",{className:"text-xl text-muted-foreground",children:"Encontre respostas para as dvidas mais comuns"})]}),n.jsx(PN,{type:"single",collapsible:!0,className:"w-full space-y-4",children:rae.map((r,s)=>{const a=()=>{const{ref:i,isVisible:o}=wh();return n.jsx(ne.div,{ref:i,initial:{opacity:0,y:10},animate:o?{opacity:1,y:0}:{opacity:0,y:10},transition:{duration:.4,delay:s*.05},children:n.jsxs($v,{value:`faq-${s}`,className:"border rounded-lg border-border/50 px-4","data-testid":`faq-item-${s}`,children:[n.jsx(Fv,{className:"font-bold text-lg hover:no-underline py-4",children:r.question}),n.jsx(Vv,{className:"text-muted-foreground leading-relaxed pb-4",children:r.answer})]})})};return n.jsx(a,{},s)})})]})}),n.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-600 via-indigo-600 to-purple-700 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),n.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[n.jsxs("h2",{className:"font-display text-4xl md:text-5xl font-bold mb-6",children:["Comece Seu Estudo Bblico ",n.jsx("span",{className:"text-amber-300",children:"Hoje"})]}),n.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Totalmente gratuito. Sem carto de crdito. Sem compromisso."}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:n.jsxs(D,{size:"lg",className:"text-lg px-10 py-6 rounded-full bg-gradient-to-r from-amber-400 to-amber-500 text-purple-900 hover:from-amber-300 hover:to-amber-400 shadow-xl font-bold glow-gold",onClick:()=>window.location.href="/api/register","data-testid":"button-cta-start",children:["Cadastre-se Grtis",n.jsx(s2,{className:"ml-2 h-5 w-5"})]})})]})]}),n.jsx("footer",{className:"py-12 px-6 bg-gradient-to-b from-purple-50 to-white dark:from-purple-950/50 dark:to-background border-t border-purple-200/50 dark:border-purple-800/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[n.jsx("div",{children:n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"h-10 w-10 object-cover rounded-lg shadow-lg"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-display font-bold",children:"BbliaFS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Estudo Bblico Premium"})]})]})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold mb-3",children:"Produto"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"#recursos",className:"text-muted-foreground hover:text-foreground",children:"Recursos"})}),n.jsx("li",{children:n.jsx("a",{href:"#temas",className:"text-muted-foreground hover:text-foreground",children:"Temas"})}),n.jsx("li",{children:n.jsx("a",{href:"#faq",className:"text-muted-foreground hover:text-foreground",children:"Perguntas"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold mb-3",children:"Legal"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx(Te,{href:"/privacy",className:"text-muted-foreground hover:text-foreground",children:"Privacidade"})}),n.jsx("li",{children:n.jsx(Te,{href:"/terms",className:"text-muted-foreground hover:text-foreground",children:"Termos"})}),n.jsx("li",{children:n.jsx(Te,{href:"/security",className:"text-muted-foreground hover:text-foreground",children:"Segurana"})}),n.jsx("li",{children:n.jsx(Te,{href:"/about",className:"text-muted-foreground hover:text-foreground",children:"Sobre"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold mb-3",children:"Desenvolvedor"}),n.jsxs("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-primary transition-colors",children:["FabriSite",n.jsx(vw,{className:"h-3 w-3"})]})]})]}),n.jsxs("div",{className:"pt-8 border-t border-purple-200/50 dark:border-purple-800/30 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[" 2026 BbliaFS. Todos os direitos reservados. Desenvolvido por ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"FabriSite"}),"."]}),n.jsx(D,{variant:"outline",size:"icon",className:"rounded-full shadow-lg hover:bg-primary hover:text-white transition-all duration-300",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),"data-testid":"button-back-to-top",title:"Voltar ao topo",children:n.jsx(pG,{className:"h-4 w-4"})})]})]})})]})}function nae(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),s=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(s),r.body.appendChild(a),e&&(s.href=e),a.href=t,a.href}const aae=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Jo(t){const e=[];for(let r=0,s=t.length;r<s;r++)e.push(t[r]);return e}let Gc=null;function l$(t={}){return Gc||(t.includeStyleProperties?(Gc=t.includeStyleProperties,Gc):(Gc=Jo(window.getComputedStyle(document.documentElement)),Gc))}function mx(t,e){const s=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return s?parseFloat(s.replace("px","")):0}function iae(t){const e=mx(t,"border-left-width"),r=mx(t,"border-right-width");return t.clientWidth+e+r}function oae(t){const e=mx(t,"border-top-width"),r=mx(t,"border-bottom-width");return t.clientHeight+e+r}function c$(t,e={}){const r=e.width||iae(t),s=e.height||oae(t);return{width:r,height:s}}function lae(){let t,e;try{e=process}catch{}const r=e&&e.env?e.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const wn=16384;function cae(t){(t.width>wn||t.height>wn)&&(t.width>wn&&t.height>wn?t.width>t.height?(t.height*=wn/t.width,t.width=wn):(t.width*=wn/t.height,t.height=wn):t.width>wn?(t.height*=wn/t.width,t.width=wn):(t.width*=wn/t.height,t.height=wn))}function px(t){return new Promise((e,r)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>e(s))})},s.onerror=r,s.crossOrigin="anonymous",s.decoding="async",s.src=t})}async function dae(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function uae(t,e,r){const s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${e} ${r}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(t),dae(a)}const xn=(t,e)=>{if(t instanceof e)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===e.name||xn(r,e)};function hae(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function fae(t,e){return l$(e).map(r=>{const s=t.getPropertyValue(r),a=t.getPropertyPriority(r);return`${r}: ${s}${a?" !important":""};`}).join(" ")}function mae(t,e,r,s){const a=`.${t}:${e}`,i=r.cssText?hae(r):fae(r,s);return document.createTextNode(`${a}{${i}}`)}function XC(t,e,r,s){const a=window.getComputedStyle(t,r),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=aae();try{e.className=`${e.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(mae(o,r,a,s)),e.appendChild(l)}function pae(t,e,r){XC(t,e,":before",r),XC(t,e,":after",r)}const QC="application/font-woff",JC="image/jpeg",gae={woff:QC,woff2:QC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JC,jpeg:JC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function xae(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function c_(t){const e=xae(t).toLowerCase();return gae[e]||""}function vae(t){return t.split(/,/)[1]}function Qw(t){return t.search(/^(data:)/)!==-1}function yae(t,e){return`data:${e};base64,${t}`}async function d$(t,e,r){const s=await fetch(t,e);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const a=await s.blob();return new Promise((i,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{i(r({res:s,result:l.result}))}catch(c){o(c)}},l.readAsDataURL(a)})}const Rb={};function bae(t,e,r){let s=t.replace(/\?.*/,"");return r&&(s=t),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),e?`[${e}]${s}`:s}async function d_(t,e,r){const s=bae(t,e,r.includeQueryParams);if(Rb[s]!=null)return Rb[s];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let a;try{const i=await d$(t,r.fetchRequestInit,({res:o,result:l})=>(e||(e=o.headers.get("Content-Type")||""),vae(l)));a=yae(i,e)}catch(i){a=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Rb[s]=a,a}async function wae(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):px(e)}async function jae(t,e){if(t.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=t.clientWidth,i.height=t.clientHeight,o==null||o.drawImage(t,0,0,i.width,i.height);const l=i.toDataURL();return px(l)}const r=t.poster,s=c_(r),a=await d_(r,s,e);return px(a)}async function Nae(t,e){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await Kv(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function _ae(t,e){return xn(t,HTMLCanvasElement)?wae(t):xn(t,HTMLVideoElement)?jae(t,e):xn(t,HTMLIFrameElement)?Nae(t,e):t.cloneNode(u$(t))}const Sae=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",u$=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function kae(t,e,r){var s,a;if(u$(e))return e;let i=[];return Sae(t)&&t.assignedNodes?i=Jo(t.assignedNodes()):xn(t,HTMLIFrameElement)&&(!((s=t.contentDocument)===null||s===void 0)&&s.body)?i=Jo(t.contentDocument.body.childNodes):i=Jo(((a=t.shadowRoot)!==null&&a!==void 0?a:t).childNodes),i.length===0||xn(t,HTMLVideoElement)||await i.reduce((o,l)=>o.then(()=>Kv(l,r)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function Cae(t,e,r){const s=e.style;if(!s)return;const a=window.getComputedStyle(t);a.cssText?(s.cssText=a.cssText,s.transformOrigin=a.transformOrigin):l$(r).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),xn(t,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),s.setProperty(i,o,a.getPropertyPriority(i))})}function Eae(t,e){xn(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),xn(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Pae(t,e){if(xn(t,HTMLSelectElement)){const r=e,s=Array.from(r.children).find(a=>t.value===a.getAttribute("value"));s&&s.setAttribute("selected","")}}function Tae(t,e,r){return xn(e,Element)&&(Cae(t,e,r),pae(t,e,r),Eae(t,e),Pae(t,e)),e}async function Aae(t,e){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const s={};for(let i=0;i<r.length;i++){const l=r[i].getAttribute("xlink:href");if(l){const c=t.querySelector(l),d=document.querySelector(l);!c&&d&&!s[l]&&(s[l]=await Kv(d,e,!0))}}const a=Object.values(s);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(i,"defs");o.appendChild(l);for(let c=0;c<a.length;c++)l.appendChild(a[c]);t.appendChild(o)}return t}async function Kv(t,e,r){return!r&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(s=>_ae(s,e)).then(s=>kae(t,s,e)).then(s=>Tae(t,s,e)).then(s=>Aae(s,e))}const h$=/url\((['"]?)([^'"]+?)\1\)/g,Rae=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Oae=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Iae(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Dae(t){const e=[];return t.replace(h$,(r,s,a)=>(e.push(a),r)),e.filter(r=>!Qw(r))}async function Mae(t,e,r,s,a){try{const i=r?nae(e,r):e,o=c_(e);let l;return a||(l=await d_(i,o,s)),t.replace(Iae(e),`$1${l}$3`)}catch{}return t}function Lae(t,{preferredFontFormat:e}){return e?t.replace(Oae,r=>{for(;;){const[s,,a]=Rae.exec(r)||[];if(!a)return"";if(a===e)return`src: ${s};`}}):t}function f$(t){return t.search(h$)!==-1}async function m$(t,e,r){if(!f$(t))return t;const s=Lae(t,r);return Dae(s).reduce((i,o)=>i.then(l=>Mae(l,o,e,r)),Promise.resolve(s))}async function Xc(t,e,r){var s;const a=(s=e.style)===null||s===void 0?void 0:s.getPropertyValue(t);if(a){const i=await m$(a,null,r);return e.style.setProperty(t,i,e.style.getPropertyPriority(t)),!0}return!1}async function $ae(t,e){await Xc("background",t,e)||await Xc("background-image",t,e),await Xc("mask",t,e)||await Xc("-webkit-mask",t,e)||await Xc("mask-image",t,e)||await Xc("-webkit-mask-image",t,e)}async function Fae(t,e){const r=xn(t,HTMLImageElement);if(!(r&&!Qw(t.src))&&!(xn(t,SVGImageElement)&&!Qw(t.href.baseVal)))return;const s=r?t.src:t.href.baseVal,a=await d_(s,c_(s),e);await new Promise((i,o)=>{t.onload=i,t.onerror=e.onImageErrorHandler?(...c)=>{try{i(e.onImageErrorHandler(...c))}catch(d){o(d)}}:o;const l=t;l.decode&&(l.decode=i),l.loading==="lazy"&&(l.loading="eager"),r?(t.srcset="",t.src=a):t.href.baseVal=a})}async function Vae(t,e){const s=Jo(t.childNodes).map(a=>p$(a,e));await Promise.all(s).then(()=>t)}async function p$(t,e){xn(t,Element)&&(await $ae(t,e),await Fae(t,e),await Vae(t,e))}function Bae(t,e){const{style:r}=t;e.backgroundColor&&(r.backgroundColor=e.backgroundColor),e.width&&(r.width=`${e.width}px`),e.height&&(r.height=`${e.height}px`);const s=e.style;return s!=null&&Object.keys(s).forEach(a=>{r[a]=s[a]}),t}const YC={};async function ZC(t){let e=YC[t];if(e!=null)return e;const s=await(await fetch(t)).text();return e={url:t,cssText:s},YC[t]=e,e}async function eE(t,e){let r=t.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,i=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(s,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),d$(l,e.fetchRequestInit,({result:c})=>(r=r.replace(o,`url(${c})`),[o,c]))});return Promise.all(i).then(()=>r)}function tE(t){if(t==null)return[];const e=[],r=/(\/\*[\s\S]*?\*\/)/gi;let s=t.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(s);if(c===null)break;e.push(c[0])}s=s.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let c=i.exec(s);if(c===null){if(c=l.exec(s),c===null)break;i.lastIndex=l.lastIndex}else l.lastIndex=i.lastIndex;e.push(c[0])}return e}async function zae(t,e){const r=[],s=[];return t.forEach(a=>{if("cssRules"in a)try{Jo(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let l=o+1;const c=i.href,d=ZC(c).then(u=>eE(u,e)).then(u=>tE(u).forEach(h=>{try{a.insertRule(h,h.startsWith("@import")?l+=1:a.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:h,error:f})}})).catch(u=>{console.error("Error loading remote css",u.toString())});s.push(d)}})}catch(i){const o=t.find(l=>l.href==null)||document.styleSheets[0];a.href!=null&&s.push(ZC(a.href).then(l=>eE(l,e)).then(l=>tE(l).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",i)}}),Promise.all(s).then(()=>(t.forEach(a=>{if("cssRules"in a)try{Jo(a.cssRules||[]).forEach(i=>{r.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),r))}function Uae(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>f$(e.style.getPropertyValue("src")))}async function qae(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Jo(t.ownerDocument.styleSheets),s=await zae(r,e);return Uae(s)}function g$(t){return t.trim().replace(/["']/g,"")}function Hae(t){const e=new Set;function r(s){(s.style.fontFamily||getComputedStyle(s).fontFamily).split(",").forEach(i=>{e.add(g$(i))}),Array.from(s.children).forEach(i=>{i instanceof HTMLElement&&r(i)})}return r(t),e}async function Wae(t,e){const r=await qae(t,e),s=Hae(t);return(await Promise.all(r.filter(i=>s.has(g$(i.style.fontFamily))).map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return m$(i.cssText,o,e)}))).join(`
`)}async function Kae(t,e){const r=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Wae(t,e);if(r){const s=document.createElement("style"),a=document.createTextNode(r);s.appendChild(a),t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)}}async function Gae(t,e={}){const{width:r,height:s}=c$(t,e),a=await Kv(t,e,!0);return await Kae(a,e),await p$(a,e),Bae(a,e),await uae(a,r,s)}async function Xae(t,e={}){const{width:r,height:s}=c$(t,e),a=await Gae(t,e),i=await px(a),o=document.createElement("canvas"),l=o.getContext("2d"),c=e.pixelRatio||lae(),d=e.canvasWidth||r,u=e.canvasHeight||s;return o.width=d*c,o.height=u*c,e.skipAutoScale||cae(o),o.style.width=`${d}`,o.style.height=`${u}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(i,0,0,o.width,o.height),o}async function Qae(t,e={}){return(await Xae(t,e)).toDataURL()}function Jae(){const{toast:t}=nr(),{t:e}=Lr(),r=m.useRef(null),{data:s,isLoading:a}=Et({queryKey:["/api/daily-verse",Intl.DateTimeFormat().resolvedOptions().timeZone],queryFn:async()=>{const l=Intl.DateTimeFormat().resolvedOptions().timeZone,c=await Xs(`/api/daily-verse?tz=${encodeURIComponent(l)}&t=${Date.now()}`);if(!c.ok)throw new Error("Failed to fetch daily verse");return c.json()},staleTime:0,gcTime:1e3*60*60}),i=async()=>{if(!s)return;const l=`${s.text}

 ${s.reference}`;try{await navigator.clipboard.writeText(l),t({title:e.dailyVerse.verse_copied,description:e.dailyVerse.verse_copied_description})}catch{t({variant:"destructive",title:e.dailyVerse.copy_failed,description:e.dailyVerse.copy_failed_description})}},o=async()=>{if(!(!r.current||!s))try{const l=await Qae(r.current,{quality:1,pixelRatio:2}),c=document.createElement("a");c.download=`versiculo-do-dia-${s.dayOfYear}.png`,c.href=l,c.click(),t({title:e.dailyVerse.image_downloaded,description:e.dailyVerse.image_downloaded_description})}catch{t({variant:"destructive",title:e.dailyVerse.download_failed,description:e.dailyVerse.download_failed_description})}};return a?n.jsx(Y,{className:"p-8 bg-gradient-to-br from-primary/10 via-background to-accent/10 animate-pulse",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-6 bg-muted rounded w-48 mx-auto"}),n.jsx("div",{className:"h-20 bg-muted rounded"}),n.jsx("div",{className:"h-4 bg-muted rounded w-32 mx-auto"})]})}):s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center space-y-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground","data-testid":"text-daily-verse-title",children:e.dailyVerse.verse_of_the_day}),s.theme&&n.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:s.theme})]}),n.jsx("div",{ref:r,"data-testid":"card-daily-verse",children:n.jsx(Y,{className:"p-8 bg-gradient-to-br from-primary/5 via-background to-accent/5 border-2 border-primary/20",children:n.jsxs("div",{className:"space-y-6 text-center",children:[n.jsxs("blockquote",{className:"text-xl md:text-2xl font-serif leading-relaxed text-foreground","data-testid":"text-verse-content",children:['"',s.text,'"']}),n.jsxs("p",{className:"text-base font-semibold text-primary","data-testid":"text-verse-reference",children:[" ",s.reference]})]})})}),n.jsxs("div",{className:"flex justify-center gap-2 px-6 sm:px-0 flex-wrap",children:[n.jsxs(D,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-copy-verse",className:"text-xs sm:text-sm",children:[n.jsx(V1,{className:"w-4 h-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:e.dailyVerse.copy}),n.jsx("span",{className:"sm:hidden",children:"Copiar"})]}),n.jsxs(D,{variant:"outline",size:"sm",onClick:o,"data-testid":"button-download-verse",className:"text-xs sm:text-sm",children:[n.jsx(B1,{className:"w-4 h-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:e.dailyVerse.download_image}),n.jsx("span",{className:"sm:hidden",children:"Baixar"})]}),n.jsxs(D,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-share-verse",className:"text-xs sm:text-sm",children:[n.jsx(rl,{className:"w-4 h-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:e.dailyVerse.share}),n.jsx("span",{className:"sm:hidden",children:"Compartilhar"})]})]})]}):null}var u_="Progress",h_=100,[Yae,lpe]=Mr(u_),[Zae,eie]=Yae(u_),x$=m.forwardRef((t,e)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=tie,...o}=t;(a||a===0)&&!rE(a)&&console.error(rie(`${a}`,"Progress"));const l=rE(a)?a:h_;s!==null&&!sE(s,l)&&console.error(sie(`${s}`,"Progress"));const c=sE(s,l)?s:null,d=gx(c)?i(c,l):void 0;return n.jsx(Zae,{scope:r,value:c,max:l,children:n.jsx(Pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":b$(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});x$.displayName=u_;var v$="ProgressIndicator",y$=m.forwardRef((t,e)=>{const{__scopeProgress:r,...s}=t,a=eie(v$,r);return n.jsx(Pe.div,{"data-state":b$(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});y$.displayName=v$;function tie(t,e){return`${Math.round(t/e*100)}%`}function b$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gx(t){return typeof t=="number"}function rE(t){return gx(t)&&!isNaN(t)&&t>0}function sE(t,e){return gx(t)&&!isNaN(t)&&t<=e&&t>=0}function rie(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h_}\`.`}function sie(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var w$=x$,nie=y$;const ii=m.forwardRef(({className:t,value:e,...r},s)=>n.jsx(w$,{ref:s,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:n.jsx(nie,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ii.displayName=w$.displayName;function aie(){const{user:t}=Vn(),{data:e}=Et({queryKey:["/api/achievements/user"],enabled:!!t});if(!t)return null;const r=t.readingStreak||0,s=t.experiencePoints||0,a=t.level||"iniciante",i={iniciante:{name:"Iniciante",minXP:0,maxXP:100,color:"from-gray-400 to-gray-500"},crescendo:{name:"Crescendo",minXP:100,maxXP:500,color:"from-green-400 to-green-600"},discipulo:{name:"Discpulo",minXP:500,maxXP:2e3,color:"from-blue-400 to-blue-600"},professor:{name:"Professor",minXP:2e3,maxXP:1e4,color:"from-purple-400 to-purple-600"}},o=i[a]||i.iniciante,l=Math.min(100,(s-o.minXP)/(o.maxXP-o.minXP)*100),c=(e==null?void 0:e.filter(h=>h.isUnlocked).length)||0,d=(e==null?void 0:e.length)||0,u=e==null?void 0:e.filter(h=>h.isUnlocked).sort((h,f)=>new Date(f.unlockedAt||0).getTime()-new Date(h.unlockedAt||0).getTime()).slice(0,3);return n.jsx(Y,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20 overflow-hidden",children:n.jsx(re,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${r>0?"from-orange-400 to-red-500":"from-gray-400 to-gray-500"} shadow-lg`,children:n.jsx(Xg,{className:"h-6 w-6 text-white"})}),r>=7&&n.jsx(ot,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center bg-yellow-500 text-yellow-900",children:n.jsx(gv,{className:"h-3 w-3"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-streak-value",children:r}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dias seguidos"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${o.color} shadow-lg`,children:n.jsx(Ma,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-semibold","data-testid":"text-level-name",children:o.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[s," XP"]})]}),n.jsx(ii,{value:l,className:"h-2 mt-1"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-amber-400 to-amber-600 shadow-lg",children:n.jsx(ci,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-achievements-count",children:[c,"/",d]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistas"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex gap-1",children:[u==null?void 0:u.slice(0,3).map((h,f)=>n.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center text-white text-xs font-bold shadow-md",title:h.achievement.name,children:h.achievement.icon||""},h.id)),(!u||u.length===0)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(U1,{className:"h-4 w-4"}),n.jsx("span",{children:"Continue lendo!"})]})]}),n.jsx(Te,{href:"/achievements",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"text-primary","data-testid":"button-view-achievements",children:["Ver todas",n.jsx(Da,{className:"h-4 w-4 ml-1"})]})})]})]})})})}function If(t,[e,r]){return Math.min(r,Math.max(e,t))}function iie(t,e){return m.useReducer((r,s)=>e[r][s]??r,t)}var f_="ScrollArea",[j$,cpe]=Mr(f_),[oie,ma]=j$(f_),N$=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[g,b]=m.useState(null),[x,j]=m.useState(null),[y,v]=m.useState(0),[N,_]=m.useState(0),[k,P]=m.useState(!1),[C,T]=m.useState(!1),M=Qe(e,W=>c(W)),A=vl(a);return n.jsx(oie,{scope:r,type:s,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:j,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:_,children:n.jsx(Pe.div,{dir:A,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});N$.displayName=f_;var _$="ScrollAreaViewport",S$=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=t,o=ma(_$,r),l=m.useRef(null),c=Qe(e,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});S$.displayName=_$;var mi="ScrollAreaScrollbar",m_=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=ma(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(lie,{...s,ref:e,forceMount:r}):a.type==="scroll"?n.jsx(cie,{...s,ref:e,forceMount:r}):a.type==="auto"?n.jsx(k$,{...s,ref:e,forceMount:r}):a.type==="always"?n.jsx(p_,{...s,ref:e}):null});m_.displayName=mi;var lie=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=ma(mi,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Yr,{present:r||i,children:n.jsx(k$,{"data-state":i?"visible":"hidden",...s,ref:e})})}),cie=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=ma(mi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Xv(()=>c("SCROLL_END"),100),[l,c]=iie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const g=d[u];h!==g&&(c("SCROLL"),o()),h=g};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),n.jsx(Yr,{present:r||l!=="hidden",children:n.jsx(p_,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:ue(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),k$=m.forwardRef((t,e)=>{const r=ma(mi,t.__scopeScrollArea),{forceMount:s,...a}=t,[i,o]=m.useState(!1),l=t.orientation==="horizontal",c=Xv(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return bu(r.viewport,c),bu(r.content,c),n.jsx(Yr,{present:s||i,children:n.jsx(p_,{"data-state":i?"visible":"hidden",...a,ref:e})})}),p_=m.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,a=ma(mi,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=A$(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return pie(f,o.current,l,g)}return r==="horizontal"?n.jsx(die,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,g=nE(f,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?n.jsx(uie,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,g=nE(f,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),die=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...a}=t,i=ma(mi,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Qe(e,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(E$,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gv(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),O$(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vx(o.paddingLeft),paddingEnd:vx(o.paddingRight)}})}})}),uie=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...a}=t,i=ma(mi,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Qe(e,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(E$,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gv(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),O$(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vx(o.paddingTop),paddingEnd:vx(o.paddingBottom)}})}})}),[hie,C$]=j$(mi),E$=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,g=ma(mi,r),[b,x]=m.useState(null),j=Qe(e,M=>x(M)),y=m.useRef(null),v=m.useRef(""),N=g.viewport,_=s.content-s.viewport,k=vr(u),P=vr(c),C=Xv(h,10);function T(M){if(y.current){const A=M.clientX-y.current.left,W=M.clientY-y.current.top;d({x:A,y:W})}}return m.useEffect(()=>{const M=A=>{const W=A.target;(b==null?void 0:b.contains(W))&&k(A,_)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[N,b,_,k]),m.useEffect(P,[s,P]),bu(b,C),bu(g.content,C),n.jsx(hie,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:vr(i),onThumbPointerUp:vr(o),onThumbPositionChange:P,onThumbPointerDown:vr(l),children:n.jsx(Pe.div,{...f,ref:j,style:{position:"absolute",...f.style},onPointerDown:ue(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),y.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(M))}),onPointerMove:ue(t.onPointerMove,T),onPointerUp:ue(t.onPointerUp,M=>{const A=M.target;A.hasPointerCapture(M.pointerId)&&A.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),xx="ScrollAreaThumb",P$=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=C$(xx,t.__scopeScrollArea);return n.jsx(Yr,{present:r||a.hasThumb,children:n.jsx(fie,{ref:e,...s})})}),fie=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...a}=t,i=ma(xx,r),o=C$(xx,r),{onThumbPositionChange:l}=o,c=Qe(e,h=>o.onThumbChange(h)),d=m.useRef(void 0),u=Xv(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const g=gie(h,l);d.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),n.jsx(Pe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ue(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),b=h.clientX-g.left,x=h.clientY-g.top;o.onThumbPointerDown({x:b,y:x})}),onPointerUp:ue(t.onPointerUp,o.onThumbPointerUp)})});P$.displayName=xx;var g_="ScrollAreaCorner",T$=m.forwardRef((t,e)=>{const r=ma(g_,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(mie,{...t,ref:e}):null});T$.displayName=g_;var mie=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,a=ma(g_,r),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return bu(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),bu(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(Pe.div,{...s,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vx(t){return t?parseInt(t,10):0}function A$(t,e){const r=t/e;return isNaN(r)?0:r}function Gv(t){const e=A$(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function pie(t,e,r,s="ltr"){const a=Gv(r),i=a/2,o=e||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return R$([c,d],h)(t)}function nE(t,e,r="ltr"){const s=Gv(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=If(t,c);return R$([0,o],[0,l])(d)}function R$(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function O$(t,e){return t>0&&t<e}var gie=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Xv(t,e){const r=vr(t),s=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),m.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function bu(t,e){const r=vr(e);Ur(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,r])}var I$=N$,xie=S$,vie=T$;const kn=m.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(I$,{ref:s,className:be("relative overflow-hidden",t),...r,children:[n.jsx(xie,{className:"h-full w-full rounded-[inherit]",children:e}),n.jsx(D$,{}),n.jsx(vie,{})]}));kn.displayName=I$.displayName;const D$=m.forwardRef(({className:t,orientation:e="vertical",...r},s)=>n.jsx(m_,{ref:s,orientation:e,className:be("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:n.jsx(P$,{className:"relative flex-1 rounded-full bg-border"})}));D$.displayName=m_.displayName;function yie(){const[t,e]=m.useState(""),[r,s]=m.useState(!1),{toast:a}=nr(),i=it({mutationFn:async l=>(await Ze("POST","/api/bible/ai-search",{query:l})).json(),onError:l=>{a({title:"Erro na busca",description:l.message||"No foi possvel realizar a busca.",variant:"destructive"})}}),o=l=>{if(l.preventDefault(),t.trim().length<3){a({title:"Busca muito curta",description:"Digite pelo menos 3 caracteres para buscar.",variant:"destructive"});return}i.mutate(t)};return n.jsxs("div",{className:"w-full",children:[n.jsxs("form",{onSubmit:o,className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx($o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ft,{type:"text",placeholder:"Pergunte sobre qualquer tema bblico...",value:t,onChange:l=>e(l.target.value),onFocus:()=>s(!0),className:"pl-10 w-full","data-testid":"input-ai-search"})]}),n.jsx(D,{type:"submit",size:"sm",disabled:i.isPending||t.trim().length<3,className:"h-9 px-4 bg-primary text-primary-foreground hover:bg-primary/90 rounded-md shrink-0 w-full sm:w-auto","data-testid":"button-ai-search",children:i.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(_r,{className:"h-4 w-4 mr-1"}),"Buscar"]})})]}),r&&(i.data||i.isPending)&&n.jsxs(Y,{className:"absolute z-50 w-full mt-2 shadow-xl border-primary/20",children:[n.jsxs(he,{className:"pb-2 flex flex-row items-center justify-between",children:[n.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-primary"}),"Resultados da Busca IA"]}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>s(!1),"data-testid":"button-close-search",children:n.jsx(Mi,{className:"h-4 w-4"})})]}),n.jsx(re,{children:i.isPending?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-3 text-muted-foreground",children:"Buscando versculos..."})]}):i.data?n.jsxs("div",{className:"space-y-4",children:[i.data.summary&&n.jsx("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:i.data.summary})}),n.jsx(kn,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:i.data.results.map((l,c)=>n.jsx(Te,{href:`/bible?book=${l.book}&chapter=${l.chapter}`,onClick:()=>s(!1),children:n.jsx(Y,{className:"cursor-pointer hover-elevate transition-all","data-testid":`card-search-result-${c}`,children:n.jsx(re,{className:"p-3",children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Sr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-semibold text-sm",children:l.reference}),n.jsx(ot,{variant:"secondary",className:"text-xs",children:l.relevance})]}),n.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:['"',l.text,'"']})]})})})})},c))})}),i.data.results.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum versculo encontrado para sua busca."})]}):null})]})]})}function bie(){var u,h;const{toast:t}=nr(),{isAuthenticated:e,isLoading:r,user:s}=Vn();m.useEffect(()=>{!r&&!e&&(t({title:"No autenticado",description:"Redirecionando para login...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500))},[e,r,t]);const{data:a}=Et({queryKey:["/api/stats/dashboard"],enabled:e}),{data:i}=Et({queryKey:["/api/reading-plans/current"],enabled:e});if(r||!e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const o=(s==null?void 0:s.readingStreak)||0,l=(s==null?void 0:s.level)||"iniciante",c={iniciante:"Iniciante",crescendo:"Crescendo",discipulo:"Discpulo",professor:"Professor"},d=[{icon:Gg,label:"Modo Professor",href:"/teacher",color:"from-purple-500 to-indigo-600",iconColor:"text-white"},{icon:Ki,label:"Nova Orao",href:"/prayers",color:"from-pink-500 to-rose-500",iconColor:"text-white"},{icon:Pd,label:"Ouvir Podcast",href:"/podcasts",color:"from-emerald-500 to-teal-500",iconColor:"text-white"},{icon:As,label:"Comunidade",href:"/community",color:"from-amber-400 to-orange-500",iconColor:"text-white"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10 space-y-8",children:[n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-3",children:[n.jsx("p",{className:"text-sm font-medium text-primary uppercase tracking-widest",children:"Bem-vindo de volta"}),n.jsx("h1",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground leading-tight","data-testid":"text-welcome",children:(s==null?void 0:s.firstName)||"Estudante"}),n.jsx("p",{className:"text-base text-muted-foreground max-w-md mx-auto",children:"Continue sua jornada espiritual hoje"})]}),n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsx(yie,{})}),n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:n.jsx(aie,{})}),n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsx(Jae,{})}),n.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs(Y,{className:"group relative overflow-hidden border-none bg-gradient-to-br from-primary/5 via-primary/10 to-primary/5 backdrop-blur-sm hover:shadow-xl transition-all duration-500 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10 group-hover:bg-primary/20 transition-colors",children:n.jsx(Xg,{className:"h-6 w-6 text-primary"})}),n.jsx(ot,{variant:"secondary",className:"bg-primary/10 text-primary border-none font-bold",children:"+5 hoje"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-4xl font-bold text-foreground","data-testid":"text-reading-streak",children:o}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"dias de sequncia"})]})]})]}),n.jsxs(Y,{className:"group relative overflow-hidden border-none bg-gradient-to-br from-amber-500/5 via-amber-500/10 to-amber-500/5 backdrop-blur-sm hover:shadow-xl transition-all duration-500 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-amber-500/10 group-hover:bg-amber-500/20 transition-colors",children:n.jsx(Hl,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),n.jsxs(ot,{variant:"secondary",className:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-none font-bold",children:[(s==null?void 0:s.experiencePoints)||0," XP"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-4xl font-bold text-foreground","data-testid":"text-level",children:c[l]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"nvel espiritual"})]})]})]}),n.jsxs(Y,{className:"group relative overflow-hidden border-none bg-gradient-to-br from-emerald-500/5 via-emerald-500/10 to-emerald-500/5 backdrop-blur-sm hover:shadow-xl transition-all duration-500 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsxs(re,{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 rounded-2xl bg-emerald-500/10 group-hover:bg-emerald-500/20 transition-colors",children:n.jsx(As,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-4xl font-bold text-foreground","data-testid":"text-community-count",children:(a==null?void 0:a.communityPosts)||0}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"publicaes"})]})]})]})]}),i&&n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(Y,{className:"relative overflow-hidden border-none bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 backdrop-blur-sm rounded-3xl",children:[n.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary"}),n.jsx(he,{className:"pb-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(hv,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx(ge,{className:"text-xl font-bold",children:"Leitura de Hoje"}),n.jsx(qe,{className:"mt-0.5 font-medium",children:i.title})]})]}),n.jsxs(ot,{className:"bg-primary text-primary-foreground font-bold px-4 py-1.5 rounded-full text-sm",children:["Dia ",i.currentDay]})]})}),n.jsxs(re,{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[n.jsx("span",{className:"text-muted-foreground font-medium",children:"Progresso do Plano"}),n.jsxs("span",{className:"font-bold text-primary",children:[Math.round((i.currentDay||1)/(((u=i.schedule)==null?void 0:u.length)||1)*100),"%"]})]}),n.jsx("div",{className:"h-3 bg-primary/10 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 rounded-full transition-all duration-500",style:{width:`${(i.currentDay||1)/(((h=i.schedule)==null?void 0:h.length)||1)*100}%`}})})]}),n.jsx(D,{className:"w-full h-12 rounded-2xl text-base font-semibold shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all",asChild:!0,"data-testid":"button-continue-reading",children:n.jsxs(Te,{href:"/bible",children:[n.jsx(Sr,{className:"mr-2 h-5 w-5"}),"Continuar Leitura",n.jsx(Da,{className:"ml-2 h-5 w-5"})]})})]})]})}),n.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-5",children:[n.jsxs("h2",{className:"font-display text-2xl font-bold text-foreground",children:["Aes ",n.jsx("span",{className:"text-primary",children:"Rpidas"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((f,g)=>n.jsx(Te,{href:f.href,children:n.jsx(Y,{className:"group cursor-pointer border-none bg-card/40 backdrop-blur-sm hover:bg-card/60 shadow-sm hover:shadow-xl transition-all duration-500 rounded-3xl overflow-hidden","data-testid":`card-quick-action-${g}`,children:n.jsx(re,{className:"p-5",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${f.color} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(f.icon,{className:`h-7 w-7 ${f.iconColor}`})}),n.jsx("p",{className:"font-semibold text-sm text-foreground",children:f.label})]})})})},g))})]}),n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsxs(Y,{className:"border-none bg-card/40 backdrop-blur-sm rounded-3xl overflow-hidden",children:[n.jsx(he,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg",children:n.jsx(_r,{className:"h-5 w-5 text-white"})}),n.jsx(ge,{className:"text-xl font-bold",children:"Atividade Recente"})]})}),n.jsx(re,{className:"pt-4",children:n.jsx("div",{className:"space-y-4",children:[{icon:Sr,text:"Voc leu Salmos 23",time:"H 2 horas",color:"from-purple-500 to-indigo-600"},{icon:Ki,text:"Nova orao registrada",time:"Ontem",color:"from-pink-500 to-rose-500"},{icon:As,text:"Voc publicou na comunidade",time:"H 3 dias",color:"from-amber-400 to-orange-500"}].map((f,g)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-2xl bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br ${f.color} shadow-md`,children:n.jsx(f.icon,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-sm text-foreground truncate",children:f.text}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.time})]}),n.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]},g))})})]})})]})})}const oa=iN,Ji=oN,wie=lN,M$=m.forwardRef(({className:t,...e},r)=>n.jsx(pm,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));M$.displayName=pm.displayName;const Pn=m.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(wie,{children:[n.jsx(M$,{}),n.jsxs(gm,{ref:s,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,n.jsxs(ym,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Mi,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pn.displayName=gm.displayName;const Tn=({className:t,...e})=>n.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Tn.displayName="DialogHeader";const la=({className:t,...e})=>n.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});la.displayName="DialogFooter";const An=m.forwardRef(({className:t,...e},r)=>n.jsx(xm,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));An.displayName=xm.displayName;const Rn=m.forwardRef(({className:t,...e},r)=>n.jsx(vm,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));Rn.displayName=vm.displayName;var x_="Tabs",[jie,dpe]=Mr(x_,[Uu]),L$=Uu(),[Nie,v_]=jie(x_),$$=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=vl(l),[h,f]=Ds({prop:s,onChange:a,defaultProp:i});return n.jsx(Nie,{scope:r,baseId:gn(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:n.jsx(Pe.div,{dir:u,"data-orientation":o,...d,ref:e})})});$$.displayName=x_;var F$="TabsList",V$=m.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...a}=t,i=v_(F$,r),o=L$(r);return n.jsx(uN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Pe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});V$.displayName=F$;var B$="TabsTrigger",z$=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=t,o=v_(B$,r),l=L$(r),c=H$(o.baseId,s),d=W$(o.baseId,s),u=s===o.value;return n.jsx(hN,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:ue(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:ue(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:ue(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(s)})})})});z$.displayName=B$;var U$="TabsContent",q$=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=t,l=v_(U$,r),c=H$(l.baseId,s),d=W$(l.baseId,s),u=s===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Yr,{present:a||u,children:({present:f})=>n.jsx(Pe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});q$.displayName=U$;function H$(t,e){return`${t}-trigger-${e}`}function W$(t,e){return`${t}-content-${e}`}var _ie=$$,K$=V$,G$=z$,X$=q$;const cn=_ie,Ks=m.forwardRef(({className:t,...e},r)=>n.jsx(K$,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ks.displayName=K$.displayName;const Ct=m.forwardRef(({className:t,...e},r)=>n.jsx(G$,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ct.displayName=G$.displayName;const Mt=m.forwardRef(({className:t,...e},r)=>n.jsx(X$,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Mt.displayName=X$.displayName;function aE(t){const e=Math.floor(t/3600),r=Math.floor(t%3600/60),s=Math.floor(t%60);return e>0?`${e}:${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}`:`${r}:${String(s).padStart(2,"0")}`}var y_="Popover",[Q$,upe]=Mr(y_,[xl]),Cm=xl(),[Sie,bl]=Q$(y_),J$=t=>{const{__scopePopover:e,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=Cm(e),c=m.useRef(null),[d,u]=m.useState(!1),[h=!1,f]=Ds({prop:s,defaultProp:a,onChange:i});return n.jsx(bv,{...l,children:n.jsx(Sie,{scope:e,contentId:gn(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};J$.displayName=y_;var Y$="PopoverAnchor",kie=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=bl(Y$,r),i=Cm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(hm,{...i,...s,ref:e})});kie.displayName=Y$;var Z$="PopoverTrigger",eF=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=bl(Z$,r),i=Cm(r),o=Qe(e,a.triggerRef),l=n.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aF(a.open),...s,ref:o,onClick:ue(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(hm,{asChild:!0,...i,children:l})});eF.displayName=Z$;var b_="PopoverPortal",[Cie,Eie]=Q$(b_,{forceMount:void 0}),tF=t=>{const{__scopePopover:e,forceMount:r,children:s,container:a}=t,i=bl(b_,e);return n.jsx(Cie,{scope:e,forceMount:r,children:n.jsx(Yr,{present:r||i.open,children:n.jsx($u,{asChild:!0,container:a,children:s})})})};tF.displayName=b_;var wu="PopoverContent",rF=m.forwardRef((t,e)=>{const r=Eie(wu,t.__scopePopover),{forceMount:s=r.forceMount,...a}=t,i=bl(wu,t.__scopePopover);return n.jsx(Yr,{present:s||i.open,children:i.modal?n.jsx(Tie,{...a,ref:e}):n.jsx(Aie,{...a,ref:e})})});rF.displayName=wu;var Pie=tl("PopoverContent.RemoveScroll"),Tie=m.forwardRef((t,e)=>{const r=bl(wu,t.__scopePopover),s=m.useRef(null),a=Qe(e,s),i=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return Pv(o)},[]),n.jsx(mm,{as:Pie,allowPinchZoom:!0,children:n.jsx(sF,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Aie=m.forwardRef((t,e)=>{const r=bl(wu,t.__scopePopover),s=m.useRef(!1),a=m.useRef(!1);return n.jsx(sF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),sF=m.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,f=bl(wu,r),g=Cm(r);return Cv(),n.jsx(fm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(kc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(wv,{"data-state":aF(f.open),role:"dialog",id:f.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nF="PopoverClose",Rie=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=bl(nF,r);return n.jsx(Pe.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,()=>a.onOpenChange(!1))})});Rie.displayName=nF;var Oie="PopoverArrow",Iie=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=Cm(r);return n.jsx(jv,{...a,...s,ref:e})});Iie.displayName=Oie;function aF(t){return t?"open":"closed"}var Die=J$,Mie=eF,Lie=tF,iF=rF;const $ie=Die,Fie=Mie,oF=m.forwardRef(({className:t,align:e="center",sideOffset:r=4,...s},a)=>n.jsx(Lie,{children:n.jsx(iF,{ref:a,align:e,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...s})}));oF.displayName=iF.displayName;const Gs=m.forwardRef(({className:t,...e},r)=>n.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Gs.displayName="Textarea";function Em(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lF=["PageUp","PageDown"],cF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hu="Slider",[Jw,Vie,Bie]=Lu(Hu),[uF,hpe]=Mr(Hu,[Bie]),[zie,Qv]=uF(Hu),hF=m.forwardRef((t,e)=>{const{name:r,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:b,...x}=t,j=m.useRef(new Set),y=m.useRef(0),N=o==="horizontal"?Uie:qie,[_=[],k]=Ds({prop:u,defaultProp:d,onChange:W=>{var L;(L=[...j.current][y.current])==null||L.focus(),h(W)}}),P=m.useRef(_);function C(W){const B=Xie(_,W);A(W,B)}function T(W){A(W,y.current)}function M(){const W=P.current[y.current];_[y.current]!==W&&f(_)}function A(W,B,{commit:L}={commit:!1}){const K=Zie(i),X=eoe(Math.round((W-s)/i)*i+s,K),G=If(X,[s,a]);k((ae=[])=>{const H=Kie(ae,G,B);if(Yie(H,c*i)){y.current=H.indexOf(G);const z=String(H)!==String(ae);return z&&L&&f(H),z?H:ae}else return ae})}return n.jsx(zie,{scope:t.__scopeSlider,name:r,disabled:l,min:s,max:a,valueIndexToChangeRef:y,thumbs:j.current,values:_,orientation:o,form:b,children:n.jsx(Jw.Provider,{scope:t.__scopeSlider,children:n.jsx(Jw.Slot,{scope:t.__scopeSlider,children:n.jsx(N,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:ue(x.onPointerDown,()=>{l||(P.current=_)}),min:s,max:a,inverted:g,onSlideStart:l?void 0:C,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&A(s,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,_.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:B})=>{if(!l){const X=lF.includes(W.key)||W.shiftKey&&cF.includes(W.key)?10:1,G=y.current,ae=_[G],H=i*X*B;A(ae+H,G,{commit:!0})}}})})})})});hF.displayName=Hu;var[fF,mF]=uF(Hu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Uie=m.forwardRef((t,e)=>{const{min:r,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[h,f]=m.useState(null),g=Qe(e,N=>f(N)),b=m.useRef(void 0),x=vl(a),j=x==="ltr",y=j&&!i||!j&&i;function v(N){const _=b.current||h.getBoundingClientRect(),k=[0,_.width],C=w_(k,y?[r,s]:[s,r]);return b.current=_,C(N-_.left)}return n.jsx(fF,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(pF,{dir:x,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const _=v(N.clientX);o==null||o(_)},onSlideMove:N=>{const _=v(N.clientX);l==null||l(_)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:N=>{const k=dF[y?"from-left":"from-right"].includes(N.key);d==null||d({event:N,direction:k?-1:1})}})})}),qie=m.forwardRef((t,e)=>{const{min:r,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=m.useRef(null),h=Qe(e,u),f=m.useRef(void 0),g=!a;function b(x){const j=f.current||u.current.getBoundingClientRect(),y=[0,j.height],N=w_(y,g?[s,r]:[r,s]);return f.current=j,N(x-j.top)}return n.jsx(fF,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:n.jsx(pF,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const j=b(x.clientY);i==null||i(j)},onSlideMove:x=>{const j=b(x.clientY);o==null||o(j)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:x=>{const y=dF[g?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:y?-1:1})}})})}),pF=m.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,u=Qv(Hu,r);return n.jsx(Pe.span,{...d,ref:e,onKeyDown:ue(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):lF.concat(cF).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ue(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():s(h)}),onPointerMove:ue(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:ue(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),gF="SliderTrack",xF=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,a=Qv(gF,r);return n.jsx(Pe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});xF.displayName=gF;var Yw="SliderRange",vF=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,a=Qv(Yw,r),i=mF(Yw,r),o=m.useRef(null),l=Qe(e,o),c=a.values.length,d=a.values.map(f=>bF(f,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return n.jsx(Pe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});vF.displayName=Yw;var Zw="SliderThumb",yF=m.forwardRef((t,e)=>{const r=Vie(t.__scopeSlider),[s,a]=m.useState(null),i=Qe(e,l=>a(l)),o=m.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return n.jsx(Hie,{...t,ref:i,index:o})}),Hie=m.forwardRef((t,e)=>{const{__scopeSlider:r,index:s,name:a,...i}=t,o=Qv(Zw,r),l=mF(Zw,r),[c,d]=m.useState(null),u=Qe(e,v=>d(v)),h=c?o.form||!!c.closest("form"):!0,f=um(c),g=o.values[s],b=g===void 0?0:bF(g,o.min,o.max),x=Gie(s,o.values.length),j=f==null?void 0:f[l.size],y=j?Qie(j,b,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${y}px)`},children:[n.jsx(Jw.ItemSlot,{scope:t.__scopeSlider,children:n.jsx(Pe.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:g===void 0?{display:"none"}:t.style,onFocus:ue(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&n.jsx(Wie,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},s)]})});yF.displayName=Zw;var Wie=t=>{const{value:e,...r}=t,s=m.useRef(null),a=Em(e);return m.useEffect(()=>{const i=s.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==e&&c){const d=new Event("input",{bubbles:!0});c.call(i,e),i.dispatchEvent(d)}},[a,e]),n.jsx("input",{style:{display:"none"},...r,ref:s,defaultValue:e})};function Kie(t=[],e,r){const s=[...t];return s[r]=e,s.sort((a,i)=>a-i)}function bF(t,e,r){const i=100/(r-e)*(t-e);return If(i,[0,100])}function Gie(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Xie(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),s=Math.min(...r);return r.indexOf(s)}function Qie(t,e,r){const s=t/2,i=w_([0,50],[0,s]);return(s-i(e)*r)*r}function Jie(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Yie(t,e){if(e>0){const r=Jie(t);return Math.min(...r)>=e}return!0}function w_(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function Zie(t){return(String(t).split(".")[1]||"").length}function eoe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var wF=hF,toe=xF,roe=vF,soe=yF;const Df=m.forwardRef(({className:t,...e},r)=>n.jsxs(wF,{ref:r,className:be("relative flex w-full touch-none select-none items-center",t),...e,children:[n.jsx(toe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(roe,{className:"absolute h-full bg-primary"})}),n.jsx(soe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Df.displayName=wF.displayName;function noe({isPlaying:t,isLoading:e,onToggle:r,onStop:s,title:a,currentTime:i,duration:o,onSeek:l}){return!t&&!e&&i===0?null:n.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur border-t p-4 shadow-lg animate-in slide-in-from-bottom duration-300",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:a}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[aE(i)," / ",aE(o)]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>l(Math.max(0,i-10)),children:n.jsx(zD,{className:"h-4 w-4"})}),n.jsx(D,{size:"icon",className:"h-10 w-10 rounded-full",onClick:r,disabled:e,children:e?n.jsx(Ge,{className:"h-5 w-5 animate-spin"}):t?n.jsx(Jg,{className:"h-5 w-5"}):n.jsx(eg,{className:"h-5 w-5 ml-0.5"})}),n.jsx(D,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>l(Math.min(o,i+10)),children:n.jsx(UD,{className:"h-4 w-4"})}),n.jsx("div",{className:"w-px h-4 bg-border mx-2"}),n.jsx(D,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:s,children:n.jsx(Mi,{className:"h-4 w-4"})})]})]}),n.jsx(Df,{value:[i],max:o||100,step:1,onValueChange:([c])=>l(c),className:"w-full"})]})})}function aoe({title:t,description:e,ogTitle:r,ogDescription:s,ogImage:a,ogType:i="website",canonical:o}){const l="BbliaFS",c=t?`${t} | ${l}`:l,d="BbliaFS - Um aplicativo bblico premium com IA teolgica, planos de leitura personalizados e comunidade espiritual.",u="https://bibliafs.replit.app/og-image.png";return m.useEffect(()=>{document.title=c;const h=(f,g,b="name")=>{let x=document.querySelector(`meta[${b}="${f}"]`);x||(x=document.createElement("meta"),x.setAttribute(b,f),document.head.appendChild(x)),x.setAttribute("content",g)};if(h("description",e||d),h("og:title",r||c,"property"),h("og:description",s||e||d,"property"),h("og:image",a||u,"property"),h("og:type",i,"property"),h("og:site_name",l,"property"),o){let f=document.querySelector('link[rel="canonical"]');f||(f=document.createElement("link"),f.setAttribute("rel","canonical"),document.head.appendChild(f)),f.setAttribute("href",o)}},[t,e,r,s,a,i,o]),null}var jF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iE=$e.createContext&&$e.createContext(jF),ioe=["attr","size","title"];function ooe(t,e){if(t==null)return{};var r=loe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function loe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yx.apply(this,arguments)}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function bx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(s){coe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function coe(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NF(t){return t&&t.map((e,r)=>$e.createElement(e.tag,bx({key:r},e.attr),NF(e.child)))}function j_(t){return e=>$e.createElement(hoe,yx({attr:bx({},t.attr)},e),NF(t.child))}function hoe(t){var e=r=>{var{attr:s,size:a,title:i}=t,o=ooe(t,ioe),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),$e.createElement("svg",yx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:c,style:bx(bx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&$e.createElement("title",null,i),t.children)};return iE!==void 0?$e.createElement(iE.Consumer,null,r=>e(r)):e(jF)}function foe(t){return j_({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function moe(t){return j_({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function poe(t){return j_({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(t)}async function goe(t){if(navigator.share)try{return await navigator.share({title:t.title,text:t.text,url:t.url||window.location.href}),!0}catch(e){return e.name!=="AbortError"&&console.error("Share failed:",e),!1}return!1}function xoe(t){return navigator.clipboard.writeText(t).then(()=>!0,()=>!1)}function voe(t,e,r,s,a){return`"${s}"

 ${t} ${e}:${r} (${a.toUpperCase()})

Compartilhado via BbliaFS`}function yoe(t,e,r,s){return`https://bibliafs.com.br/bible?book=${t}&chapter=${e}&verse=${r}&version=${s}`}function boe(t){return`https://wa.me/?text=${encodeURIComponent(t)}`}function woe(t,e){const r=new URLSearchParams({text:t});return e&&r.append("url",e),`https://t.me/share/url?${r.toString()}`}function joe(t,e){const r=new URLSearchParams({text:t});return e&&r.append("url",e),`https://twitter.com/intent/tweet?${r.toString()}`}function Noe(t){return`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`}function _F({open:t,onOpenChange:e,bookName:r,bookAbbrev:s,chapter:a,verseNumber:i,verseText:o,version:l}){const{toast:c}=nr(),d=it({mutationFn:async N=>await Ze("POST","/api/bible/share",{book:s,chapter:a,verse:i,version:l,platform:N})}),u=voe(r,a,i,o,l),h=yoe(s,a,i,l),f=`${u}
${h}`,g=async()=>{d.mutate("native"),await goe({title:`${r} ${a}:${i}`,text:u,url:h})?e(!1):b()},b=async()=>{d.mutate("copy");const N=await xoe(f);c({title:N?"Copiado!":"Erro ao copiar",description:N?"Versculo copiado para a rea de transferncia":"No foi possvel copiar",variant:N?"default":"destructive"}),N&&e(!1)},x=()=>{d.mutate("whatsapp"),window.open(boe(f),"_blank"),e(!1)},j=()=>{d.mutate("telegram"),window.open(woe(u,h),"_blank"),e(!1)},y=()=>{d.mutate("twitter"),window.open(joe(u,h),"_blank"),e(!1)},v=()=>{d.mutate("facebook"),window.open(Noe(h),"_blank"),e(!1)};return n.jsx(Fo,{open:t,onOpenChange:e,children:n.jsxs(Ti,{side:"bottom",className:"h-auto max-h-[60vh]",children:[n.jsx(Ai,{children:n.jsx(Ri,{children:"Compartilhar Versculo"})}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsxs("p",{className:"text-sm font-serif italic",children:['"',o,'"']}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" ",r," ",a,":",i," (",l.toUpperCase(),")"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:["share"in navigator&&n.jsxs(D,{variant:"outline",className:"flex items-center gap-2",onClick:g,"data-testid":"button-share-native",children:[n.jsx(rl,{className:"h-4 w-4"}),"Compartilhar"]}),n.jsxs(D,{variant:"outline",className:"flex items-center gap-2",onClick:b,"data-testid":"button-share-copy",children:[n.jsx(V1,{className:"h-4 w-4"}),"Copiar"]}),n.jsxs(D,{variant:"outline",className:"flex items-center gap-2 bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 border-green-200 dark:border-green-800",onClick:x,"data-testid":"button-share-whatsapp",children:[n.jsx(poe,{className:"h-4 w-4 text-green-600"}),"WhatsApp"]}),n.jsxs(D,{variant:"outline",className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 border-blue-200 dark:border-blue-800",onClick:j,"data-testid":"button-share-telegram",children:[n.jsx(hu,{className:"h-4 w-4 text-blue-500"}),"Telegram"]}),n.jsxs(D,{variant:"outline",className:"flex items-center gap-2",onClick:y,"data-testid":"button-share-twitter",children:[n.jsx(So,{className:"h-4 w-4"}),"X (Twitter)"]}),n.jsxs(D,{variant:"outline",className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 border-blue-200 dark:border-blue-800",onClick:v,"data-testid":"button-share-facebook",children:[n.jsx(foe,{className:"h-4 w-4 text-blue-600"}),"Facebook"]})]})]})]})})}const lE=[{value:"nvi",label:"NVI"},{value:"acf",label:"ACF"},{value:"arc",label:"ARC"},{value:"ra",label:"RA"}];function cE(){var eh,th,io,rh,Sl,sh;const{toast:t}=nr(),{t:e}=Lr(),{isOnline:r,isChapterOffline:s,downloadChapter:a,deleteChapter:i,getOfflineChapter:o,getSqliteBooks:l}=dN(),{readingTheme:c}=cN(),[d,u]=m.useState(0),[h,f]=m.useState(0),g=new URLSearchParams(window.location.search),b=g.get("book"),x=g.get("chapter"),j=g.get("verse"),y=g.get("version"),[v,N]=m.useState(()=>y||typeof window<"u"&&localStorage.getItem("bible_version")||"nvi"),[_,k]=m.useState(()=>b||typeof window<"u"&&localStorage.getItem("bible_book")||"jo"),[P,C]=m.useState(()=>{if(x)return parseInt(x);if(typeof window<"u"){const $=localStorage.getItem("bible_chapter");return $?parseInt($):1}return 1}),[T,M]=m.useState("");m.useEffect(()=>{typeof window<"u"&&localStorage.setItem("bible_version",v)},[v]),m.useEffect(()=>{typeof window<"u"&&_&&localStorage.setItem("bible_book",_)},[_]),m.useEffect(()=>{typeof window<"u"&&localStorage.setItem("bible_chapter",P.toString())},[P]);const[A,W]=m.useState(!1),[B,L]=m.useState(!1),[K,X]=m.useState([]),[G,ae]=m.useState(!1),[H,z]=m.useState(()=>j?parseInt(j):null),[Z,me]=m.useState(!!j),{data:Se=[],isLoading:tt,error:Pt}=Et({queryKey:["/api/bible/books"],retry:r?3:0,retryDelay:1e3,queryFn:async()=>{if(!r){const $=await l();if($.length>0)return $}try{const $=_o("/api/bible/books"),ye=await fetch($);if(!ye.ok)throw new Error("API error");return ye.json()}catch($){const ye=await l();if(ye.length>0)return ye;throw $}}}),{data:Ae,isLoading:wt,error:we}=Et({queryKey:_?[`/api/bible/multilang/${e.currentLanguage}/${v}/${_}/${P}`]:[""],enabled:!!_,retry:r?2:0,retryDelay:1e3,queryFn:async({queryKey:$})=>{const ye=$[0];if(!ye||ye==="")return null;if(!r&&_){const Nt=await o(_,P,v);if(Nt)return Nt;throw new Error(e.bible.contentNotAvailableOffline)}try{const Nt=_o(ye),yt=await fetch(Nt);if(!yt.ok)throw new Error("API error");return yt.json()}catch(Nt){if(_){const yt=await o(_,P,v);if(yt){const Yt=Date.now(),Tr="lastOfflineToast",It=parseInt(sessionStorage.getItem(Tr)||"0");return Yt-It>5e3&&(t({title:e.bible.offlineModeTitle,description:e.bible.loadingSavedContent}),sessionStorage.setItem(Tr,Yt.toString())),yt}}throw Nt}}});m.useEffect(()=>{if(j&&Ae){const $=document.querySelector(`[data-testid="verse-container-${j}"]`);$&&$.scrollIntoView({behavior:"smooth",block:"center"})}},[Ae,j]);const[ht,ct]=m.useState(""),[mt,ut]=m.useState(!1),[Je,ar]=m.useState(null),[jt,qr]=m.useState(!1),[xt,Pr]=m.useState(null),[Hr,Jt]=m.useState(!1),[se,rt]=m.useState(!1),[I,R]=m.useState(null),[O,de]=m.useState(null),[ve,oe]=m.useState(!1),[Ne,pt]=m.useState("chapter"),[Bt,lr]=m.useState([]),[ee,He]=m.useState(0);m.useState(!1),m.useState(new Set),m.useState(0);const je=m.useRef(null),Xe=async($,ye)=>{if(_)try{Xs("/api/audio/progress",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({book:_,chapter:P,version:v.toUpperCase(),playbackPosition:Math.floor($),totalDuration:Math.floor(ye),completed:$>=ye-5})}).catch(console.error)}catch(Nt){console.error("Erro ao salvar progresso:",Nt)}},Ft=()=>{const $=je.current;$&&($.pause(),$.src="",$.onended=null,$.onerror=null,$.onloadeddata=null,$.ontimeupdate=null,$.onpause=null,$.onplay=null,je.current=null),Jt(!1),R(null),de(null),u(0),f(0)},yr=$=>{const ye=je.current;ye&&(ye.currentTime=$,u($))},tn=()=>{const $=je.current;$&&(Hr?($.pause(),Jt(!1)):$.play().then(()=>{Jt(!0)}).catch(console.error))},Bn=()=>O?`${e.bibleBooks[_||""]||_} ${P}:${O}`:Ne==="book"?`${e.bibleBooks[_||""]||_} - Captulo ${Bt[ee]||P}`:`${e.bibleBooks[_||""]||_} ${P}`,us=async $=>{var ye,Nt,yt;if(_){rt(!0);try{const Yt=`/api/bible/audio/${e.currentLanguage||"pt"}/${v}/${_}/${$}`,Tr=_o(Yt);t({title:Ne==="book"?`Gerando udio - Captulo ${$}...`:"Gerando udio do captulo...",description:"Isso pode levar 20-40 segundos. Aguarde!"});const{data:{session:It}}=await bs.auth.getSession(),Vt=It!=null&&It.access_token?{Authorization:`Bearer ${It.access_token}`}:{},br=await fetch(Tr,{method:"GET",credentials:"include",headers:Vt,signal:AbortSignal.timeout(12e4)});if(!br.ok){const cr=await br.json().catch(()=>({}));throw new Error(cr.error||cr.message||`HTTP ${br.status}`)}if(!((ye=br.headers.get("content-type"))!=null&&ye.includes("audio"))){const cr=await br.json();throw new Error(cr.error||cr.message||"Falha ao gerar udio")}const qn=await br.blob(),Zr=URL.createObjectURL(qn),pr=new Audio(Zr);je.current=pr,pr.onloadeddata=()=>{rt(!1),f(pr.duration),pr.play().then(()=>{Jt(!0),R(Zr),de(null),t({title:Ne==="book"?`Tocando Captulo ${$}`:"udio do captulo iniciado",description:Ne==="book"?`${Bt.length-ee} captulos restantes`:"Voc pode continuar navegando enquanto ouve"})}).catch(cr=>{rt(!1),Ft(),URL.revokeObjectURL(Zr),console.error("Audio playback error:",cr),t({title:"Erro ao reproduzir udio",description:"Tente novamente",variant:"destructive"})})},pr.ontimeupdate=()=>{u(pr.currentTime),Math.floor(pr.currentTime)%10===0&&Xe(pr.currentTime,pr.duration)},pr.onended=()=>{if(URL.revokeObjectURL(Zr),Ne==="book"&&ee<Bt.length-1){const cr=ee+1;He(cr),us(Bt[cr])}else Jt(!1),de(null),lr([]),He(0),pt("chapter")},pr.onerror=()=>{rt(!1),Ft(),URL.revokeObjectURL(Zr),t({title:"Erro ao carregar udio",description:"Verifique sua conexo e tente novamente",variant:"destructive"})}}catch(Yt){rt(!1),console.error("Audio fetch error:",(Yt==null?void 0:Yt.message)||Yt);let Tr="Erro ao carregar udio do captulo",It="Verifique sua conexo e tente novamente";Yt.name==="AbortError"?(Tr="Tempo limite excedido",It="A gerao de udio levou mais de 60 segundos. Verifique sua conexo e tente novamente."):((Nt=Yt==null?void 0:Yt.message)!=null&&Nt.includes("401")||(yt=Yt==null?void 0:Yt.message)!=null&&yt.includes("403"))&&(Tr="No autorizado",It="Faa login novamente e tente"),t({title:Tr,description:It,variant:"destructive"})}}},ao=async()=>{if(_)try{const ye=await(await Xs(`/api/bible/book-info/${_}`,{method:"GET",credentials:"include"})).json(),Nt=Array.from({length:ye.chapters},(yt,Yt)=>Yt+1);lr(Nt),He(0),pt("book"),t({title:`Livro ${ye.name} completo`,description:`${ye.chapters} captulos sero tocados em sequncia`}),us(1)}catch($){console.error("Book audio error:",$),t({title:"Erro ao iniciar udio do livro",description:"Tente novamente",variant:"destructive"})}},Im=async()=>{if(!_||se)return;const $=je.current;if($&&Hr){$.pause(),Jt(!1);return}if($&&I&&!Hr){$.play().then(()=>{Jt(!0)}).catch(ye=>{console.error("Audio resume error:",ye),t({title:"Erro ao continuar udio",description:"Tente carregar novamente",variant:"destructive"})});return}oe(!0)},Tc=($,ye)=>{oe(!1),Ft(),$==="verse"&&ye!==void 0?_e(ye):$==="chapter"?(pt("chapter"),lr([]),He(0),us(P)):ao()},_e=async $=>{var yt,Yt,Tr;if(!_||!Ae)return;const ye=`/api/bible/audio/verse/${e.currentLanguage}/${v}/${_}/${P}/${$}`,Nt=_o(ye);rt(!0),pt("chapter"),t({title:"Gerando udio do versculo...",description:"Isso pode levar 10-20 segundos. Aguarde!"});try{const{data:{session:It}}=await bs.auth.getSession(),Vt=It!=null&&It.access_token?{Authorization:`Bearer ${It.access_token}`}:{},br=new AbortController,qn=setTimeout(()=>br.abort(),6e4),Zr=await fetch(Nt,{method:"GET",credentials:"include",headers:Vt,signal:br.signal});if(clearTimeout(qn),!Zr.ok){const pi=await Zr.json().catch(()=>({}));throw new Error(pi.error||pi.message||`HTTP ${Zr.status}`)}if(!((yt=Zr.headers.get("content-type"))!=null&&yt.includes("audio"))){const pi=await Zr.json();throw new Error(pi.error||pi.message||"Falha ao gerar udio")}const pr=await Zr.blob(),cr=URL.createObjectURL(pr),Hn=new Audio(cr);je.current=Hn,Hn.onloadeddata=()=>{rt(!1),f(Hn.duration),Hn.play().then(()=>{Jt(!0),R(cr),de($),t({title:`Tocando versculo ${$}`,description:"Voc pode continuar navegando enquanto ouve"})}).catch(pi=>{rt(!1),Ft(),URL.revokeObjectURL(cr),console.error("Audio playback error:",pi),t({title:"Erro ao reproduzir udio",description:"Tente novamente",variant:"destructive"})})},Hn.ontimeupdate=()=>{u(Hn.currentTime)},Hn.onended=()=>{URL.revokeObjectURL(cr),Jt(!1),de(null),u(0),f(0)},Hn.onerror=()=>{rt(!1),Ft(),URL.revokeObjectURL(cr),t({title:"Erro ao carregar udio",description:"Verifique sua conexo e tente novamente",variant:"destructive"})}}catch(It){rt(!1),console.error("Audio fetch error:",(It==null?void 0:It.message)||It);let Vt="Erro ao carregar udio do versculo",br="Verifique sua conexo e tente novamente";It.name==="AbortError"?(Vt="Tempo limite excedido",br="A gerao de udio levou mais de 60 segundos. Verifique sua conexo e tente novamente."):((Yt=It==null?void 0:It.message)!=null&&Yt.includes("401")||(Tr=It==null?void 0:It.message)!=null&&Tr.includes("403"))&&(Vt="No autorizado",br="Faa login novamente e tente"),t({title:Vt,description:br,variant:"destructive"})}};m.useEffect(()=>()=>{Ft()},[]),m.useEffect(()=>{Ft()},[_,P]),m.useEffect(()=>{!Z&&O&&Ft()},[Z,O]),Et({queryKey:["/api/bible/bookmarks"]});const{data:Dm=[]}=Et({queryKey:["/api/bible/highlights"]}),{data:Mm=[]}=Et({queryKey:["/api/notes"]}),Wr=it({mutationFn:async $=>await Ze("GET",`/api/bible/search?version=${v}&query=${encodeURIComponent($)}`)});it({mutationFn:async $=>await Ze("POST","/api/bible/bookmarks",$),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/bible/bookmarks"]}),t({title:e.bible.bookmarkAdded,description:e.bible.verseCopied.replace("rea de transferncia","favoritos").replace("clipboard","bookmarks").replace("klembord","favorieten").replace("portapapeles","favoritos")})}});const Qu=it({mutationFn:async $=>await Ze("POST","/api/bible/highlights",$),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/bible/highlights"]}),me(!1),z(null),t({title:e.bible.highlightAdded,description:e.bible.verseImageDownloaded.replace("Imagem do versculo baixada","Versculo destacado").replace("image downloaded","highlighted").replace("afbeelding gedownload","gemarkeerd").replace("imagen descargada","resaltado")})}}),Ac=it({mutationFn:async $=>await Ze("DELETE",`/api/bible/highlights/${$}`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/bible/highlights"]}),me(!1),z(null),t({title:e.bible.highlightRemoved,description:e.bible.highlightRemovedSuccess})}}),Nl=it({mutationFn:async $=>await Ze("POST","/api/notes",$),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/notes"]}),ct(""),t({title:e.bible.noteRemoved.replace("removida","adicionada").replace("removed","added").replace("verwijderd","toegevoegd").replace("eliminada","aadida"),description:e.bible.noteRemovedSuccess.replace("removida","salva").replace("removed","saved").replace("verwijderd","opgeslagen").replace("eliminada","guardada")})}}),zn=it({mutationFn:async $=>await Ze("DELETE",`/api/notes/${$}`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/notes"]}),ct(""),t({title:e.bible.noteRemoved,description:e.bible.noteRemovedSuccess})}}),Rc=it({mutationFn:async $=>await(await Ze("POST","/api/bible/mark-read",$)).json(),onSuccess:$=>{Ke.invalidateQueries({queryKey:["/api/stats/gamification"]});let ye=e.plans.youEarnedXP.replace("{xp}",$.xpGained.toString()).replace("pela sua leitura.","!").replace("for your reading.","!").replace("met lezen.","!").replace("por tu lectura.","!");$.unlockedAchievements&&$.unlockedAchievements.length>0&&(ye+=`  ${$.unlockedAchievements.map(Nt=>Nt.name).join(", ")}`),t({title:e.bible.chapterComplete,description:ye})}});m.useEffect(()=>{const $=Array.isArray(Se)?Se:[];console.log(`[Books] Loaded ${$.length} books:`,$.map(ye=>({name:ye.name,abbrev:ye.abbrev.pt,chapters:ye.chapters}))),$.length>0&&!_&&k($[0].abbrev.pt)},[Se,_]),m.useEffect(()=>{if(H!==null&&Z){const $=Un(H);ct(($==null?void 0:$.content)||"")}},[H,Z]),m.useEffect(()=>{Pt&&t({title:e.bible.errorLoadingBooks,description:e.common.tryAgainLater,variant:"destructive"})},[Pt,t,e]),m.useEffect(()=>{if(we){console.error(`[Chapter Error] Failed to load ${_} chapter ${P}:`,we);const $=we instanceof Error?we.message:String(we);let ye=e.common.tryAgainLater;$.includes("offline")||$.includes("Offline")?ye=e.bible.contentNotAvailableOffline+". Baixe o captulo quando estiver conectado.":$.includes("API error")||$.includes("Failed to fetch")?ye=r?"Servidor temporariamente indisponvel.":e.bible.contentNotAvailableOffline:($.includes("network")||$.includes("Network"))&&(ye="Verifique sua conexo com a internet."),t({title:e.bible.errorLoadingChapter,description:ye,variant:"destructive"})}},[we,t,e,_,P,r]);const hs=()=>{if(T.trim()){const $=T.trim().toLowerCase(),Nt=(Array.isArray(Se)?Se:[]).filter(yt=>{const Yt=(e.bibleBooks[yt.abbrev.pt]||yt.name).toLowerCase(),Tr=yt.abbrev.pt.toLowerCase();return Yt.includes($)||Tr.includes($)});X(Nt),Wr.mutate(T),W(!0)}},_l=$=>!Ae||!Dm?null:Dm.find(ye=>ye.book===Ae.book.name&&ye.chapter===Ae.chapter.number&&ye.verse===$),Un=$=>!Ae||!Mm?null:Mm.find(ye=>ye.book===Ae.book.name&&ye.chapter===Ae.chapter.number&&ye.verse===$),Lm=($,ye)=>{if(!Ae)return;const Nt=_l($.number);Nt&&Ac.mutate(Nt.id),Qu.mutate({book:Ae.book.name,chapter:Ae.chapter.number,verse:$.number,verseText:$.text,color:ye})},$m=$=>{const ye=_l($);ye&&Ac.mutate(ye.id)},Oc=$=>{if(!Ae||!ht.trim())return;const ye=Un($.number);ye&&zn.mutate(ye.id),Nl.mutate({book:Ae.book.name,chapter:Ae.chapter.number,verse:$.number,content:ht.trim()})},fs=$=>{const ye=Un($);ye&&zn.mutate(ye.id)},Ic=[{name:"yellow",bg:"bg-yellow-200/50 dark:bg-yellow-900/30",numberColor:"text-yellow-700 dark:text-yellow-400",label:e.bible.yellow},{name:"green",bg:"bg-green-200/50 dark:bg-green-900/30",numberColor:"text-green-700 dark:text-green-400",label:e.bible.green},{name:"blue",bg:"bg-blue-200/50 dark:bg-blue-900/30",numberColor:"text-blue-700 dark:text-blue-400",label:e.bible.blue},{name:"purple",bg:"bg-purple-200/50 dark:bg-purple-900/30",numberColor:"text-purple-700 dark:text-purple-400",label:e.bible.purple},{name:"pink",bg:"bg-pink-200/50 dark:bg-pink-900/30",numberColor:"text-pink-700 dark:text-pink-400",label:e.bible.pink},{name:"orange",bg:"bg-orange-200/50 dark:bg-orange-900/30",numberColor:"text-orange-700 dark:text-orange-400",label:e.bible.orange}],oy=$=>{const ye=Ic.find(Nt=>Nt.name===$);return ye?ye.bg:""},Ju=$=>{const ye=_l($);if(ye){const Nt=Ic.find(yt=>yt.name===ye.color);return Nt?Nt.numberColor:"text-primary"}return"text-primary"},ly=()=>{const $=Array.isArray(Se)?Se:[],ye=$.find(Nt=>{var yt;return((yt=Nt.abbrev)==null?void 0:yt.pt)===_});if(ye)if(P<ye.chapters)C(P+1);else{const Nt=$.findIndex(yt=>{var Yt;return((Yt=yt.abbrev)==null?void 0:Yt.pt)===_});Nt<$.length-1&&(k($[Nt+1].abbrev.pt),C(1))}},Yu=()=>{if(P>1)C(P-1);else{const $=Array.isArray(Se)?Se:[],ye=$.findIndex(Nt=>{var yt;return((yt=Nt.abbrev)==null?void 0:yt.pt)===_});if(ye>0){const Nt=$[ye-1];k(Nt.abbrev.pt),C(Nt.chapters)}}},pa=Array.isArray(Se)?Se:[],$s=pa.find($=>{var ye;return((ye=$.abbrev)==null?void 0:ye.pt)===_}),Dc=pa.filter($=>$.testament==="VT"),Fs=pa.filter($=>$.testament==="NT");if(tt)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary"})});const Mc=Ae?`${e.bibleBooks[Ae.book.abbrev]||Ae.book.name} ${Ae.chapter.number} (${v.toUpperCase()})`:"Leitor Bblico",Zu=Ae&&Ae.verses.length>0?Ae.verses.slice(0,3).map($=>`${$.number}. ${$.text}`).join(" "):"Leia e estude a Bblia Sagrada com IA teolgica e recursos premium.";return n.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[n.jsx(aoe,{title:Mc,description:Zu,ogType:"book"}),n.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur border-b",children:n.jsx("div",{className:"flex items-center justify-between px-4 h-14 max-w-6xl mx-auto w-full",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs(Fo,{open:A,onOpenChange:W,children:[n.jsx(Wh,{asChild:!0,children:n.jsx(D,{variant:"outline",size:"icon",className:"rounded-xl shadow-sm border-border/50","data-testid":"button-search-open",children:n.jsx($o,{className:"h-4 w-4"})})}),n.jsxs(Ti,{side:"bottom",className:"h-[80vh]",children:[n.jsx(Ai,{children:n.jsx(Ri,{children:"Buscar na Bblia"})}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ft,{placeholder:"Ex: amor, Davi, f, salvao...",value:T,onChange:$=>M($.target.value),onKeyDown:$=>$.key==="Enter"&&hs(),"data-testid":"input-search"}),n.jsx(D,{onClick:hs,disabled:Wr.isPending,children:Wr.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx($o,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Busque qualquer palavra, nome, expresso ou tema na Bblia"})]}),n.jsx(kn,{className:"h-[60vh]",children:n.jsxs("div",{className:"space-y-4",children:[K.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[n.jsx(Hs,{className:"h-4 w-4"}),"Ir para livro"]}),n.jsx("div",{className:"space-y-2",children:K.map($=>n.jsx(fo,{asChild:!0,children:n.jsx("button",{className:"w-full text-left p-4 rounded-2xl bg-gradient-to-r from-primary/10 to-accent/10 border border-primary/20 hover-elevate active-elevate-2 transition-colors shadow-md",onClick:()=>{k($.abbrev.pt),C(1),M(""),X([])},"data-testid":`button-book-suggestion-${$.abbrev.pt}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/20",children:n.jsx(Hs,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-sm",children:e.bibleBooks[$.abbrev.pt]||$.name}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[$.chapters," ",$.chapters===1?"captulo":"captulos"]})]})]})})},$.abbrev.pt))})]}),Wr.data&&n.jsxs("div",{children:[K.length>0&&n.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[n.jsx($o,{className:"h-4 w-4"}),"Versculos encontrados"]}),n.jsx("div",{className:"space-y-2",children:((eh=Wr.data.verses)==null?void 0:eh.map(($,ye)=>n.jsx(fo,{asChild:!0,children:n.jsxs("button",{className:"w-full text-left p-4 rounded-xl border hover-elevate active-elevate-2 transition-colors",onClick:()=>{k($.book.abbrev.pt),C($.chapter),M(""),X([])},children:[n.jsxs("div",{className:"font-semibold text-sm mb-1",children:[e.bibleBooks[$.book.abbrev.pt]||$.book.name," ",$.chapter,":",$.number]}),n.jsx("p",{className:"text-sm text-muted-foreground font-serif",children:$.text})]})},ye)))||n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum versculo encontrado."})})]}),!Wr.data&&K.length===0&&Wr.isIdle&&n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx($o,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Digite para buscar livros ou versculos"})]})]})})]})]})]}),n.jsxs(Fo,{open:B,onOpenChange:L,children:[n.jsx(Wh,{asChild:!0,children:n.jsxs(D,{variant:"outline",size:"default",className:"rounded-xl shadow-sm border-border/50 gap-1.5","data-testid":"button-menu",children:[n.jsx(Hs,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Livros"})]})}),n.jsxs(Ti,{side:"bottom",className:"h-[80vh]",children:[n.jsx(Ai,{children:n.jsx(Ri,{children:"Livros da Bblia"})}),n.jsxs(cn,{defaultValue:"nt",className:"mt-4",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ct,{value:"ot",children:["Antigo (",Dc.length,")"]}),n.jsxs(Ct,{value:"nt",children:["Novo (",Fs.length,")"]})]}),n.jsx(Mt,{value:"ot",className:"mt-4",children:n.jsx(kn,{className:"h-[60vh]",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Dc.map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{variant:_===$.abbrev.pt?"default":"outline",className:"justify-start",onClick:()=>{k($.abbrev.pt),C(1)},"data-testid":`button-book-${$.abbrev.pt}`,children:e.bibleBooks[$.abbrev.pt]||$.name})},$.abbrev.pt))})})}),n.jsx(Mt,{value:"nt",className:"mt-4",children:n.jsx(kn,{className:"h-[60vh]",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Fs.map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{variant:_===$.abbrev.pt?"default":"outline",className:"justify-start",onClick:()=>{k($.abbrev.pt),C(1)},"data-testid":`button-book-${$.abbrev.pt}`,children:e.bibleBooks[$.abbrev.pt]||$.name})},$.abbrev.pt))})})})]})]})]}),n.jsxs(Fo,{open:G,onOpenChange:ae,children:[n.jsx(Wh,{asChild:!0,children:n.jsx(D,{variant:"default",size:"default",className:"rounded-xl shadow-sm min-w-[52px] font-bold","data-testid":"button-version",children:((th=lE.find($=>$.value===v))==null?void 0:th.label)||"NVI"})}),n.jsxs(Ti,{side:"bottom",className:"h-[80vh]",children:[n.jsx(Ai,{children:n.jsx(Ri,{children:"Navegar"})}),n.jsxs(cn,{defaultValue:"chapters",className:"mt-4",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-3",children:[n.jsx(Ct,{value:"chapters",children:"Captulos"}),n.jsx(Ct,{value:"books",children:"Livros"}),n.jsx(Ct,{value:"version",children:"Verso"})]}),n.jsx(Mt,{value:"chapters",className:"mt-4",children:$s&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-medium mb-2",children:["Captulos de ",$s.name]}),n.jsx(kn,{className:"h-[60vh]",children:n.jsx("div",{className:"grid grid-cols-6 gap-2",children:Array.from({length:$s.chapters},($,ye)=>ye+1).map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{size:"sm",variant:P===$?"default":"outline",onClick:()=>C($),"data-testid":`button-chapter-${$}`,children:$})},$))})})]})}),n.jsx(Mt,{value:"books",className:"mt-4",children:n.jsxs(cn,{defaultValue:"nt",className:"mt-2",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ct,{value:"ot",children:["Antigo (",Dc.length,")"]}),n.jsxs(Ct,{value:"nt",children:["Novo (",Fs.length,")"]})]}),n.jsx(Mt,{value:"ot",className:"mt-4",children:n.jsx(kn,{className:"h-[50vh]",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Dc.map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{variant:_===$.abbrev.pt?"default":"outline",className:"justify-start",onClick:()=>{k($.abbrev.pt),C(1)},"data-testid":`button-book-nav-${$.abbrev.pt}`,children:e.bibleBooks[$.abbrev.pt]||$.name})},$.abbrev.pt))})})}),n.jsx(Mt,{value:"nt",className:"mt-4",children:n.jsx(kn,{className:"h-[50vh]",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Fs.map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{variant:_===$.abbrev.pt?"default":"outline",className:"justify-start",onClick:()=>{console.log(`[Book Click] Selected: ${$.name} (${$.abbrev.pt}) - ${$.chapters} chapters`),k($.abbrev.pt),C(1)},"data-testid":`button-book-nav-${$.abbrev.pt}`,children:e.bibleBooks[$.abbrev.pt]||$.name})},$.abbrev.pt))})})})]})}),n.jsx(Mt,{value:"version",className:"mt-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Verso da Bblia"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:lE.map($=>n.jsx(fo,{asChild:!0,children:n.jsx(D,{variant:v===$.value?"default":"outline",onClick:()=>{console.log(`[Version] Changing from ${v} to ${$.value}`),N($.value)},"data-testid":`button-version-${$.value}`,children:$.label})},$.value))})]})})]})]})]})]})})}),n.jsx("main",{className:`max-w-4xl mx-auto px-4 py-6 rounded-lg transition-colors ${c!=="default"?"reading-themed-content":""}`,style:c!=="default"?{backgroundColor:"var(--reading-bg)",color:"var(--reading-text)"}:void 0,children:wt?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary"})}):Ae?n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"book-name text-center text-3xl md:text-4xl font-serif font-semibold mb-2","data-testid":"text-book-name",children:e.bibleBooks[Ae.book.abbrev]||Ae.book.name}),n.jsx("div",{className:"chapter-number text-center text-8xl md:text-9xl font-display font-bold mb-8","data-testid":"text-chapter-number",children:Ae.chapter.number}),n.jsx("div",{className:"space-y-3 max-w-none",children:Ae.verses.map($=>{const ye=_l($.number),Nt=ye?oy(ye.color):"";return n.jsxs($ie,{open:H===$.number&&Z,onOpenChange:yt=>{yt?(z($.number),me(!0)):(me(!1),z(null))},children:[n.jsx(Fie,{asChild:!0,children:n.jsxs("div",{className:`flex items-baseline gap-2 cursor-pointer rounded-md px-2 py-1 transition-all ${c==="default"?"hover:bg-accent/50":""} ${Nt}`,"data-testid":`verse-container-${$.number}`,children:[n.jsx("sup",{className:`verse-number text-[0.65rem] font-bold min-w-[1.5rem] text-right flex-shrink-0 leading-none ${c==="default"?Ju($.number):""}`,"data-testid":`verse-number-${$.number}`,children:$.number}),n.jsx("p",{className:"verse-text flex-1 font-serif text-base md:text-lg leading-relaxed","data-testid":`verse-text-${$.number}`,children:$.text})]})}),n.jsxs(oF,{className:"w-80",children:[n.jsxs(cn,{defaultValue:"highlight",className:"w-full",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[n.jsx(Ct,{value:"highlight",children:"Destacar"}),n.jsx(Ct,{value:"note",children:"Nota"})]}),n.jsxs(Mt,{value:"highlight",className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:e.bible.chooseHighlightColor}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ic.map(yt=>n.jsx(D,{variant:(ye==null?void 0:ye.color)===yt.name?"default":"outline",size:"sm",className:`${yt.bg} hover:${yt.bg}`,onClick:()=>Lm($,yt.name),"data-testid":`button-highlight-${yt.name}`,children:yt.label},yt.name))}),ye&&n.jsx(D,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>$m($.number),"data-testid":"button-remove-highlight",children:e.bible.removeHighlight})]}),n.jsxs(Mt,{value:"note",className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:e.bible.addNote}),n.jsx(Gs,{placeholder:e.bible.writeNoteHere,value:ht,onChange:yt=>ct(yt.target.value),className:"min-h-[100px]","data-testid":"textarea-note"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(D,{size:"sm",className:"flex-1",onClick:()=>Oc($),disabled:!ht.trim()||Nl.isPending,"data-testid":"button-save-note",children:Nl.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):Un($.number)?e.bible.update:e.bible.save}),Un($.number)&&n.jsx(D,{variant:"destructive",size:"sm",onClick:()=>fs($.number),disabled:zn.isPending,"data-testid":"button-delete-note",children:zn.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):e.bible.delete})]})]})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[n.jsx(D,{variant:"outline",size:"sm",className:"w-full",onClick:async()=>{Ft();const yt=`/api/bible/audio/verse/${e.currentLanguage}/${v}/${_}/${P}/${$.number}`,Yt=_o(yt);t({title:"Gerando udio do versculo...",description:"Aguarde alguns segundos"}),de($.number);try{const{data:{session:Tr}}=await bs.auth.getSession(),It=Tr!=null&&Tr.access_token?{Authorization:`Bearer ${Tr.access_token}`}:{},Vt=new AbortController,br=setTimeout(()=>Vt.abort(),3e4),qn=await fetch(Yt,{credentials:"include",headers:It,signal:Vt.signal});if(clearTimeout(br),!qn.ok)throw new Error(`HTTP ${qn.status}`);const Zr=await qn.blob(),pr=URL.createObjectURL(Zr),cr=new Audio(pr);je.current=cr,cr.onloadeddata=()=>{cr.play().then(()=>{Jt(!0),R(pr),t({title:"udio do versculo iniciado"})}).catch(Hn=>{console.error("Audio error:",Hn),Ft(),URL.revokeObjectURL(pr),t({title:"Erro ao reproduzir udio",variant:"destructive"})})},cr.onended=()=>{Jt(!1),de(null),URL.revokeObjectURL(pr)},cr.onerror=()=>{Ft(),URL.revokeObjectURL(pr),t({title:"Erro ao carregar udio",variant:"destructive"})}}catch(Tr){console.error("Audio fetch error:",Tr),de(null),t({title:"Erro ao carregar udio",variant:"destructive"})}},"data-testid":`button-audio-verse-${$.number}`,children:O===$.number?n.jsxs(n.Fragment,{children:[n.jsx(u2,{className:"h-4 w-4 mr-2"}),"Tocando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tg,{className:"h-4 w-4 mr-2"}),"Ouvir versculo"]})}),n.jsxs(D,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{ar($),ut(!0),me(!1)},"data-testid":`button-share-verse-${$.number}`,children:[n.jsx(rl,{className:"h-4 w-4 mr-2"}),e.bible.shareVerse]}),n.jsxs(D,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{Pr($),qr(!0),me(!1)},"data-testid":`button-commentary-${$.number}`,children:[n.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Ver Comentrio"]})]})]})]},$.number)})}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs(D,{size:"lg",onClick:()=>Rc.mutate({book:Ae.book.name,chapter:Ae.chapter.number}),disabled:Rc.isPending,"data-testid":"button-mark-read",children:[Rc.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(jf,{className:"h-4 w-4 mr-2"}),e.bible.markAsRead]})})]}):n.jsx("div",{className:"text-center py-20 text-muted-foreground",children:e.bible.selectBookToStart})}),Je&&Ae&&n.jsx(_F,{open:mt,onOpenChange:ut,bookName:e.bibleBooks[Ae.book.abbrev]||Ae.book.name,bookAbbrev:Ae.book.abbrev,chapter:Ae.chapter.number,verseNumber:Je.number,verseText:Je.text,version:v}),n.jsx("div",{className:"fixed bottom-24 md:bottom-4 left-0 right-0 z-30 px-4",children:n.jsx("div",{className:"max-w-md mx-auto bg-background/95 backdrop-blur border rounded-full shadow-lg px-4 py-2",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full",onClick:Yu,disabled:!_||pa.length>0&&_===((rh=(io=pa[0])==null?void 0:io.abbrev)==null?void 0:rh.pt)&&P===1,"data-testid":"button-previous-chapter",children:n.jsx(MD,{className:"h-5 w-5"})}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full",onClick:Im,disabled:!_||se,"data-testid":"button-toggle-audio",children:se?n.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"}):Hr?n.jsx(u2,{className:"h-5 w-5 text-primary"}):n.jsx(tg,{className:"h-5 w-5"})}),_&&n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full",onClick:async()=>{s(_,P,v)?await i(_,P,v):await a(_,P,v)},disabled:!_,"data-testid":"button-toggle-offline",children:s(_,P,v)?n.jsx(gw,{className:"h-5 w-5 text-primary"}):n.jsx(vG,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>ae(!0),className:"text-sm font-medium min-w-[100px] text-center hover-elevate px-3 py-2 rounded-full transition-colors","data-testid":"text-chapter-navigation",children:Ae?`${e.bibleBooks[Ae.book.abbrev]||Ae.book.name} ${Ae.chapter.number}`:"Selecione"}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full",onClick:ly,disabled:!$s||pa.length>0&&_===((sh=(Sl=pa[pa.length-1])==null?void 0:Sl.abbrev)==null?void 0:sh.pt)&&P===($s==null?void 0:$s.chapters),"data-testid":"button-next-chapter",children:n.jsx(Da,{className:"h-5 w-5"})})]})})}),n.jsx(Fo,{open:jt,onOpenChange:qr,children:n.jsxs(Ti,{side:"bottom",className:"h-[90vh]",children:[n.jsx(Ai,{children:n.jsxs(Ri,{children:["Comentrio Teolgico - ",_," ",P,":",xt==null?void 0:xt.number]})}),xt&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"bg-muted p-4 rounded-lg mb-4",children:[n.jsxs("p",{className:"text-sm font-semibold text-muted-foreground mb-1",children:[_," ",P,":",xt.number]}),n.jsxs("p",{className:"font-serif text-base leading-relaxed",children:['"',xt.text,'"']})]}),n.jsxs(cn,{defaultValue:"exegese",className:"w-full",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-5",children:[n.jsx(Ct,{value:"exegese",children:"Exegese"}),n.jsx(Ct,{value:"historico",children:"Histrico"}),n.jsx(Ct,{value:"aplicacao",children:"Aplicao"}),n.jsx(Ct,{value:"referencias",children:"Referncias"}),n.jsx(Ct,{value:"teologico",children:"Teolgico"})]}),["exegese","historico","aplicacao","referencias","teologico"].map($=>n.jsx(Mt,{value:$,className:"mt-4",children:n.jsx(_oe,{version:v,book:_,chapter:P,verse:xt.number,commentaryType:$})},$))]})]})]})}),n.jsx(oa,{open:ve,onOpenChange:oe,children:n.jsxs(Pn,{className:"sm:max-w-md",children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Escolha o modo de udio"}),n.jsx(Rn,{children:"Voc pode ouvir um versculo, o captulo ou o livro completo"})]}),n.jsxs("div",{className:"grid gap-3 py-4",children:[n.jsxs(D,{onClick:()=>Tc("verse",H||void 0),variant:"outline",className:"h-auto flex-col items-start p-4 gap-2","data-testid":"button-audio-verse",disabled:H===null,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tg,{className:"h-5 w-5"}),n.jsx("span",{className:"font-semibold",children:"Versculo Selecionado"})]}),n.jsx("p",{className:"text-sm text-muted-foreground text-left",children:H!==null?`Ouvir apenas versculo ${H}`:"Selecione um versculo primeiro"})]}),n.jsxs(D,{onClick:()=>Tc("chapter"),variant:"outline",className:"h-auto flex-col items-start p-4 gap-2","data-testid":"button-audio-chapter",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5"}),n.jsx("span",{className:"font-semibold",children:"Captulo Atual"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground text-left",children:["Ouvir apenas ",_," ",P]})]}),n.jsxs(D,{onClick:()=>Tc("book"),variant:"outline",className:"h-auto flex-col items-start p-4 gap-2","data-testid":"button-audio-book",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5"}),n.jsx("span",{className:"font-semibold",children:"Livro Completo"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground text-left",children:["Ouvir todo o livro de ",($s==null?void 0:$s.name)||_," em sequncia"]})]})]})]})}),(Hr||se||d>0)&&n.jsx(noe,{isPlaying:Hr,isLoading:se,onToggle:tn,onStop:Ft,title:Bn(),currentTime:d,duration:h,onSeek:yr})]})}function _oe({version:t,book:e,chapter:r,verse:s,commentaryType:a}){nr();const{data:i,isLoading:o,error:l}=Et({queryKey:["/api/bible/commentary",t,e,r,s,a],queryFn:async()=>{const c=await fetch(`/api/bible/commentary/${t}/${e}/${r}/${s}?type=${a}`,{credentials:"include"});if(!c.ok)throw new Error("Falha ao carregar comentrio");return await c.json()},retry:1});return o?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Gerando comentrio..."})]}):l?n.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar comentrio. Verifique se o OpenAI est configurado."})}):n.jsx(kn,{className:"h-[60vh]",children:n.jsx("div",{className:"prose prose-sm max-w-none p-4",children:n.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:i==null?void 0:i.content})})})}function Soe(){const{t}=Lr(),{toast:e}=nr(),[r,s]=m.useState(""),[a,i]=m.useState("bookmarks"),[o,l]=m.useState({open:!1,book:"",chapter:1,verse:1,text:"",version:"nvi"}),{data:c=[],isLoading:d,error:u}=Et({queryKey:["/api/bible/bookmarks"],retry:1}),{data:h=[],isLoading:f,error:g}=Et({queryKey:["/api/bible/highlights"],retry:1}),{data:b=[],isLoading:x,error:j}=Et({queryKey:["/api/notes"],retry:1}),y=it({mutationFn:async A=>{await Ze("DELETE",`/api/bible/bookmarks/${A}`)},onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/bible/bookmarks"]}),e({title:"Removido",description:"Favorito removido com sucesso"})}}),v=it({mutationFn:async A=>{await Ze("DELETE",`/api/bible/highlights/${A}`)},onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/bible/highlights"]}),e({title:"Removido",description:"Destaque removido com sucesso"})}}),N=it({mutationFn:async A=>{await Ze("DELETE",`/api/notes/${A}`)},onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/notes"]}),e({title:"Removido",description:"Nota removida com sucesso"})}}),_=m.useMemo(()=>c.filter(A=>A.book.toLowerCase().includes(r.toLowerCase())||A.verseText.toLowerCase().includes(r.toLowerCase())),[c,r]),k=m.useMemo(()=>h.filter(A=>A.book.toLowerCase().includes(r.toLowerCase())||A.verseText.toLowerCase().includes(r.toLowerCase())),[h,r]),P=m.useMemo(()=>b.filter(A=>A.book.toLowerCase().includes(r.toLowerCase())||A.content.toLowerCase().includes(r.toLowerCase())),[b,r]),C=A=>{switch(A){case"yellow":return"bg-yellow-500/10 border-yellow-500/20 text-yellow-900 dark:text-yellow-200";case"green":return"bg-green-500/10 border-green-500/20 text-green-900 dark:text-green-200";case"blue":return"bg-blue-500/10 border-blue-500/20 text-blue-900 dark:text-blue-200";case"purple":return"bg-purple-500/10 border-purple-500/20 text-purple-900 dark:text-purple-200";case"pink":return"bg-pink-500/10 border-pink-500/20 text-pink-900 dark:text-pink-200";case"orange":return"bg-orange-500/10 border-orange-500/20 text-orange-900 dark:text-orange-200";default:return"bg-muted/30 border-muted-foreground/10"}},T=A=>{switch(A){case"yellow":return"bg-yellow-500 text-white";case"green":return"bg-green-500 text-white";case"blue":return"bg-blue-500 text-white";case"purple":return"bg-purple-500 text-white";case"pink":return"bg-pink-500 text-white";case"orange":return"bg-orange-500 text-white";default:return""}};return d||f||x?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background/50 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center space-y-6 p-8",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-2xl rounded-full animate-pulse"}),n.jsx(Ge,{className:"h-16 w-16 animate-spin text-primary relative"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Carregando seus tesouros..."}),n.jsx("p",{className:"text-muted-foreground max-w-[250px] mx-auto text-sm",children:"Estamos preparando sua coleo personalizada de versculos e notas."})]})]})}):u||g||j?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-6 text-center space-y-4",children:[n.jsx("div",{className:"bg-destructive/10 p-4 rounded-full",children:n.jsx(ss,{className:"h-12 w-12 text-destructive opacity-50"})}),n.jsx("h2",{className:"text-2xl font-bold",children:"Ops! Algo deu errado"}),n.jsx("p",{className:"text-muted-foreground max-w-md",children:"No conseguimos carregar seus favoritos no momento. Verifique sua conexo."}),n.jsx(D,{onClick:()=>window.location.reload(),variant:"outline",className:"rounded-xl",children:"Tentar Novamente"})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:[n.jsxs("div",{className:"container max-w-5xl mx-auto p-4 md:p-8 pb-32",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx(Te,{href:"/",children:n.jsx(D,{variant:"outline",size:"icon",className:"rounded-2xl hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-sm border-primary/20",children:n.jsx(Ms,{className:"h-5 w-5"})})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ss,{className:"h-5 w-5 text-primary fill-current"}),n.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold tracking-tight text-foreground",children:t.favorites.title})]}),n.jsx("p",{className:"text-muted-foreground font-medium",children:t.favorites.subtitle})]})]}),n.jsxs("div",{className:"relative group w-full md:w-80",children:[n.jsx($o,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),n.jsx(ft,{placeholder:"Pesquisar tesouros...",className:"pl-11 h-12 bg-card/50 backdrop-blur-md border-primary/10 rounded-2xl focus-visible:ring-primary/30 shadow-sm transition-all",value:r,onChange:A=>s(A.target.value)})]})]}),n.jsxs(cn,{value:a,onValueChange:i,className:"w-full",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-full max-w-sm px-4",children:n.jsxs(Ks,{className:"flex h-14 w-full items-center justify-between rounded-full bg-white dark:bg-zinc-900 p-1.5 shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-black/5 dark:border-white/5",children:[n.jsxs(Ct,{value:"bookmarks",className:"flex-1 flex items-center justify-center gap-2 h-11 rounded-full data-[state=active]:bg-primary data-[state=active]:text-white data-[state=active]:shadow-[0_4px_14px_0_rgba(107,33,240,0.39)] transition-all duration-300",children:[n.jsx(Ei,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-bold text-xs sm:text-sm",children:t.favorites.bookmarks}),n.jsx(ot,{variant:"outline",className:"hidden sm:flex ml-1 px-1.5 h-5 border-current opacity-80 rounded-full bg-transparent",children:_.length})]}),n.jsxs(Ct,{value:"highlights",className:"flex-1 flex items-center justify-center gap-2 h-11 rounded-full data-[state=active]:bg-primary data-[state=active]:text-white data-[state=active]:shadow-[0_4px_14px_0_rgba(107,33,240,0.39)] transition-all duration-300",children:[n.jsx(Qg,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-bold text-xs sm:text-sm",children:t.favorites.highlights}),n.jsx(ot,{variant:"outline",className:"hidden sm:flex ml-1 px-1.5 h-5 border-current opacity-80 rounded-full bg-transparent",children:k.length})]}),n.jsxs(Ct,{value:"notes",className:"flex-1 flex items-center justify-center gap-2 h-11 rounded-full data-[state=active]:bg-primary data-[state=active]:text-white data-[state=active]:shadow-[0_4px_14px_0_rgba(107,33,240,0.39)] transition-all duration-300",children:[n.jsx(Aa,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-bold text-xs sm:text-sm",children:t.favorites.notes}),n.jsx(ot,{variant:"outline",className:"hidden sm:flex ml-1 px-1.5 h-5 border-current opacity-80 rounded-full bg-transparent",children:P.length})]})]})})}),n.jsxs(kn,{className:"h-[calc(100vh-320px)] pr-4 -mr-4",children:[n.jsx(Mt,{value:"bookmarks",className:"m-0 focus-visible:ring-0",children:n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid gap-6",children:_.length===0?n.jsx(Ob,{icon:Ei,text:r?"Nenhum favorito encontrado":`${t.favorites.no_favorites}. ${t.favorites.add_first}!`}):_.map(A=>n.jsxs(Y,{className:"group relative overflow-hidden border-primary/5 bg-card/40 backdrop-blur-sm hover:bg-card/60 hover:border-primary/20 hover:shadow-xl transition-all duration-500 rounded-3xl",children:[n.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary/20 group-hover:bg-primary transition-colors"}),n.jsxs(he,{className:"pb-3 flex flex-row items-start justify-between",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Te,{href:`/bible?book=${A.book.toLowerCase()}&chapter=${A.chapter}&verse=${A.verse}&version=${A.version||"nvi"}`,children:n.jsxs("div",{className:"inline-flex items-center gap-2 group/link cursor-pointer",children:[n.jsxs(ge,{className:"text-xl font-bold tracking-tight text-primary",children:[A.book," ",A.chapter,":",A.verse]}),n.jsx(Da,{className:"h-4 w-4 text-primary opacity-0 -translate-x-2 group-hover/link:opacity-100 group-hover/link:translate-x-0 transition-all duration-300"})]})}),n.jsx(ot,{variant:"secondary",className:"block w-fit bg-primary/5 text-primary-foreground/70 font-mono text-[10px] uppercase tracking-widest",children:A.version||"NVI"})]}),n.jsxs("div",{className:"flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[n.jsx(D,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-primary hover:text-primary-foreground",onClick:()=>l({...o,open:!0,book:A.book,chapter:A.chapter,verse:A.verse,text:A.verseText,version:A.version||"nvi"}),children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsx(D,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-destructive hover:text-destructive-foreground",onClick:()=>y.mutate(A.id),children:n.jsx(Ts,{className:"h-4 w-4"})})]})]}),n.jsxs(re,{children:[n.jsxs("p",{className:"font-serif text-xl leading-relaxed text-foreground/90 italic decoration-primary/10 underline-offset-8",children:['"',A.verseText,'"']}),A.note&&n.jsxs("div",{className:"mt-5 p-4 bg-primary/5 border border-primary/10 rounded-2xl relative",children:[n.jsx(Aa,{className:"absolute top-4 right-4 h-4 w-4 text-primary/30"}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium leading-relaxed",children:A.note})]})]})]},A.id))})}),n.jsx(Mt,{value:"highlights",className:"m-0 focus-visible:ring-0",children:n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid gap-6",children:k.length===0?n.jsx(Ob,{icon:Qg,text:r?"Nenhum destaque encontrado":`${t.favorites.no_favorites}. ${t.favorites.add_first}!`}):k.map(A=>n.jsxs(Y,{className:`group relative overflow-hidden border-2 transition-all duration-500 rounded-3xl ${C(A.color)} shadow-sm hover:shadow-lg`,children:[n.jsxs(he,{className:"pb-3 flex flex-row items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{href:`/bible?book=${A.book.toLowerCase()}&chapter=${A.chapter}&verse=${A.verse}`,children:n.jsxs("div",{className:"inline-flex items-center gap-2 group/link cursor-pointer",children:[n.jsxs(ge,{className:"text-xl font-bold tracking-tight",children:[A.book," ",A.chapter,":",A.verse]}),n.jsx(Da,{className:"h-4 w-4 opacity-0 -translate-x-2 group-hover/link:opacity-100 group-hover/link:translate-x-0 transition-all duration-300"})]})}),n.jsx(ot,{className:`w-fit uppercase text-[10px] tracking-widest font-bold px-2 py-0.5 rounded-lg ${T(A.color)}`,children:A.color})]}),n.jsxs("div",{className:"flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[n.jsx(D,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-primary hover:text-primary-foreground",onClick:()=>l({...o,open:!0,book:A.book,chapter:A.chapter,verse:A.verse,text:A.verseText,version:"nvi"}),children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsx(D,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-destructive hover:text-destructive-foreground",onClick:()=>v.mutate(A.id),children:n.jsx(Ts,{className:"h-4 w-4"})})]})]}),n.jsx(re,{children:n.jsx("p",{className:"font-serif text-xl leading-relaxed font-medium",children:A.verseText})})]},A.id))})}),n.jsx(Mt,{value:"notes",className:"m-0 focus-visible:ring-0",children:n.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid gap-6",children:P.length===0?n.jsx(Ob,{icon:Aa,text:r?"Nenhuma nota encontrada":`${t.favorites.no_favorites}. ${t.favorites.add_first}!`}):P.map(A=>n.jsxs(Y,{className:"group relative overflow-hidden border-primary/5 bg-card/40 backdrop-blur-sm hover:bg-card/60 transition-all duration-500 rounded-3xl",children:[n.jsxs(he,{className:"pb-3 flex flex-row items-start justify-between",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Te,{href:`/bible?book=${A.book.toLowerCase()}&chapter=${A.chapter}${A.verse?`&verse=${A.verse}`:""}`,children:n.jsxs("div",{className:"inline-flex items-center gap-2 group/link cursor-pointer",children:[n.jsxs(ge,{className:"text-xl font-bold tracking-tight text-primary",children:[A.book," ",A.chapter,":",A.verse]}),n.jsx(Da,{className:"h-4 w-4 text-primary opacity-0 -translate-x-2 group-hover/link:opacity-100 group-hover/link:translate-x-0 transition-all duration-300"})]})}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold tracking-widest text-muted-foreground/60",children:[n.jsx(ss,{className:"h-2.5 w-2.5 fill-current"}),new Date(A.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})]})]}),n.jsx(D,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl opacity-0 group-hover:opacity-100 hover:bg-destructive hover:text-destructive-foreground transition-all",onClick:()=>N.mutate(A.id),children:n.jsx(Ts,{className:"h-4 w-4"})})]}),n.jsx(re,{children:n.jsx("div",{className:"p-5 bg-background/40 rounded-2xl border border-primary/5 shadow-inner",children:n.jsx("p",{className:"text-base leading-relaxed text-foreground/80 whitespace-pre-wrap font-medium",children:A.content})})})]},A.id))})})]})]})]}),n.jsx(_F,{open:o.open,onOpenChange:A=>l(W=>({...W,open:A})),bookName:o.book,bookAbbrev:o.book,chapter:o.chapter,verseNumber:o.verse,verseText:o.text,version:o.version})]})}function Ob({icon:t,text:e}){return n.jsxs(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-24 px-6 bg-card/20 backdrop-blur-sm rounded-[3rem] border-2 border-dashed border-primary/10",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full"}),n.jsx(t,{className:"relative h-16 w-16 text-primary opacity-30"})]}),n.jsx("p",{className:"text-muted-foreground font-semibold text-lg text-center max-w-xs leading-tight",children:e})]})}var koe="Label",SF=m.forwardRef((t,e)=>n.jsx(Pe.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));SF.displayName=koe;var kF=SF;const Coe=Fu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vt=m.forwardRef(({className:t,...e},r)=>n.jsx(kF,{ref:r,className:be(Coe(),t),...e}));vt.displayName=kF.displayName;var Eoe=[" ","Enter","ArrowUp","ArrowDown"],Poe=[" ","Enter"],Pm="Select",[Jv,Yv,Toe]=Lu(Pm),[Wu,fpe]=Mr(Pm,[Toe,xl]),Zv=xl(),[Aoe,wl]=Wu(Pm),[Roe,Ooe]=Wu(Pm),CF=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g,form:b}=t,x=Zv(e),[j,y]=m.useState(null),[v,N]=m.useState(null),[_,k]=m.useState(!1),P=vl(d),[C=!1,T]=Ds({prop:s,defaultProp:a,onChange:i}),[M,A]=Ds({prop:o,defaultProp:l,onChange:c}),W=m.useRef(null),B=j?b||!!j.closest("form"):!0,[L,K]=m.useState(new Set),X=Array.from(L).map(G=>G.props.value).join(";");return n.jsx(bv,{...x,children:n.jsxs(Aoe,{required:g,scope:e,trigger:j,onTriggerChange:y,valueNode:v,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:k,contentId:gn(),value:M,onValueChange:A,open:C,onOpenChange:T,dir:P,triggerPointerDownPosRef:W,disabled:f,children:[n.jsx(Jv.Provider,{scope:e,children:n.jsx(Roe,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(G=>{K(ae=>new Set(ae).add(G))},[]),onNativeOptionRemove:m.useCallback(G=>{K(ae=>{const H=new Set(ae);return H.delete(G),H})},[]),children:r})}),B?n.jsxs(YF,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:G=>A(G.target.value),disabled:f,form:b,children:[M===void 0?n.jsx("option",{value:""}):null,Array.from(L)]},X):null]})})};CF.displayName=Pm;var EF="SelectTrigger",PF=m.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...a}=t,i=Zv(r),o=wl(EF,r),l=o.disabled||s,c=Qe(e,o.onTriggerChange),d=Yv(r),u=m.useRef("touch"),[h,f,g]=ZF(x=>{const j=d().filter(N=>!N.disabled),y=j.find(N=>N.value===o.value),v=eV(j,x,y);v!==void 0&&o.onValueChange(v.value)}),b=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(hm,{asChild:!0,...i,children:n.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":JF(o.value)?"":void 0,...a,ref:c,onClick:ue(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&b(x)}),onPointerDown:ue(a.onPointerDown,x=>{u.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:ue(a.onKeyDown,x=>{const j=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(j&&x.key===" ")&&Eoe.includes(x.key)&&(b(),x.preventDefault())})})})});PF.displayName=EF;var TF="SelectValue",AF=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=t,c=wl(TF,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Qe(e,c.onValueNodeChange);return Ur(()=>{d(u)},[d,u]),n.jsx(Pe.span,{...l,ref:h,style:{pointerEvents:"none"},children:JF(c.value)?n.jsx(n.Fragment,{children:o}):i})});AF.displayName=TF;var Ioe="SelectIcon",RF=m.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...a}=t;return n.jsx(Pe.span,{"aria-hidden":!0,...a,ref:e,children:s||""})});RF.displayName=Ioe;var Doe="SelectPortal",OF=t=>n.jsx($u,{asChild:!0,...t});OF.displayName=Doe;var gc="SelectContent",IF=m.forwardRef((t,e)=>{const r=wl(gc,t.__scopeSelect),[s,a]=m.useState();if(Ur(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?_c.createPortal(n.jsx(DF,{scope:t.__scopeSelect,children:n.jsx(Jv.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),i):null}return n.jsx(MF,{...t,ref:e})});IF.displayName=gc;var wa=10,[DF,jl]=Wu(gc),Moe="SelectContentImpl",Loe=tl("SelectContent.RemoveScroll"),MF=m.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:j,...y}=t,v=wl(gc,r),[N,_]=m.useState(null),[k,P]=m.useState(null),C=Qe(e,we=>_(we)),[T,M]=m.useState(null),[A,W]=m.useState(null),B=Yv(r),[L,K]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(N)return Pv(N)},[N]),Cv();const G=m.useCallback(we=>{const[ht,...ct]=B().map(Je=>Je.ref.current),[mt]=ct.slice(-1),ut=document.activeElement;for(const Je of we)if(Je===ut||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===ht&&k&&(k.scrollTop=0),Je===mt&&k&&(k.scrollTop=k.scrollHeight),Je==null||Je.focus(),document.activeElement!==ut))return},[B,k]),ae=m.useCallback(()=>G([T,N]),[G,T,N]);m.useEffect(()=>{L&&ae()},[L,ae]);const{onOpenChange:H,triggerPointerDownPosRef:z}=v;m.useEffect(()=>{if(N){let we={x:0,y:0};const ht=mt=>{var ut,Je;we={x:Math.abs(Math.round(mt.pageX)-(((ut=z.current)==null?void 0:ut.x)??0)),y:Math.abs(Math.round(mt.pageY)-(((Je=z.current)==null?void 0:Je.y)??0))}},ct=mt=>{we.x<=10&&we.y<=10?mt.preventDefault():N.contains(mt.target)||H(!1),document.removeEventListener("pointermove",ht),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ht),document.addEventListener("pointerup",ct,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ht),document.removeEventListener("pointerup",ct,{capture:!0})}}},[N,H,z]),m.useEffect(()=>{const we=()=>H(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[H]);const[Z,me]=ZF(we=>{const ht=B().filter(ut=>!ut.disabled),ct=ht.find(ut=>ut.ref.current===document.activeElement),mt=eV(ht,we,ct);mt&&setTimeout(()=>mt.ref.current.focus())}),Se=m.useCallback((we,ht,ct)=>{const mt=!X.current&&!ct;(v.value!==void 0&&v.value===ht||mt)&&(M(we),mt&&(X.current=!0))},[v.value]),tt=m.useCallback(()=>N==null?void 0:N.focus(),[N]),Pt=m.useCallback((we,ht,ct)=>{const mt=!X.current&&!ct;(v.value!==void 0&&v.value===ht||mt)&&W(we)},[v.value]),Ae=s==="popper"?ej:LF,wt=Ae===ej?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:j}:{};return n.jsx(DF,{scope:r,content:N,viewport:k,onViewportChange:P,itemRefCallback:Se,selectedItem:T,onItemLeave:tt,itemTextRefCallback:Pt,focusSelectedItem:ae,selectedItemText:A,position:s,isPositioned:L,searchRef:Z,children:n.jsx(mm,{as:Loe,allowPinchZoom:!0,children:n.jsx(fm,{asChild:!0,trapped:v.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:ue(a,we=>{var ht;(ht=v.trigger)==null||ht.focus({preventScroll:!0}),we.preventDefault()}),children:n.jsx(kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(Ae,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:we=>we.preventDefault(),...y,...wt,onPlaced:()=>K(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ue(y.onKeyDown,we=>{const ht=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!ht&&we.key.length===1&&me(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let mt=B().filter(ut=>!ut.disabled).map(ut=>ut.ref.current);if(["ArrowUp","End"].includes(we.key)&&(mt=mt.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const ut=we.target,Je=mt.indexOf(ut);mt=mt.slice(Je+1)}setTimeout(()=>G(mt)),we.preventDefault()}})})})})})})});MF.displayName=Moe;var $oe="SelectItemAlignedPosition",LF=m.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...a}=t,i=wl(gc,r),o=jl(gc,r),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Qe(e,C=>u(C)),f=Yv(r),g=m.useRef(!1),b=m.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:y,focusSelectedItem:v}=o,N=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&j&&y){const C=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const ut=A.left-T.left,Je=M.left-ut,ar=C.left-Je,jt=C.width+ar,qr=Math.max(jt,T.width),xt=window.innerWidth-wa,Pr=If(Je,[wa,Math.max(wa,xt-qr)]);l.style.minWidth=jt+"px",l.style.left=Pr+"px"}else{const ut=T.right-A.right,Je=window.innerWidth-M.right-ut,ar=window.innerWidth-C.right-Je,jt=C.width+ar,qr=Math.max(jt,T.width),xt=window.innerWidth-wa,Pr=If(Je,[wa,Math.max(wa,xt-qr)]);l.style.minWidth=jt+"px",l.style.right=Pr+"px"}const W=f(),B=window.innerHeight-wa*2,L=x.scrollHeight,K=window.getComputedStyle(d),X=parseInt(K.borderTopWidth,10),G=parseInt(K.paddingTop,10),ae=parseInt(K.borderBottomWidth,10),H=parseInt(K.paddingBottom,10),z=X+G+L+H+ae,Z=Math.min(j.offsetHeight*5,z),me=window.getComputedStyle(x),Se=parseInt(me.paddingTop,10),tt=parseInt(me.paddingBottom,10),Pt=C.top+C.height/2-wa,Ae=B-Pt,wt=j.offsetHeight/2,we=j.offsetTop+wt,ht=X+G+we,ct=z-ht;if(ht<=Pt){const ut=W.length>0&&j===W[W.length-1].ref.current;l.style.bottom="0px";const Je=d.clientHeight-x.offsetTop-x.offsetHeight,ar=Math.max(Ae,wt+(ut?tt:0)+Je+ae),jt=ht+ar;l.style.height=jt+"px"}else{const ut=W.length>0&&j===W[0].ref.current;l.style.top="0px";const ar=Math.max(Pt,X+x.offsetTop+(ut?Se:0)+wt)+ct;l.style.height=ar+"px",x.scrollTop=ht-Pt+x.offsetTop}l.style.margin=`${wa}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,l,d,x,j,y,i.dir,s]);Ur(()=>N(),[N]);const[_,k]=m.useState();Ur(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const P=m.useCallback(C=>{C&&b.current===!0&&(N(),v==null||v(),b.current=!1)},[N,v]);return n.jsx(Voe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:n.jsx(Pe.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});LF.displayName=$oe;var Foe="SelectPopperPosition",ej=m.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=wa,...i}=t,o=Zv(r);return n.jsx(wv,{...o,...i,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ej.displayName=Foe;var[Voe,N_]=Wu(gc,{}),tj="SelectViewport",$F=m.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...a}=t,i=jl(tj,r),o=N_(tj,r),l=Qe(e,i.onViewportChange),c=m.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Jv.Slot,{scope:r,children:n.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-u.scrollTop);if(g>0){const b=window.innerHeight-wa*2,x=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),y=Math.max(x,j);if(y<b){const v=y+g,N=Math.min(b,v),_=v-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});$F.displayName=tj;var FF="SelectGroup",[Boe,zoe]=Wu(FF),Uoe=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=gn();return n.jsx(Boe,{scope:r,id:a,children:n.jsx(Pe.div,{role:"group","aria-labelledby":a,...s,ref:e})})});Uoe.displayName=FF;var VF="SelectLabel",BF=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=zoe(VF,r);return n.jsx(Pe.div,{id:a.id,...s,ref:e})});BF.displayName=VF;var wx="SelectItem",[qoe,zF]=Wu(wx),UF=m.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=t,l=wl(wx,r),c=jl(wx,r),d=l.value===s,[u,h]=m.useState(i??""),[f,g]=m.useState(!1),b=Qe(e,v=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,v,s,a)}),x=gn(),j=m.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(qoe,{scope:r,value:s,disabled:a,textId:x,isSelected:d,onItemTextChange:m.useCallback(v=>{h(N=>N||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(Jv.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Pe.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:ue(o.onFocus,()=>g(!0)),onBlur:ue(o.onBlur,()=>g(!1)),onClick:ue(o.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:ue(o.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:ue(o.onPointerDown,v=>{j.current=v.pointerType}),onPointerMove:ue(o.onPointerMove,v=>{var N;j.current=v.pointerType,a?(N=c.onItemLeave)==null||N.call(c):j.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,v=>{var N;v.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:ue(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(Poe.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});UF.displayName=wx;var Dh="SelectItemText",qF=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:a,...i}=t,o=wl(Dh,r),l=jl(Dh,r),c=zF(Dh,r),d=Ooe(Dh,r),[u,h]=m.useState(null),f=Qe(e,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),g=u==null?void 0:u.textContent,b=m.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=d;return Ur(()=>(x(b),()=>j(b)),[x,j,b]),n.jsxs(n.Fragment,{children:[n.jsx(Pe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_c.createPortal(i.children,o.valueNode):null]})});qF.displayName=Dh;var HF="SelectItemIndicator",WF=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return zF(HF,r).isSelected?n.jsx(Pe.span,{"aria-hidden":!0,...s,ref:e}):null});WF.displayName=HF;var rj="SelectScrollUpButton",KF=m.forwardRef((t,e)=>{const r=jl(rj,t.__scopeSelect),s=N_(rj,t.__scopeSelect),[a,i]=m.useState(!1),o=Qe(e,s.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(XF,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});KF.displayName=rj;var sj="SelectScrollDownButton",GF=m.forwardRef((t,e)=>{const r=jl(sj,t.__scopeSelect),s=N_(sj,t.__scopeSelect),[a,i]=m.useState(!1),o=Qe(e,s.onScrollButtonChange);return Ur(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(XF,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GF.displayName=sj;var XF=m.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=t,i=jl("SelectScrollButton",r),o=m.useRef(null),l=Yv(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ur(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Pe.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ue(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{c()})})}),Hoe="SelectSeparator",QF=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return n.jsx(Pe.div,{"aria-hidden":!0,...s,ref:e})});QF.displayName=Hoe;var nj="SelectArrow",Woe=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=Zv(r),i=wl(nj,r),o=jl(nj,r);return i.open&&o.position==="popper"?n.jsx(jv,{...a,...s,ref:e}):null});Woe.displayName=nj;function JF(t){return t===""||t===void 0}var YF=m.forwardRef((t,e)=>{const{value:r,...s}=t,a=m.useRef(null),i=Qe(e,a),o=Em(r);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(cm,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});YF.displayName="BubbleSelect";function ZF(t){const e=vr(t),r=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=m.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function eV(t,e,r){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=Koe(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Koe(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var Goe=CF,tV=PF,Xoe=AF,Qoe=RF,Joe=OF,rV=IF,Yoe=$F,sV=BF,nV=UF,Zoe=qF,ele=WF,aV=KF,iV=GF,oV=QF;const Mf=Goe,Lf=Xoe,ju=m.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(tV,{ref:s,className:be("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,n.jsx(Qoe,{asChild:!0,children:n.jsx(F1,{className:"h-4 w-4 opacity-50"})})]}));ju.displayName=tV.displayName;const lV=m.forwardRef(({className:t,...e},r)=>n.jsx(aV,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(LD,{className:"h-4 w-4"})}));lV.displayName=aV.displayName;const cV=m.forwardRef(({className:t,...e},r)=>n.jsx(iV,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(F1,{className:"h-4 w-4"})}));cV.displayName=iV.displayName;const Nu=m.forwardRef(({className:t,children:e,position:r="popper",...s},a)=>n.jsx(Joe,{children:n.jsxs(rV,{ref:a,className:be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[n.jsx(lV,{}),n.jsx(Yoe,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(cV,{})]})}));Nu.displayName=rV.displayName;const tle=m.forwardRef(({className:t,...e},r)=>n.jsx(sV,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tle.displayName=sV.displayName;const xc=m.forwardRef(({className:t,children:e,...r},s)=>n.jsxs(nV,{ref:s,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(ele,{children:n.jsx(as,{className:"h-4 w-4"})})}),n.jsx(Zoe,{children:e})]}));xc.displayName=nV.displayName;const rle=m.forwardRef(({className:t,...e},r)=>n.jsx(oV,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));rle.displayName=oV.displayName;const sle=["nvi","acf","arc","ra"],nle=["Gnesis","xodo","Levtico","Nmeros","Deuteronmio","Josu","Juzes","Rute","1 Samuel","2 Samuel","1 Reis","2 Reis","1 Crnicas","2 Crnicas","Esdras","Neemias","Ester","J","Salmos","Provrbios","Eclesiastes","Cantares","Isaas","Jeremias","Lamentaes","Ezequiel","Daniel","Osias","Joel","Ams","Obadias","Jonas","Miquias","Naum","Habacuque","Sofonias","Ageu","Zacarias","Malaquias","Mateus","Marcos","Lucas","Joo","Atos","Romanos","1 Corntios","2 Corntios","Glatas","Efsios","Filipenses","Colossenses","1 Tessalonicenses","2 Tessalonicenses","1 Timteo","2 Timteo","Tito","Filemom","Hebreus","Tiago","1 Pedro","2 Pedro","1 Joo","2 Joo","3 Joo","Judas","Apocalipse"];function ale(){var K;const{toast:t}=nr(),{language:e,t:r}=Lr(),[s,a]=m.useState(!1),[i,o]=m.useState(null),[l,c]=m.useState("nvi"),[d,u]=m.useState(""),[h,f]=m.useState(""),[g,b]=m.useState(""),[x,j]=m.useState(""),[y,v]=m.useState(""),[N,_]=m.useState("templates"),{data:k=[],isLoading:P}=Et({queryKey:["/api/reading-plans"],retry:2}),{data:C=[],isLoading:T}=Et({queryKey:["/api/reading-plan-templates"],retry:2}),M=it({mutationFn:async X=>await Ze("POST","/api/reading-plans/from-template",{templateId:X}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/reading-plans"]}),a(!1),o(null),t({title:r.plans.dayCompleted,description:r.plans.dayCompleted})},onError:X=>{t({title:r.common.error,description:X.message,variant:"destructive"})}}),A=it({mutationFn:async()=>await Ze("POST","/api/reading-plans/custom",{version:l,book:d,startChapter:h,endChapter:g,verses:x||void 0,title:y}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/reading-plans"]}),a(!1),c("nvi"),u(""),f(""),b(""),j(""),v(""),_("templates"),t({title:"Plano criado!",description:"Seu plano de leitura customizado foi criado com sucesso"})},onError:X=>{t({title:r.common.error,description:X.message,variant:"destructive"})}}),W=it({mutationFn:async({planId:X,day:G})=>await Ze("PUT",`/api/reading-plans/${X}/complete-day`,{day:G}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/reading-plans"]}),Ke.invalidateQueries({queryKey:["/api/stats/gamification"]}),t({title:r.plans.dayComplete,description:r.plans.youEarnedXP.replace("{xp}","10")})},onError:X=>{t({title:r.plans.errorMarkingProgress,description:X.message,variant:"destructive"})}}),B=k.filter(X=>!X.isCompleted),L=k.filter(X=>X.isCompleted);return B.length===0&&L.length===0&&!T&&C.length>0,P&&B.length===0&&L.length===0?n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"max-w-7xl mx-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:r.common.loading})]})})})}):n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-amber-500/5 rounded-full blur-[120px] translate-x-1/2 translate-y-1/2 pointer-events-none"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 py-6 sm:py-8 relative z-10",children:[n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-12",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent","data-testid":"text-page-title",children:r.plans.title}),n.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl",children:r.plans.subtitle})]}),n.jsxs(oa,{open:s,onOpenChange:a,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{size:"lg","data-testid":"button-create-plan",className:"whitespace-nowrap rounded-2xl shadow-lg",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),r.plans.startPlan]})}),n.jsxs(Pn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto rounded-3xl border-none bg-card/95 backdrop-blur-2xl",children:[n.jsxs(Tn,{children:[n.jsx(An,{className:"text-2xl",children:"Criar Plano de Leitura"}),n.jsx(Rn,{className:"text-base",children:"Escolha um modelo pr-definido ou crie um plano customizado"})]}),n.jsxs(cn,{value:N,onValueChange:_,className:"w-full mt-6",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-2 p-1 bg-muted/50 rounded-2xl",children:[n.jsx(Ct,{value:"templates",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:"Modelos"}),n.jsx(Ct,{value:"custom",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:"Customizado"})]}),n.jsx(Mt,{value:"templates",className:"space-y-6 mt-6",children:T?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:C.map((X,G)=>n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:G*.05},children:n.jsxs(Y,{className:`cursor-pointer transition-all hover-elevate rounded-3xl border-none shadow-md bg-card/50 backdrop-blur-sm ${(i==null?void 0:i.id)===X.id?"ring-2 ring-primary bg-primary/5":""}`,onClick:()=>o(X),"data-testid":`card-template-${X.id}`,children:[n.jsxs(he,{children:[n.jsx(ge,{className:"text-lg truncate",children:X.name}),n.jsx(qe,{className:"text-sm line-clamp-2",children:X.description})]}),n.jsx(re,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ot,{variant:"secondary",className:"rounded-full px-3",children:[n.jsx(Di,{className:"h-3 w-3 mr-1"}),X.duration," ",r.plans.days]}),X.category&&n.jsx(ot,{variant:"outline",className:"rounded-full px-3",children:X.category})]})})]})},X.id))})}),n.jsx(Mt,{value:"custom",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6 bg-muted/30 p-6 rounded-3xl",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"version",className:"text-sm font-medium",children:"Verso"}),n.jsxs(Mf,{value:l,onValueChange:c,children:[n.jsx(ju,{id:"version","data-testid":"select-version",className:"rounded-xl bg-background",children:n.jsx(Lf,{})}),n.jsx(Nu,{className:"rounded-xl",children:sle.map(X=>n.jsx(xc,{value:X,children:X.toUpperCase()},X))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"book",className:"text-sm font-medium",children:"Livro"}),n.jsxs(Mf,{value:d,onValueChange:u,children:[n.jsx(ju,{id:"book","data-testid":"select-book",className:"rounded-xl bg-background",children:n.jsx(Lf,{placeholder:"Escolha um livro"})}),n.jsx(Nu,{className:"max-h-60 rounded-xl",children:nle.map(X=>n.jsx(xc,{value:X,children:X},X))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"start",className:"text-sm font-medium",children:"Captulo Inicial"}),n.jsx(ft,{id:"start",type:"number",min:"1",value:h,onChange:X=>f(X.target.value),placeholder:"Ex: 1",className:"rounded-xl bg-background","data-testid":"input-start-chapter"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"end",className:"text-sm font-medium",children:"Captulo Final"}),n.jsx(ft,{id:"end",type:"number",min:"1",value:g,onChange:X=>b(X.target.value),placeholder:"Ex: 5",className:"rounded-xl bg-background","data-testid":"input-end-chapter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"verses",className:"text-sm font-medium",children:"Versculos (opcional)"}),n.jsx(ft,{id:"verses",value:x,onChange:X=>j(X.target.value),placeholder:"Ex: 1-10 ou deixe em branco para todos",className:"rounded-xl bg-background","data-testid":"input-verses"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"title",className:"text-sm font-medium",children:"Ttulo do Plano (opcional)"}),n.jsx(ft,{id:"title",value:y,onChange:X=>v(X.target.value),placeholder:"Ex: Minha Leitura de Mateus",className:"rounded-xl bg-background","data-testid":"input-plan-title"})]})]})})]}),n.jsxs(la,{className:"mt-8 gap-3 sm:gap-0",children:[n.jsx(D,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",className:"rounded-xl",children:r.common.cancel}),N==="templates"?n.jsxs(D,{disabled:!i||M.isPending,onClick:()=>i&&M.mutate(i.id),"data-testid":"button-start-plan",className:"rounded-xl shadow-md",children:[M.isPending&&n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),M.isPending?r.plans.starting:r.plans.startPlan]}):n.jsxs(D,{disabled:!d||!h||!g||A.isPending,onClick:()=>A.mutate(),"data-testid":"button-create-custom",className:"rounded-xl shadow-md",children:[A.isPending&&n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),A.isPending?"Criando...":"Criar Plano"]})]})]})]})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[{title:r.plans.activePlans,val:B.length,icon:Sr,tid:"text-active-plans",color:"text-primary"},{title:r.plans.completedPlans,val:L.length,icon:as,tid:"text-completed-plans",color:"text-green-500"},{title:r.plans.currentDay,val:((K=B[0])==null?void 0:K.currentDay)??0,icon:hv,tid:"text-current-day",color:"text-amber-500"}].map((X,G)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+G*.1},children:n.jsxs(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-lg group hover:bg-card transition-colors",children:[n.jsxs(he,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ge,{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:X.title}),n.jsx(X.icon,{className:`h-5 w-5 ${X.color}`})]}),n.jsx(re,{children:n.jsx("div",{className:`text-4xl font-bold ${X.color}`,"data-testid":X.tid,children:X.val})})]})},X.title))}),n.jsxs("section",{className:"mb-16",children:[n.jsxs("div",{className:"bg-primary/5 p-6 rounded-[2rem] border border-primary/10 mb-12",children:[n.jsxs("h2",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-primary"}),"Como funcionam os planos?"]}),n.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Os planos de leitura ajudam voc a manter uma constncia no estudo bblico. Ao iniciar um plano, voc recebe leituras dirias organizadas. Cada dia concludo rende ",n.jsx("strong",{children:"10 XP"})," para sua evoluo no aplicativo e mantm sua ",n.jsx("strong",{children:"ofensiva (streak)"})," ativa. Voc pode escolher modelos prontos ou criar seu prprio roteiro personalizado."]})]}),n.jsxs("h2",{className:"font-display text-2xl font-bold mb-6 flex items-center gap-2",children:[n.jsx(fv,{className:"h-6 w-6 text-primary"}),r.plans.activePlans]}),B.length===0?n.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:n.jsx(Y,{className:"rounded-3xl border-none border-dashed bg-muted/30 backdrop-blur-sm",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-3xl bg-background shadow-inner mb-6",children:n.jsx(Sr,{className:"h-10 w-10 text-muted-foreground"})}),n.jsx("h3",{className:"font-bold text-xl mb-3",children:r.plans.noActivePlans}),n.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm",children:r.plans.choosePlanDescription}),n.jsxs(D,{onClick:()=>a(!0),"data-testid":"button-start-first-plan",size:"lg",className:"rounded-2xl px-8",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),r.plans.startFirstPlan]})]})})}):n.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:B.map((X,G)=>{var me,Se;const ae=X.currentDay??1,H=ae/X.totalDays*100,z=X.schedule,Z=z.filter(tt=>tt.isCompleted).length;return n.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+G*.1},children:n.jsxs(Y,{className:"rounded-[2.5rem] border-none bg-card/80 backdrop-blur-xl shadow-xl overflow-hidden","data-testid":`card-plan-${X.id}`,children:[n.jsx(he,{className:"pb-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ge,{className:"text-xl sm:text-2xl mb-2",children:X.title}),n.jsx(qe,{className:"text-sm line-clamp-2",children:X.description})]}),n.jsxs(ot,{variant:"secondary",className:"rounded-full px-4 py-1 bg-primary/10 text-primary border-none text-sm font-semibold",children:[n.jsx(U1,{className:"h-3 w-3 mr-1.5"}),r.plans.day," ",ae,"/",X.totalDays]})]})}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"bg-muted/30 p-4 rounded-[1.5rem]",children:[n.jsxs("div",{className:"flex justify-between text-sm font-bold mb-3",children:[n.jsx("span",{className:"text-muted-foreground",children:r.plans.progress}),n.jsxs("span",{className:"text-primary",children:[Math.round(H),"%"]})]}),n.jsx(ii,{value:H,className:"h-3 rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between text-xs mt-3 text-muted-foreground",children:[n.jsxs("span",{children:[Z," dias concludos"]}),n.jsxs("span",{children:[X.totalDays-Z," restantes"]})]})]}),z[ae-1]&&!z[ae-1].isCompleted&&n.jsxs("div",{className:"pt-4 border-t border-border/50",children:[n.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4",children:r.plans.todayReading}),n.jsx("div",{className:"grid gap-2",children:z[ae-1].readings.map((tt,Pt)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-muted/20 border border-border/30",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs",children:Pt+1}),n.jsxs("p",{className:"text-base font-semibold",children:[vY(tt.book,e)," ",tt.chapter,tt.verses?`:${tt.verses}`:""]})]},Pt))})]})]}),n.jsx(or,{className:"pt-2 pb-6 px-6",children:n.jsxs(D,{size:"lg",className:"w-full rounded-2xl h-12 text-base font-bold shadow-lg shadow-primary/20",onClick:()=>W.mutate({planId:X.id,day:ae}),disabled:W.isPending||(((me=z[ae-1])==null?void 0:me.isCompleted)??!1),"data-testid":`button-complete-day-${X.id}`,children:[W.isPending&&n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),(Se=z[ae-1])!=null&&Se.isCompleted?n.jsxs(n.Fragment,{children:[n.jsx(as,{className:"h-5 w-5 mr-2"}),r.plans.dayCompleted]}):r.plans.markDayComplete]})})]})},X.id)})})]}),L.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-display text-2xl font-bold mb-6 flex items-center gap-2",children:[n.jsx(ci,{className:"h-6 w-6 text-amber-500"}),r.plans.completedPlans]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:L.map((X,G)=>n.jsx(ne.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.6+G*.1},children:n.jsxs(Y,{className:"rounded-[2rem] border-none bg-muted/20 backdrop-blur-sm shadow-sm opacity-80","data-testid":`card-completed-plan-${X.id}`,children:[n.jsx(he,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ge,{className:"text-lg mb-1",children:X.title}),n.jsx(qe,{className:"text-sm line-clamp-1",children:X.description})]}),n.jsxs(ot,{variant:"default",className:"rounded-full px-3 bg-amber-500",children:[n.jsx(ci,{className:"h-3 w-3 mr-1"}),r.plans.completed]})]})}),n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Concludo em ",new Date(X.completedAt).toLocaleDateString(e)]}),n.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500/10 flex items-center justify-center",children:n.jsx(as,{className:"h-5 w-5 text-green-500"})})]})})]},X.id)},X.id))})]})]})]})}const aj=[{level:1,title:"Iniciante",titleEn:"Beginner",minXp:0,maxXp:100,badge:"seedling"},{level:2,title:"Curioso",titleEn:"Curious",minXp:100,maxXp:250,badge:"sprout"},{level:3,title:"Aprendiz",titleEn:"Apprentice",minXp:250,maxXp:450,badge:"leaf"},{level:4,title:"Estudante",titleEn:"Student",minXp:450,maxXp:700,badge:"book"},{level:5,title:"Dedicado",titleEn:"Dedicated",minXp:700,maxXp:1e3,badge:"star"},{level:6,title:"Persistente",titleEn:"Persistent",minXp:1e3,maxXp:1350,badge:"flame"},{level:7,title:"Focado",titleEn:"Focused",minXp:1350,maxXp:1750,badge:"target"},{level:8,title:"Constante",titleEn:"Constant",minXp:1750,maxXp:2200,badge:"calendar"},{level:9,title:"Comprometido",titleEn:"Committed",minXp:2200,maxXp:2700,badge:"check"},{level:10,title:"Leitor Bronze",titleEn:"Bronze Reader",minXp:2700,maxXp:3250,badge:"bronze"},{level:11,title:"Explorador",titleEn:"Explorer",minXp:3250,maxXp:3850,badge:"compass"},{level:12,title:"Buscador",titleEn:"Seeker",minXp:3850,maxXp:4500,badge:"search"},{level:13,title:"Investigador",titleEn:"Investigator",minXp:4500,maxXp:5200,badge:"magnifier"},{level:14,title:"Estudioso",titleEn:"Studious",minXp:5200,maxXp:5950,badge:"glasses"},{level:15,title:"Aplicado",titleEn:"Diligent",minXp:5950,maxXp:6750,badge:"pencil"},{level:16,title:"Devoto",titleEn:"Devout",minXp:6750,maxXp:7600,badge:"heart"},{level:17,title:"Fiel",titleEn:"Faithful",minXp:7600,maxXp:8500,badge:"shield"},{level:18,title:"Zeloso",titleEn:"Zealous",minXp:8500,maxXp:9450,badge:"fire"},{level:19,title:"Diligente",titleEn:"Hardworking",minXp:9450,maxXp:10450,badge:"hammer"},{level:20,title:"Leitor Prata",titleEn:"Silver Reader",minXp:10450,maxXp:11500,badge:"silver"},{level:21,title:"Conhecedor",titleEn:"Knowledgeable",minXp:11500,maxXp:12600,badge:"brain"},{level:22,title:"Sbio Iniciante",titleEn:"Novice Sage",minXp:12600,maxXp:13750,badge:"owl"},{level:23,title:"Pensador",titleEn:"Thinker",minXp:13750,maxXp:14950,badge:"lightbulb"},{level:24,title:"Reflexivo",titleEn:"Reflective",minXp:14950,maxXp:16200,badge:"mirror"},{level:25,title:"Contemplativo",titleEn:"Contemplative",minXp:16200,maxXp:17500,badge:"meditation"},{level:26,title:"Instrudo",titleEn:"Learned",minXp:17500,maxXp:18850,badge:"scroll"},{level:27,title:"Esclarecido",titleEn:"Enlightened",minXp:18850,maxXp:20250,badge:"sun"},{level:28,title:"Iluminado",titleEn:"Illuminated",minXp:20250,maxXp:21700,badge:"lantern"},{level:29,title:"Inspirado",titleEn:"Inspired",minXp:21700,maxXp:23200,badge:"dove"},{level:30,title:"Leitor Ouro",titleEn:"Gold Reader",minXp:23200,maxXp:24750,badge:"gold"},{level:31,title:"Discpulo",titleEn:"Disciple",minXp:24750,maxXp:26350,badge:"footsteps"},{level:32,title:"Seguidor Fiel",titleEn:"Faithful Follower",minXp:26350,maxXp:28e3,badge:"path"},{level:33,title:"Guardio",titleEn:"Guardian",minXp:28e3,maxXp:29700,badge:"guardian"},{level:34,title:"Protetor",titleEn:"Protector",minXp:29700,maxXp:31450,badge:"armor"},{level:35,title:"Defensor",titleEn:"Defender",minXp:31450,maxXp:33250,badge:"sword"},{level:36,title:"Guerreiro",titleEn:"Warrior",minXp:33250,maxXp:35100,badge:"warrior"},{level:37,title:"Vencedor",titleEn:"Victor",minXp:35100,maxXp:37e3,badge:"victory"},{level:38,title:"Campeo",titleEn:"Champion",minXp:37e3,maxXp:38950,badge:"medal"},{level:39,title:"Heri da F",titleEn:"Hero of Faith",minXp:38950,maxXp:40950,badge:"hero"},{level:40,title:"Leitor Platina",titleEn:"Platinum Reader",minXp:40950,maxXp:43e3,badge:"platinum"},{level:41,title:"Mestre Iniciante",titleEn:"Novice Master",minXp:43e3,maxXp:45100,badge:"crown-bronze"},{level:42,title:"Mestre Aprendiz",titleEn:"Apprentice Master",minXp:45100,maxXp:47250,badge:"crown-silver"},{level:43,title:"Mestre Estudioso",titleEn:"Studious Master",minXp:47250,maxXp:49450,badge:"crown-gold"},{level:44,title:"Mestre Sbio",titleEn:"Wise Master",minXp:49450,maxXp:51700,badge:"wisdom"},{level:45,title:"Mestre Iluminado",titleEn:"Illuminated Master",minXp:51700,maxXp:54e3,badge:"halo"},{level:46,title:"Doutor da Palavra",titleEn:"Doctor of the Word",minXp:54e3,maxXp:56350,badge:"doctorate"},{level:47,title:"Telogo Avanado",titleEn:"Advanced Theologian",minXp:56350,maxXp:58750,badge:"theology"},{level:48,title:"Erudito Bblico",titleEn:"Biblical Scholar",minXp:58750,maxXp:61200,badge:"scholar"},{level:49,title:"Gro-Mestre",titleEn:"Grand Master",minXp:61200,maxXp:63700,badge:"grandmaster"},{level:50,title:"Mestre Telogo",titleEn:"Master Theologian",minXp:63700,maxXp:1/0,badge:"ultimate"}],dE=t=>{const e=Math.min(Math.max(t,1),50);return aj[e-1]},ile=(t,e)=>{const r=aj[e-1],s=aj[e]||r,a=t-r.minXp,i=s.minXp-r.minXp;return e>=50?{current:t,needed:t,percent:100}:{current:a,needed:i,percent:Math.min(a/i*100,100)}};function ole(){const{t}=Lr(),{data:e,isLoading:r}=Et({queryKey:["/api/stats/gamification"],retry:2}),{data:s=[],isLoading:a}=Et({queryKey:["/api/achievements"],retry:2}),{data:i=[],isLoading:o}=Et({queryKey:["/api/my-achievements"],retry:2});if(r||a||o)return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"max-w-7xl mx-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:t.progress.loadingProgress})]})})})});const c=(e==null?void 0:e.level)||1,d=(e==null?void 0:e.experiencePoints)||0,u=dE(c),h=ile(d,c),f=i.filter(y=>y.isUnlocked),g=s.length,b=s.reduce((y,v)=>{const N=v.category||"outros";return y[N]||(y[N]=[]),y[N].push(v),y},{}),x=y=>{switch(y.toLowerCase()){case"leitura":return n.jsx(Ma,{className:"h-4 w-4"});case"streak":return n.jsx(Xg,{className:"h-4 w-4"});case"planos":return n.jsx(U1,{className:"h-4 w-4"});case"orao":return n.jsx(ci,{className:"h-4 w-4"});default:return n.jsx(Hl,{className:"h-4 w-4"})}},j=y=>f.some(v=>v.achievementId===y);return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[150px] translate-x-1/2 -translate-y-1/2 pointer-events-none"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-amber-500/5 rounded-full blur-[150px] -translate-x-1/2 translate-y-1/2 pointer-events-none"}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6 relative z-10",children:[n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[n.jsx("h1",{className:"font-display text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent","data-testid":"text-page-title",children:t.progress.title}),n.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground max-w-2xl",children:t.progress.subtitle})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:t.progress.level,val:c,sub:u.title,icon:sc,color:"text-primary",bg:"bg-primary/10"},{title:t.progress.experiencePoints,val:(e==null?void 0:e.experiencePoints)||0,sub:t.progress.totalXpAccumulated,icon:Ma,color:"text-amber-500",bg:"bg-amber-500/10"},{title:t.progress.readingStreak,val:(e==null?void 0:e.readingStreak)||0,sub:t.progress.consecutiveDays,icon:Xg,color:"text-orange-500",bg:"bg-orange-500/10"},{title:t.progress.achievements,val:f.length,sub:`${f.length}/${g}`,icon:ci,color:"text-yellow-600",bg:"bg-yellow-600/10"}].map((y,v)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},children:n.jsxs(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-lg hover-elevate transition-all overflow-hidden group",children:[n.jsxs(he,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ge,{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:y.title}),n.jsx("div",{className:`p-2 rounded-2xl ${y.bg}`,children:n.jsx(y.icon,{className:`h-4 w-4 ${y.color}`})})]}),n.jsxs(re,{children:[n.jsx("div",{className:`text-4xl font-bold ${y.color}`,"data-testid":`text-${y.title.toLowerCase().replace(/\s/g,"-")}`,children:y.val}),n.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:y.sub}),y.title===t.progress.level&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-[10px] mb-1 font-bold text-muted-foreground",children:[n.jsxs("span",{children:[h.current," XP"]}),n.jsxs("span",{children:[h.needed," XP"]})]}),n.jsx(ii,{value:h.percent,className:"h-1.5 rounded-full"})]})]})]})},y.title))}),n.jsx(ne.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.4},children:n.jsxs(Y,{className:"mb-12 rounded-[2.5rem] border-none bg-primary/5 backdrop-blur-md shadow-xl overflow-hidden",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-3 text-2xl font-bold",children:[n.jsx("div",{className:"p-2.5 rounded-2xl bg-primary/20",children:n.jsx(fv,{className:"h-6 w-6 text-primary"})}),t.progress.nextLevel]}),n.jsx(qe,{className:"text-base",children:t.progress.continueReadingToLevel.replace("{level}",(((e==null?void 0:e.level)||1)+1).toString())})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-end text-sm mb-1",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-muted-foreground block font-medium uppercase tracking-widest text-[10px]",children:"Progresso Atual"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Math.round(h.percent),"%"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium pb-1",children:t.progress.xpNeededForLevel.replace("{xp}",(h.needed-h.current).toString()).replace("{level}",(c+1).toString())})]}),n.jsx(ii,{value:h.percent,className:"h-4 rounded-full shadow-inner bg-primary/10"}),c<50&&n.jsxs("div",{className:"flex items-center gap-2 mt-4 px-4 py-2 rounded-2xl bg-background/50 border border-primary/10 w-fit",children:[n.jsx(gv,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:["Prximo Ttulo: ",dE(c+1).title]})]})]})})]})}),n.jsxs("section",{children:[n.jsxs("h2",{className:"font-display text-3xl font-bold mb-10 flex items-center gap-3",children:[n.jsx(Hl,{className:"h-8 w-8 text-primary"}),t.progress.achievements]}),Object.entries(b).map(([y,v],N)=>n.jsxs(ne.div,{className:"mb-12",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+N*.1},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-card shadow-md text-primary",children:x(y)}),n.jsx("h3",{className:"font-bold text-xl capitalize tracking-tight",children:y}),n.jsxs(ot,{variant:"secondary",className:"rounded-full px-3 py-0.5 font-bold",children:[v.filter(_=>j(_.id)).length,"/",v.length]})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((_,k)=>{const P=j(_.id),C=i.find(T=>T.achievementId===_.id);return n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6+N*.1+k*.05},children:n.jsxs(Y,{className:`rounded-3xl border-none transition-all duration-300 shadow-lg ${P?"bg-gradient-to-br from-primary/10 to-card backdrop-blur-xl ring-1 ring-primary/20":"opacity-70 bg-card/40 grayscale hover:grayscale-0"}`,"data-testid":`card-achievement-${_.id}`,children:[n.jsx(he,{className:"pb-4",children:n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs(ge,{className:"text-lg font-bold mb-2 flex items-center gap-2",children:[_.name,P&&n.jsx("div",{className:"p-1 rounded-full bg-primary/20",children:n.jsx(as,{className:"h-3 w-3 text-primary"})})]}),n.jsx(qe,{className:"text-sm font-medium line-clamp-2",children:_.description})]})})}),n.jsxs(re,{className:"pb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:_.requirement?`${_.requirement.type}: ${_.requirement.value}`:"Especial"}),n.jsxs(ot,{variant:"outline",className:"rounded-full bg-amber-500/5 text-amber-600 border-amber-200/50 font-bold",children:[n.jsx(Ma,{className:"h-3 w-3 mr-1 fill-amber-500"}),_.xpReward," XP"]})]}),!P&&C&&(C.progress??0)>0&&n.jsxs("div",{className:"mt-6 p-3 rounded-2xl bg-muted/50 border border-border/30",children:[n.jsxs("div",{className:"flex justify-between text-[10px] font-bold mb-1.5 uppercase text-muted-foreground",children:[n.jsx("span",{children:"Progresso"}),n.jsxs("span",{children:[C.progress??0,"%"]})]}),n.jsx(ii,{value:C.progress??0,className:"h-2 rounded-full"})]})]})]})},_.id)})})]},y))]})]})]})}var Tm=t=>t.type==="checkbox",Kl=t=>t instanceof Date,qs=t=>t==null;const dV=t=>typeof t=="object";var zr=t=>!qs(t)&&!Array.isArray(t)&&dV(t)&&!Kl(t),uV=t=>zr(t)&&t.target?Tm(t.target)?t.target.checked:t.target.value:t,lle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hV=(t,e)=>t.has(lle(e)),cle=t=>{const e=t.constructor&&t.constructor.prototype;return zr(e)&&e.hasOwnProperty("isPrototypeOf")},__=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gs(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(__&&(t instanceof Blob||s))&&(r||zr(t)))if(e=r?[]:{},!r&&!cle(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=gs(t[a]));else return t;return e}var ey=t=>Array.isArray(t)?t.filter(Boolean):[],Vr=t=>t===void 0,ke=(t,e,r)=>{if(!e||!zr(t))return r;const s=ey(e.split(/[,[\].]+?/)).reduce((a,i)=>qs(a)?a:a[i],t);return Vr(s)||s===t?Vr(t[e])?r:t[e]:s},_n=t=>typeof t=="boolean",S_=t=>/^\w*$/.test(t),fV=t=>ey(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Zt=(t,e,r)=>{let s=-1;const a=S_(e)?[e]:fV(e),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=t[l];c=zr(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const jx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mV=$e.createContext(null),ty=()=>$e.useContext(mV),dle=t=>{const{children:e,...r}=t;return $e.createElement(mV.Provider,{value:r},e)};var pV=(t,e,r,s=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Pa.all&&(e._proxyFormState[o]=!s||Pa.all),r&&(r[o]=!0),t[o]}});return a};function ule(t){const e=ty(),{control:r=e.control,disabled:s,name:a,exact:i}=t||{},[o,l]=$e.useState(r._formState),c=$e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=$e.useRef(a);return d.current=a,$e.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!s&&l({...r._formState,...u})}}),[r,s,i]),$e.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),$e.useMemo(()=>pV(o,r,c.current,!1),[o,r])}var ei=t=>typeof t=="string",gV=(t,e,r,s,a)=>ei(t)?(s&&e.watch.add(t),ke(r,t,a)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),ke(r,i))):(s&&(e.watchAll=!0),r);function hle(t){const e=ty(),{control:r=e.control,name:s,defaultValue:a,disabled:i,exact:o}=t||{},l=$e.useRef(s),c=$e.useRef(a);l.current=s,$e.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!i&&u(gV(l.current,r._names,h.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,u]=$e.useState(r._getWatch(s,a));return $e.useEffect(()=>r._removeUnmounted()),d}function fle(t){const e=ty(),{name:r,disabled:s,control:a=e.control,shouldUnregister:i}=t,o=hV(a._names.array,r),l=hle({control:a,name:r,defaultValue:ke(a._formValues,r,ke(a._defaultValues,r,t.defaultValue)),exact:!0}),c=ule({control:a,name:r,exact:!0}),d=$e.useRef(t),u=$e.useRef(a.register(r,{...t.rules,value:l,..._n(t.disabled)?{disabled:t.disabled}:{}})),h=$e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,r)},error:{enumerable:!0,get:()=>ke(c.errors,r)}}),[c,r]),f=$e.useCallback(j=>u.current.onChange({target:{value:uV(j),name:r},type:jx.CHANGE}),[r]),g=$e.useCallback(()=>u.current.onBlur({target:{value:ke(a._formValues,r),name:r},type:jx.BLUR}),[r,a._formValues]),b=$e.useCallback(j=>{const y=ke(a._fields,r);y&&j&&(y._f.ref={focus:()=>j.focus(),select:()=>j.select(),setCustomValidity:v=>j.setCustomValidity(v),reportValidity:()=>j.reportValidity()})},[a._fields,r]),x=$e.useMemo(()=>({name:r,value:l,..._n(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:f,onBlur:g,ref:b}),[r,s,c.disabled,f,g,b,l]);return $e.useEffect(()=>{const j=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,..._n(d.current.disabled)?{disabled:d.current.disabled}:{}});const y=(v,N)=>{const _=ke(a._fields,v);_&&_._f&&(_._f.mount=N)};if(y(r,!0),j){const v=gs(ke(a._options.defaultValues,r));Zt(a._defaultValues,r,v),Vr(ke(a._formValues,r))&&Zt(a._formValues,r,v)}return!o&&a.register(r),()=>{(o?j&&!a._state.action:j)?a.unregister(r):y(r,!1)}},[r,a,o,i]),$e.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),$e.useMemo(()=>({field:x,formState:c,fieldState:h}),[x,c,h])}const mle=t=>t.render(fle(t));var xV=(t,e,r,s,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:a||!0}}:{},Qh=t=>Array.isArray(t)?t:[t],uE=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},ij=t=>qs(t)||!dV(t);function ko(t,e){if(ij(t)||ij(e))return t===e;if(Kl(t)&&Kl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const a of r){const i=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Kl(i)&&Kl(o)||zr(i)&&zr(o)||Array.isArray(i)&&Array.isArray(o)?!ko(i,o):i!==o)return!1}}return!0}var zs=t=>zr(t)&&!Object.keys(t).length,k_=t=>t.type==="file",Ta=t=>typeof t=="function",Nx=t=>{if(!__)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},vV=t=>t.type==="select-multiple",C_=t=>t.type==="radio",ple=t=>C_(t)||Tm(t),Ib=t=>Nx(t)&&t.isConnected;function gle(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=Vr(t)?s++:t[e[s++]];return t}function xle(t){for(const e in t)if(t.hasOwnProperty(e)&&!Vr(t[e]))return!1;return!0}function es(t,e){const r=Array.isArray(e)?e:S_(e)?[e]:fV(e),s=r.length===1?t:gle(t,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(zr(s)&&zs(s)||Array.isArray(s)&&xle(s))&&es(t,r.slice(0,-1)),t}var yV=t=>{for(const e in t)if(Ta(t[e]))return!0;return!1};function _x(t,e={}){const r=Array.isArray(t);if(zr(t)||r)for(const s in t)Array.isArray(t[s])||zr(t[s])&&!yV(t[s])?(e[s]=Array.isArray(t[s])?[]:{},_x(t[s],e[s])):qs(t[s])||(e[s]=!0);return e}function bV(t,e,r){const s=Array.isArray(t);if(zr(t)||s)for(const a in t)Array.isArray(t[a])||zr(t[a])&&!yV(t[a])?Vr(e)||ij(r[a])?r[a]=Array.isArray(t[a])?_x(t[a],[]):{..._x(t[a])}:bV(t[a],qs(e)?{}:e[a],r[a]):r[a]=!ko(t[a],e[a]);return r}var jh=(t,e)=>bV(t,e,_x(e));const hE={value:!1,isValid:!1},fE={value:!0,isValid:!0};var wV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vr(t[0].attributes.value)?Vr(t[0].value)||t[0].value===""?fE:{value:t[0].value,isValid:!0}:fE:hE}return hE},jV=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>Vr(t)?t:e?t===""?NaN:t&&+t:r&&ei(t)?new Date(t):s?s(t):t;const mE={isValid:!1,value:null};var NV=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,mE):mE;function pE(t){const e=t.ref;return k_(e)?e.files:C_(e)?NV(t.refs).value:vV(e)?[...e.selectedOptions].map(({value:r})=>r):Tm(e)?wV(t.refs).value:jV(Vr(e.value)?t.ref.value:e.value,t)}var vle=(t,e,r,s)=>{const a={};for(const i of t){const o=ke(e,i);o&&Zt(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:s}},Sx=t=>t instanceof RegExp,Nh=t=>Vr(t)?t:Sx(t)?t.source:zr(t)?Sx(t.value)?t.value.source:t.value:t,gE=t=>({isOnSubmit:!t||t===Pa.onSubmit,isOnBlur:t===Pa.onBlur,isOnChange:t===Pa.onChange,isOnAll:t===Pa.all,isOnTouch:t===Pa.onTouched});const xE="AsyncFunction";var yle=t=>!!t&&!!t.validate&&!!(Ta(t.validate)&&t.validate.constructor.name===xE||zr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===xE)),ble=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),vE=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Jh=(t,e,r,s)=>{for(const a of r||Object.keys(t)){const i=ke(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Jh(l,e))break}else if(zr(l)&&Jh(l,e))break}}};function yE(t,e,r){const s=ke(t,r);if(s||S_(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ke(e,i),l=ke(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var wle=(t,e,r,s)=>{r(t);const{name:a,...i}=t;return zs(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||Pa.all))},jle=(t,e,r)=>!t||!e||t===e||Qh(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),Nle=(t,e,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?s.isOnBlur:a.isOnBlur)?!t:(r?s.isOnChange:a.isOnChange)?t:!0,_le=(t,e)=>!ey(ke(t,e)).length&&es(t,e),Sle=(t,e,r)=>{const s=Qh(ke(t,r));return Zt(s,"root",e[r]),Zt(t,r,s),t},lg=t=>ei(t);function bE(t,e,r="validate"){if(lg(t)||Array.isArray(t)&&t.every(lg)||_n(t)&&!t)return{type:r,message:lg(t)?t:"",ref:e}}var Qc=t=>zr(t)&&!Sx(t)?t:{value:t,message:""},wE=async(t,e,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:g,validate:b,name:x,valueAsNumber:j,mount:y}=t._f,v=ke(r,x);if(!y||e.has(x))return{};const N=l?l[0]:o,_=B=>{a&&N.reportValidity&&(N.setCustomValidity(_n(B)?"":B||""),N.reportValidity())},k={},P=C_(o),C=Tm(o),T=P||C,M=(j||k_(o))&&Vr(o.value)&&Vr(v)||Nx(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,A=xV.bind(null,x,s,k),W=(B,L,K,X=vi.maxLength,G=vi.minLength)=>{const ae=B?L:K;k[x]={type:B?X:G,message:ae,ref:o,...A(B?X:G,ae)}};if(i?!Array.isArray(v)||!v.length:c&&(!T&&(M||qs(v))||_n(v)&&!v||C&&!wV(l).isValid||P&&!NV(l).isValid)){const{value:B,message:L}=lg(c)?{value:!!c,message:c}:Qc(c);if(B&&(k[x]={type:vi.required,message:L,ref:N,...A(vi.required,L)},!s))return _(L),k}if(!M&&(!qs(h)||!qs(f))){let B,L;const K=Qc(f),X=Qc(h);if(!qs(v)&&!isNaN(v)){const G=o.valueAsNumber||v&&+v;qs(K.value)||(B=G>K.value),qs(X.value)||(L=G<X.value)}else{const G=o.valueAsDate||new Date(v),ae=Z=>new Date(new Date().toDateString()+" "+Z),H=o.type=="time",z=o.type=="week";ei(K.value)&&v&&(B=H?ae(v)>ae(K.value):z?v>K.value:G>new Date(K.value)),ei(X.value)&&v&&(L=H?ae(v)<ae(X.value):z?v<X.value:G<new Date(X.value))}if((B||L)&&(W(!!B,K.message,X.message,vi.max,vi.min),!s))return _(k[x].message),k}if((d||u)&&!M&&(ei(v)||i&&Array.isArray(v))){const B=Qc(d),L=Qc(u),K=!qs(B.value)&&v.length>+B.value,X=!qs(L.value)&&v.length<+L.value;if((K||X)&&(W(K,B.message,L.message),!s))return _(k[x].message),k}if(g&&!M&&ei(v)){const{value:B,message:L}=Qc(g);if(Sx(B)&&!v.match(B)&&(k[x]={type:vi.pattern,message:L,ref:o,...A(vi.pattern,L)},!s))return _(L),k}if(b){if(Ta(b)){const B=await b(v,r),L=bE(B,N);if(L&&(k[x]={...L,...A(vi.validate,L.message)},!s))return _(L.message),k}else if(zr(b)){let B={};for(const L in b){if(!zs(B)&&!s)break;const K=bE(await b[L](v,r),N,L);K&&(B={...K,...A(L,K.message)},_(K.message),s&&(k[x]=B))}if(!zs(B)&&(k[x]={ref:N,...B},!s))return k}}return _(!0),k};const kle={mode:Pa.onSubmit,reValidateMode:Pa.onChange,shouldFocusError:!0};function Cle(t={}){let e={...kle,...t},r={submitCount:0,isDirty:!1,isLoading:Ta(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let a=zr(e.defaultValues)||zr(e.values)?gs(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:gs(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:uE(),state:uE()},g=gE(e.mode),b=gE(e.reValidateMode),x=e.criteriaMode===Pa.all,j=I=>R=>{clearTimeout(d),d=setTimeout(I,R)},y=async I=>{if(!e.disabled&&(u.isValid||h.isValid||I)){const R=e.resolver?zs((await M()).errors):await W(s,!0);R!==r.isValid&&f.state.next({isValid:R})}},v=(I,R)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((I||Array.from(l.mount)).forEach(O=>{O&&(R?Zt(r.validatingFields,O,R):es(r.validatingFields,O))}),f.state.next({validatingFields:r.validatingFields,isValidating:!zs(r.validatingFields)}))},N=(I,R=[],O,de,ve=!0,oe=!0)=>{if(de&&O&&!e.disabled){if(o.action=!0,oe&&Array.isArray(ke(s,I))){const Ne=O(ke(s,I),de.argA,de.argB);ve&&Zt(s,I,Ne)}if(oe&&Array.isArray(ke(r.errors,I))){const Ne=O(ke(r.errors,I),de.argA,de.argB);ve&&Zt(r.errors,I,Ne),_le(r.errors,I)}if((u.touchedFields||h.touchedFields)&&oe&&Array.isArray(ke(r.touchedFields,I))){const Ne=O(ke(r.touchedFields,I),de.argA,de.argB);ve&&Zt(r.touchedFields,I,Ne)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=jh(a,i)),f.state.next({name:I,isDirty:L(I,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zt(i,I,R)},_=(I,R)=>{Zt(r.errors,I,R),f.state.next({errors:r.errors})},k=I=>{r.errors=I,f.state.next({errors:r.errors,isValid:!1})},P=(I,R,O,de)=>{const ve=ke(s,I);if(ve){const oe=ke(i,I,Vr(O)?ke(a,I):O);Vr(oe)||de&&de.defaultChecked||R?Zt(i,I,R?oe:pE(ve._f)):G(I,oe),o.mount&&y()}},C=(I,R,O,de,ve)=>{let oe=!1,Ne=!1;const pt={name:I};if(!e.disabled){if(!O||de){(u.isDirty||h.isDirty)&&(Ne=r.isDirty,r.isDirty=pt.isDirty=L(),oe=Ne!==pt.isDirty);const Bt=ko(ke(a,I),R);Ne=!!ke(r.dirtyFields,I),Bt?es(r.dirtyFields,I):Zt(r.dirtyFields,I,!0),pt.dirtyFields=r.dirtyFields,oe=oe||(u.dirtyFields||h.dirtyFields)&&Ne!==!Bt}if(O){const Bt=ke(r.touchedFields,I);Bt||(Zt(r.touchedFields,I,O),pt.touchedFields=r.touchedFields,oe=oe||(u.touchedFields||h.touchedFields)&&Bt!==O)}oe&&ve&&f.state.next(pt)}return oe?pt:{}},T=(I,R,O,de)=>{const ve=ke(r.errors,I),oe=(u.isValid||h.isValid)&&_n(R)&&r.isValid!==R;if(e.delayError&&O?(c=j(()=>_(I,O)),c(e.delayError)):(clearTimeout(d),c=null,O?Zt(r.errors,I,O):es(r.errors,I)),(O?!ko(ve,O):ve)||!zs(de)||oe){const Ne={...de,...oe&&_n(R)?{isValid:R}:{},errors:r.errors,name:I};r={...r,...Ne},f.state.next(Ne)}},M=async I=>{v(I,!0);const R=await e.resolver(i,e.context,vle(I||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return v(I),R},A=async I=>{const{errors:R}=await M(I);if(I)for(const O of I){const de=ke(R,O);de?Zt(r.errors,O,de):es(r.errors,O)}else r.errors=R;return R},W=async(I,R,O={valid:!0})=>{for(const de in I){const ve=I[de];if(ve){const{_f:oe,...Ne}=ve;if(oe){const pt=l.array.has(oe.name),Bt=ve._f&&yle(ve._f);Bt&&u.validatingFields&&v([de],!0);const lr=await wE(ve,l.disabled,i,x,e.shouldUseNativeValidation&&!R,pt);if(Bt&&u.validatingFields&&v([de]),lr[oe.name]&&(O.valid=!1,R))break;!R&&(ke(lr,oe.name)?pt?Sle(r.errors,lr,oe.name):Zt(r.errors,oe.name,lr[oe.name]):es(r.errors,oe.name))}!zs(Ne)&&await W(Ne,R,O)}}return O.valid},B=()=>{for(const I of l.unMount){const R=ke(s,I);R&&(R._f.refs?R._f.refs.every(O=>!Ib(O)):!Ib(R._f.ref))&&ct(I)}l.unMount=new Set},L=(I,R)=>!e.disabled&&(I&&R&&Zt(i,I,R),!ko(Se(),a)),K=(I,R,O)=>gV(I,l,{...o.mount?i:Vr(R)?a:ei(I)?{[I]:R}:R},O,R),X=I=>ey(ke(o.mount?i:a,I,e.shouldUnregister?ke(a,I,[]):[])),G=(I,R,O={})=>{const de=ke(s,I);let ve=R;if(de){const oe=de._f;oe&&(!oe.disabled&&Zt(i,I,jV(R,oe)),ve=Nx(oe.ref)&&qs(R)?"":R,vV(oe.ref)?[...oe.ref.options].forEach(Ne=>Ne.selected=ve.includes(Ne.value)):oe.refs?Tm(oe.ref)?oe.refs.length>1?oe.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(ve)?!!ve.find(pt=>pt===Ne.value):ve===Ne.value)):oe.refs[0]&&(oe.refs[0].checked=!!ve):oe.refs.forEach(Ne=>Ne.checked=Ne.value===ve):k_(oe.ref)?oe.ref.value="":(oe.ref.value=ve,oe.ref.type||f.state.next({name:I,values:gs(i)})))}(O.shouldDirty||O.shouldTouch)&&C(I,ve,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&me(I)},ae=(I,R,O)=>{for(const de in R){const ve=R[de],oe=`${I}.${de}`,Ne=ke(s,oe);(l.array.has(I)||zr(ve)||Ne&&!Ne._f)&&!Kl(ve)?ae(oe,ve,O):G(oe,ve,O)}},H=(I,R,O={})=>{const de=ke(s,I),ve=l.array.has(I),oe=gs(R);Zt(i,I,oe),ve?(f.array.next({name:I,values:gs(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&O.shouldDirty&&f.state.next({name:I,dirtyFields:jh(a,i),isDirty:L(I,oe)})):de&&!de._f&&!qs(oe)?ae(I,oe,O):G(I,oe,O),vE(I,l)&&f.state.next({...r}),f.state.next({name:o.mount?I:void 0,values:gs(i)})},z=async I=>{o.mount=!0;const R=I.target;let O=R.name,de=!0;const ve=ke(s,O),oe=Ne=>{de=Number.isNaN(Ne)||Kl(Ne)&&isNaN(Ne.getTime())||ko(Ne,ke(i,O,Ne))};if(ve){let Ne,pt;const Bt=R.type?pE(ve._f):uV(I),lr=I.type===jx.BLUR||I.type===jx.FOCUS_OUT,ee=!ble(ve._f)&&!e.resolver&&!ke(r.errors,O)&&!ve._f.deps||Nle(lr,ke(r.touchedFields,O),r.isSubmitted,b,g),He=vE(O,l,lr);Zt(i,O,Bt),lr?(ve._f.onBlur&&ve._f.onBlur(I),c&&c(0)):ve._f.onChange&&ve._f.onChange(I);const je=C(O,Bt,lr),Xe=!zs(je)||He;if(!lr&&f.state.next({name:O,type:I.type,values:gs(i)}),ee)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?lr&&y():lr||y()),Xe&&f.state.next({name:O,...He?{}:je});if(!lr&&He&&f.state.next({...r}),e.resolver){const{errors:Ft}=await M([O]);if(oe(Bt),de){const yr=yE(r.errors,s,O),tn=yE(Ft,s,yr.name||O);Ne=tn.error,O=tn.name,pt=zs(Ft)}}else v([O],!0),Ne=(await wE(ve,l.disabled,i,x,e.shouldUseNativeValidation))[O],v([O]),oe(Bt),de&&(Ne?pt=!1:(u.isValid||h.isValid)&&(pt=await W(s,!0)));de&&(ve._f.deps&&me(ve._f.deps),T(O,pt,Ne,je))}},Z=(I,R)=>{if(ke(r.errors,R)&&I.focus)return I.focus(),1},me=async(I,R={})=>{let O,de;const ve=Qh(I);if(e.resolver){const oe=await A(Vr(I)?I:ve);O=zs(oe),de=I?!ve.some(Ne=>ke(oe,Ne)):O}else I?(de=(await Promise.all(ve.map(async oe=>{const Ne=ke(s,oe);return await W(Ne&&Ne._f?{[oe]:Ne}:Ne)}))).every(Boolean),!(!de&&!r.isValid)&&y()):de=O=await W(s);return f.state.next({...!ei(I)||(u.isValid||h.isValid)&&O!==r.isValid?{}:{name:I},...e.resolver||!I?{isValid:O}:{},errors:r.errors}),R.shouldFocus&&!de&&Jh(s,Z,I?ve:l.mount),de},Se=I=>{const R={...o.mount?i:a};return Vr(I)?R:ei(I)?ke(R,I):I.map(O=>ke(R,O))},tt=(I,R)=>({invalid:!!ke((R||r).errors,I),isDirty:!!ke((R||r).dirtyFields,I),error:ke((R||r).errors,I),isValidating:!!ke(r.validatingFields,I),isTouched:!!ke((R||r).touchedFields,I)}),Pt=I=>{I&&Qh(I).forEach(R=>es(r.errors,R)),f.state.next({errors:I?r.errors:{}})},Ae=(I,R,O)=>{const de=(ke(s,I,{_f:{}})._f||{}).ref,ve=ke(r.errors,I)||{},{ref:oe,message:Ne,type:pt,...Bt}=ve;Zt(r.errors,I,{...Bt,...R,ref:de}),f.state.next({name:I,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&de&&de.focus&&de.focus()},wt=(I,R)=>Ta(I)?f.state.subscribe({next:O=>I(K(void 0,R),O)}):K(I,R,!0),we=I=>f.state.subscribe({next:R=>{jle(I.name,R.name,I.exact)&&wle(R,I.formState||u,Jt,I.reRenderRoot)&&I.callback({values:{...i},...r,...R})}}).unsubscribe,ht=I=>(o.mount=!0,h={...h,...I.formState},we({...I,formState:h})),ct=(I,R={})=>{for(const O of I?Qh(I):l.mount)l.mount.delete(O),l.array.delete(O),R.keepValue||(es(s,O),es(i,O)),!R.keepError&&es(r.errors,O),!R.keepDirty&&es(r.dirtyFields,O),!R.keepTouched&&es(r.touchedFields,O),!R.keepIsValidating&&es(r.validatingFields,O),!e.shouldUnregister&&!R.keepDefaultValue&&es(a,O);f.state.next({values:gs(i)}),f.state.next({...r,...R.keepDirty?{isDirty:L()}:{}}),!R.keepIsValid&&y()},mt=({disabled:I,name:R})=>{(_n(I)&&o.mount||I||l.disabled.has(R))&&(I?l.disabled.add(R):l.disabled.delete(R))},ut=(I,R={})=>{let O=ke(s,I);const de=_n(R.disabled)||_n(e.disabled);return Zt(s,I,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:I}},name:I,mount:!0,...R}}),l.mount.add(I),O?mt({disabled:_n(R.disabled)?R.disabled:e.disabled,name:I}):P(I,!0,R.value),{...de?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:Nh(R.min),max:Nh(R.max),minLength:Nh(R.minLength),maxLength:Nh(R.maxLength),pattern:Nh(R.pattern)}:{},name:I,onChange:z,onBlur:z,ref:ve=>{if(ve){ut(I,R),O=ke(s,I);const oe=Vr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Ne=ple(oe),pt=O._f.refs||[];if(Ne?pt.find(Bt=>Bt===oe):oe===O._f.ref)return;Zt(s,I,{_f:{...O._f,...Ne?{refs:[...pt.filter(Ib),oe,...Array.isArray(ke(a,I))?[{}]:[]],ref:{type:oe.type,name:I}}:{ref:oe}}}),P(I,!1,void 0,oe)}else O=ke(s,I,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(hV(l.array,I)&&o.action)&&l.unMount.add(I)}}},Je=()=>e.shouldFocusError&&Jh(s,Z,l.mount),ar=I=>{_n(I)&&(f.state.next({disabled:I}),Jh(s,(R,O)=>{const de=ke(s,O);de&&(R.disabled=de._f.disabled||I,Array.isArray(de._f.refs)&&de._f.refs.forEach(ve=>{ve.disabled=de._f.disabled||I}))},0,!1))},jt=(I,R)=>async O=>{let de;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let ve=gs(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:Ne}=await M();r.errors=oe,ve=Ne}else await W(s);if(l.disabled.size)for(const oe of l.disabled)Zt(ve,oe,void 0);if(es(r.errors,"root"),zs(r.errors)){f.state.next({errors:{}});try{await I(ve,O)}catch(oe){de=oe}}else R&&await R({...r.errors},O),Je(),setTimeout(Je);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},qr=(I,R={})=>{ke(s,I)&&(Vr(R.defaultValue)?H(I,gs(ke(a,I))):(H(I,R.defaultValue),Zt(a,I,gs(R.defaultValue))),R.keepTouched||es(r.touchedFields,I),R.keepDirty||(es(r.dirtyFields,I),r.isDirty=R.defaultValue?L(I,gs(ke(a,I))):L()),R.keepError||(es(r.errors,I),u.isValid&&y()),f.state.next({...r}))},xt=(I,R={})=>{const O=I?gs(I):a,de=gs(O),ve=zs(I),oe=ve?a:de;if(R.keepDefaultValues||(a=O),!R.keepValues){if(R.keepDirtyValues){const Ne=new Set([...l.mount,...Object.keys(jh(a,i))]);for(const pt of Array.from(Ne))ke(r.dirtyFields,pt)?Zt(oe,pt,ke(i,pt)):H(pt,ke(oe,pt))}else{if(__&&Vr(I))for(const Ne of l.mount){const pt=ke(s,Ne);if(pt&&pt._f){const Bt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(Nx(Bt)){const lr=Bt.closest("form");if(lr){lr.reset();break}}}}for(const Ne of l.mount)H(Ne,ke(oe,Ne))}i=gs(oe),f.array.next({values:{...oe}}),f.state.next({values:{...oe}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!ko(I,a)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:R.keepDirtyValues?R.keepDefaultValues&&i?jh(a,i):r.dirtyFields:R.keepDefaultValues&&I?jh(a,I):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Pr=(I,R)=>xt(Ta(I)?I(i):I,R),Hr=(I,R={})=>{const O=ke(s,I),de=O&&O._f;if(de){const ve=de.refs?de.refs[0]:de.ref;ve.focus&&(ve.focus(),R.shouldSelect&&Ta(ve.select)&&ve.select())}},Jt=I=>{r={...r,...I}},rt={control:{register:ut,unregister:ct,getFieldState:tt,handleSubmit:jt,setError:Ae,_subscribe:we,_runSchema:M,_getWatch:K,_getDirty:L,_setValid:y,_setFieldArray:N,_setDisabledField:mt,_setErrors:k,_getFieldArray:X,_reset:xt,_resetDefaultValues:()=>Ta(e.defaultValues)&&e.defaultValues().then(I=>{Pr(I,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:ar,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(I){o=I},get _defaultValues(){return a},get _names(){return l},set _names(I){l=I},get _formState(){return r},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:ht,trigger:me,register:ut,handleSubmit:jt,watch:wt,setValue:H,getValues:Se,reset:Pr,resetField:qr,clearErrors:Pt,unregister:ct,setError:Ae,setFocus:Hr,getFieldState:tt};return{...rt,formControl:rt}}function dn(t={}){const e=$e.useRef(void 0),r=$e.useRef(void 0),[s,a]=$e.useState({isDirty:!1,isValidating:!1,isLoading:Ta(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ta(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Cle(t),formState:s},t.formControl&&t.defaultValues&&!Ta(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,$e.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),$e.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$e.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),$e.useEffect(()=>{t.values&&!ko(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),$e.useEffect(()=>{t.errors&&!zs(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),$e.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),$e.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=pV(s,i),e.current}const aa=dle,_V=m.createContext({}),Gt=({...t})=>n.jsx(_V.Provider,{value:{name:t.name},children:n.jsx(mle,{...t})}),ry=()=>{const t=m.useContext(_V),e=m.useContext(SV),{getFieldState:r,formState:s}=ty(),a=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},SV=m.createContext({}),Ut=m.forwardRef(({className:t,...e},r)=>{const s=m.useId();return n.jsx(SV.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:be("space-y-2",t),...e})})});Ut.displayName="FormItem";const Lt=m.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:a}=ry();return n.jsx(vt,{ref:r,className:be(s&&"text-destructive",t),htmlFor:a,...e})});Lt.displayName="FormLabel";const qt=m.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=ry();return n.jsx(cv,{ref:e,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});qt.displayName="FormControl";const Ele=m.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=ry();return n.jsx("p",{ref:r,id:s,className:be("text-sm text-muted-foreground",t),...e})});Ele.displayName="FormDescription";const ir=m.forwardRef(({className:t,children:e,...r},s)=>{const{error:a,formMessageId:i}=ry(),o=a?String((a==null?void 0:a.message)??""):e;return o?n.jsx("p",{ref:s,id:i,className:be("text-sm font-medium text-destructive",t),...r,children:o}):null});ir.displayName="FormMessage";const jE=(t,e,r)=>{if(t&&"reportValidity"in t){const s=ke(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},kV=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?jE(s.ref,r,t):s.refs&&s.refs.forEach(a=>jE(a,r,t))}},Ple=(t,e)=>{e.shouldUseNativeValidation&&kV(t,e);const r={};for(const s in t){const a=ke(e.fields,s),i=Object.assign(t[s]||{},{ref:a&&a.ref});if(Tle(e.names||Object.keys(t),s)){const o=Object.assign({},ke(r,s));Zt(o,"root",i),Zt(r,s,o)}else Zt(r,s,i)}return r},Tle=(t,e)=>t.some(r=>r.startsWith(e+"."));var Ale=function(t,e){for(var r={};t.length;){var s=t[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,d=c&&c[s.code];r[o]=xV(o,e,r,a,d?[].concat(d,s.message):s.message)}t.shift()}return r},un=function(t,e,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(d){return i.shouldUseNativeValidation&&kV({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Ple(Ale(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ht;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ht||(Ht={}));var oj;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(oj||(oj={}));const Ie=Ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_i=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},pe=Ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Rle=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Dn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(e){if(!(e instanceof Dn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Dn.create=t=>new Dn(t);const _u=(t,e)=>{let r;switch(t.code){case pe.invalid_type:t.received===Ie.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ht.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ht.joinValues(t.keys,", ")}`;break;case pe.invalid_union:r="Invalid input";break;case pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ht.joinValues(t.options)}`;break;case pe.invalid_enum_value:r=`Invalid enum value. Expected ${Ht.joinValues(t.options)}, received '${t.received}'`;break;case pe.invalid_arguments:r="Invalid function arguments";break;case pe.invalid_return_type:r="Invalid function return type";break;case pe.invalid_date:r="Invalid date";break;case pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ht.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case pe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case pe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case pe.custom:r="Invalid input";break;case pe.invalid_intersection_types:r="Intersection results could not be merged";break;case pe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case pe.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ht.assertNever(t)}return{message:r}};let CV=_u;function Ole(t){CV=t}function kx(){return CV}const Cx=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}},Ile=[];function Ee(t,e){const r=kx(),s=Cx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_u?void 0:_u].filter(a=>!!a)});t.common.issues.push(s)}class Ls{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return lt;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ls.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return lt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const lt=Object.freeze({status:"aborted"}),vd=t=>({status:"dirty",value:t}),Js=t=>({status:"valid",value:t}),lj=t=>t.status==="aborted",cj=t=>t.status==="dirty",vc=t=>t.status==="valid",$f=t=>typeof Promise<"u"&&t instanceof Promise;var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));class ui{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NE=(t,e)=>{if(vc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Dn(t.common.issues);return this._error=r,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Rt{get description(){return this._def.description}_getType(e){return _i(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:_i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ls,ctx:{common:e.parent.common,data:e.data,parsedType:_i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if($f(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_i(e)},a=this._parseSync({data:e,path:s.path,parent:s});return NE(s,a)}"~validate"(e){var s,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_i(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return vc(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>vc(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_i(e)},a=this._parse({data:e,path:s.path,parent:s}),i=await($f(a)?a:Promise.resolve(a));return NE(s,i)}refine(e,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:pe.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new Ba({schema:this,typeName:dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return oi.create(this,this._def)}nullable(){return ul.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return La.create(this)}promise(){return ku.create(this,this._def)}or(e){return zf.create([this,e],this._def)}and(e){return Uf.create(this,e,this._def)}transform(e){return new Ba({..._t(this._def),schema:this,typeName:dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Gf({..._t(this._def),innerType:this,defaultValue:r,typeName:dt.ZodDefault})}brand(){return new E_({typeName:dt.ZodBranded,type:this,..._t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Xf({..._t(this._def),innerType:this,catchValue:r,typeName:dt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Am.create(this,e)}readonly(){return Qf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dle=/^c[^\s-]{8,}$/i,Mle=/^[0-9a-z]+$/,Lle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$le=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fle=/^[a-z0-9_-]{21}$/i,Vle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ble=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zle=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ule="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Db;const qle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Wle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Kle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Gle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xle=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,EV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qle=new RegExp(`^${EV}$`);function PV(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Jle(t){return new RegExp(`^${PV(t)}$`)}function TV(t){let e=`${EV}T${PV(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Yle(t,e){return!!((e==="v4"||!e)&&qle.test(t)||(e==="v6"||!e)&&Wle.test(t))}function Zle(t,e){if(!Vle.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function ece(t,e){return!!((e==="v4"||!e)&&Hle.test(t)||(e==="v6"||!e)&&Kle.test(t))}class Ra extends Rt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const i=this._getOrReturnCtx(e);return Ee(i,{code:pe.invalid_type,expected:Ie.string,received:i.parsedType}),lt}const s=new Ls;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?Ee(a,{code:pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(a,{code:pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")zle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"email",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Db||(Db=new RegExp(Ule,"u")),Db.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"emoji",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")$le.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"uuid",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Fle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"nanoid",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Dle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Mle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid2",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Lle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ulid",code:pe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ee(a,{validation:"url",code:pe.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"regex",code:pe.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?TV(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Qle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?Jle(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Ble.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"duration",code:pe.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Yle(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ip",code:pe.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Zle(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"jwt",code:pe.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?ece(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cidr",code:pe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Gle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64",code:pe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?Xle.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64url",code:pe.invalid_string,message:i.message}),s.dirty()):Ht.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:pe.invalid_string,...Ve.errToObj(s)})}_addCheck(e){return new Ra({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ve.errToObj(r)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ra.create=t=>new Ra({checks:[],typeName:dt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._t(t)});function tce(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class ll extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const i=this._getOrReturnCtx(e);return Ee(i,{code:pe.invalid_type,expected:Ie.number,received:i.parsedType}),lt}let s;const a=new Ls;for(const i of this._def.checks)i.kind==="int"?Ht.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?tce(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.not_finite,message:i.message}),a.dirty()):Ht.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,s,a){return new ll({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Ve.toString(a)}]})}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ht.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ll.create=t=>new ll({checks:[],typeName:dt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class cl extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let s;const a=new Ls;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:pe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ht.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ee(r,{code:pe.invalid_type,expected:Ie.bigint,received:r.parsedType}),lt}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,s,a){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Ve.toString(a)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}cl.create=t=>new cl({checks:[],typeName:dt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._t(t)});class Ff extends Rt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.boolean,received:s.parsedType}),lt}return Js(e.data)}}Ff.create=t=>new Ff({typeName:dt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class yc extends Rt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const i=this._getOrReturnCtx(e);return Ee(i,{code:pe.invalid_type,expected:Ie.date,received:i.parsedType}),lt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ee(i,{code:pe.invalid_date}),lt}const s=new Ls;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:pe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Ht.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}yc.create=t=>new yc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:dt.ZodDate,..._t(t)});class Ex extends Rt{_parse(e){if(this._getType(e)!==Ie.symbol){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.symbol,received:s.parsedType}),lt}return Js(e.data)}}Ex.create=t=>new Ex({typeName:dt.ZodSymbol,..._t(t)});class Vf extends Rt{_parse(e){if(this._getType(e)!==Ie.undefined){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.undefined,received:s.parsedType}),lt}return Js(e.data)}}Vf.create=t=>new Vf({typeName:dt.ZodUndefined,..._t(t)});class Bf extends Rt{_parse(e){if(this._getType(e)!==Ie.null){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.null,received:s.parsedType}),lt}return Js(e.data)}}Bf.create=t=>new Bf({typeName:dt.ZodNull,..._t(t)});class Su extends Rt{constructor(){super(...arguments),this._any=!0}_parse(e){return Js(e.data)}}Su.create=t=>new Su({typeName:dt.ZodAny,..._t(t)});class ac extends Rt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Js(e.data)}}ac.create=t=>new ac({typeName:dt.ZodUnknown,..._t(t)});class Yi extends Rt{_parse(e){const r=this._getOrReturnCtx(e);return Ee(r,{code:pe.invalid_type,expected:Ie.never,received:r.parsedType}),lt}}Yi.create=t=>new Yi({typeName:dt.ZodNever,..._t(t)});class Px extends Rt{_parse(e){if(this._getType(e)!==Ie.undefined){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.void,received:s.parsedType}),lt}return Js(e.data)}}Px.create=t=>new Px({typeName:dt.ZodVoid,..._t(t)});class La extends Rt{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==Ie.array)return Ee(r,{code:pe.invalid_type,expected:Ie.array,received:r.parsedType}),lt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ee(r,{code:o?pe.too_big:pe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ee(r,{code:pe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ee(r,{code:pe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ui(r,o,r.path,l)))).then(o=>Ls.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new ui(r,o,r.path,l)));return Ls.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new La({...this._def,minLength:{value:e,message:Ve.toString(r)}})}max(e,r){return new La({...this._def,maxLength:{value:e,message:Ve.toString(r)}})}length(e,r){return new La({...this._def,exactLength:{value:e,message:Ve.toString(r)}})}nonempty(e){return this.min(1,e)}}La.create=(t,e)=>new La({type:t,minLength:null,maxLength:null,exactLength:null,typeName:dt.ZodArray,..._t(e)});function Zc(t){if(t instanceof jr){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=oi.create(Zc(s))}return new jr({...t._def,shape:()=>e})}else return t instanceof La?new La({...t._def,type:Zc(t.element)}):t instanceof oi?oi.create(Zc(t.unwrap())):t instanceof ul?ul.create(Zc(t.unwrap())):t instanceof hi?hi.create(t.items.map(e=>Zc(e))):t}class jr extends Rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ht.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const d=this._getOrReturnCtx(e);return Ee(d,{code:pe.invalid_type,expected:Ie.object,received:d.parsedType}),lt}const{status:s,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Yi&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ui(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Yi){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Ee(a,{code:pe.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ui(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>Ls.mergeObjectSync(s,d)):Ls.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Ve.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new jr({...this._def,unknownKeys:"strip"})}passthrough(){return new jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:dt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new jr({...this._def,catchall:e})}pick(e){const r={};for(const s of Ht.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new jr({...this._def,shape:()=>r})}omit(e){const r={};for(const s of Ht.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new jr({...this._def,shape:()=>r})}deepPartial(){return Zc(this)}partial(e){const r={};for(const s of Ht.objectKeys(this.shape)){const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}return new jr({...this._def,shape:()=>r})}required(e){const r={};for(const s of Ht.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof oi;)i=i._def.innerType;r[s]=i}return new jr({...this._def,shape:()=>r})}keyof(){return AV(Ht.objectKeys(this.shape))}}jr.create=(t,e)=>new jr({shape:()=>t,unknownKeys:"strip",catchall:Yi.create(),typeName:dt.ZodObject,..._t(e)});jr.strictCreate=(t,e)=>new jr({shape:()=>t,unknownKeys:"strict",catchall:Yi.create(),typeName:dt.ZodObject,..._t(e)});jr.lazycreate=(t,e)=>new jr({shape:t,unknownKeys:"strip",catchall:Yi.create(),typeName:dt.ZodObject,..._t(e)});class zf extends Rt{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Dn(l.ctx.common.issues));return Ee(r,{code:pe.invalid_union,unionErrors:o}),lt}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Dn(c));return Ee(r,{code:pe.invalid_union,unionErrors:l}),lt}}get options(){return this._def.options}}zf.create=(t,e)=>new zf({options:t,typeName:dt.ZodUnion,..._t(e)});const bi=t=>t instanceof Hf?bi(t.schema):t instanceof Ba?bi(t.innerType()):t instanceof Wf?[t.value]:t instanceof dl?t.options:t instanceof Kf?Ht.objectValues(t.enum):t instanceof Gf?bi(t._def.innerType):t instanceof Vf?[void 0]:t instanceof Bf?[null]:t instanceof oi?[void 0,...bi(t.unwrap())]:t instanceof ul?[null,...bi(t.unwrap())]:t instanceof E_||t instanceof Qf?bi(t.unwrap()):t instanceof Xf?bi(t._def.innerType):[];class sy extends Rt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Ee(r,{code:pe.invalid_type,expected:Ie.object,received:r.parsedType}),lt;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ee(r,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const i of r){const o=bi(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,i)}}return new sy({typeName:dt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,..._t(s)})}}function dj(t,e){const r=_i(t),s=_i(e);if(t===e)return{valid:!0,data:t};if(r===Ie.object&&s===Ie.object){const a=Ht.objectKeys(e),i=Ht.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=dj(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ie.array&&s===Ie.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=dj(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ie.date&&s===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Uf extends Rt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),a=(i,o)=>{if(lj(i)||lj(o))return lt;const l=dj(i.value,o.value);return l.valid?((cj(i)||cj(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(s,{code:pe.invalid_intersection_types}),lt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Uf.create=(t,e,r)=>new Uf({left:t,right:e,typeName:dt.ZodIntersection,..._t(r)});class hi extends Rt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.array)return Ee(s,{code:pe.invalid_type,expected:Ie.array,received:s.parsedType}),lt;if(s.data.length<this._def.items.length)return Ee(s,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&s.data.length>this._def.items.length&&(Ee(s,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ui(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ls.mergeArray(r,o)):Ls.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new hi({...this._def,rest:e})}}hi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hi({items:t,typeName:dt.ZodTuple,rest:null,..._t(e)})};class qf extends Rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.object)return Ee(s,{code:pe.invalid_type,expected:Ie.object,received:s.parsedType}),lt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new ui(s,l,s.path,l)),value:o._parse(new ui(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ls.mergeObjectAsync(r,a):Ls.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof Rt?new qf({keyType:e,valueType:r,typeName:dt.ZodRecord,..._t(s)}):new qf({keyType:Ra.create(),valueType:e,typeName:dt.ZodRecord,..._t(r)})}}class Tx extends Rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.map)return Ee(s,{code:pe.invalid_type,expected:Ie.map,received:s.parsedType}),lt;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new ui(s,l,s.path,[d,"key"])),value:i._parse(new ui(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}Tx.create=(t,e,r)=>new Tx({valueType:e,keyType:t,typeName:dt.ZodMap,..._t(r)});class bc extends Rt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ie.set)return Ee(s,{code:pe.invalid_type,expected:Ie.set,received:s.parsedType}),lt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Ee(s,{code:pe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Ee(s,{code:pe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return lt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new ui(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new bc({...this._def,minSize:{value:e,message:Ve.toString(r)}})}max(e,r){return new bc({...this._def,maxSize:{value:e,message:Ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}bc.create=(t,e)=>new bc({valueType:t,minSize:null,maxSize:null,typeName:dt.ZodSet,..._t(e)});class Od extends Rt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.function)return Ee(r,{code:pe.invalid_type,expected:Ie.function,received:r.parsedType}),lt;function s(l,c){return Cx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,kx(),_u].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function a(l,c){return Cx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,kx(),_u].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ku){const l=this;return Js(async function(...c){const d=new Dn([]),u=await l._def.args.parseAsync(c,i).catch(g=>{throw d.addIssue(s(c,g)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,i).catch(g=>{throw d.addIssue(a(h,g)),d})})}else{const l=this;return Js(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Dn([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,i);if(!h.success)throw new Dn([a(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Od({...this._def,args:hi.create(e).rest(ac.create())})}returns(e){return new Od({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Od({args:e||hi.create([]).rest(ac.create()),returns:r||ac.create(),typeName:dt.ZodFunction,..._t(s)})}}class Hf extends Rt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hf.create=(t,e)=>new Hf({getter:t,typeName:dt.ZodLazy,..._t(e)});class Wf extends Rt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ee(r,{received:r.data,code:pe.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wf.create=(t,e)=>new Wf({value:t,typeName:dt.ZodLiteral,..._t(e)});function AV(t,e){return new dl({values:t,typeName:dt.ZodEnum,..._t(e)})}class dl extends Rt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return Ee(r,{expected:Ht.joinValues(s),received:r.parsedType,code:pe.invalid_type}),lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return Ee(r,{received:r.data,code:pe.invalid_enum_value,options:s}),lt}return Js(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return dl.create(e,{...this._def,...r})}exclude(e,r=this._def){return dl.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}dl.create=AV;class Kf extends Rt{_parse(e){const r=Ht.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Ie.string&&s.parsedType!==Ie.number){const a=Ht.objectValues(r);return Ee(s,{expected:Ht.joinValues(a),received:s.parsedType,code:pe.invalid_type}),lt}if(this._cache||(this._cache=new Set(Ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ht.objectValues(r);return Ee(s,{received:s.data,code:pe.invalid_enum_value,options:a}),lt}return Js(e.data)}get enum(){return this._def.values}}Kf.create=(t,e)=>new Kf({values:t,typeName:dt.ZodNativeEnum,..._t(e)});class ku extends Rt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.promise&&r.common.async===!1)return Ee(r,{code:pe.invalid_type,expected:Ie.promise,received:r.parsedType}),lt;const s=r.parsedType===Ie.promise?r.data:Promise.resolve(r.data);return Js(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ku.create=(t,e)=>new ku({type:t,typeName:dt.ZodPromise,..._t(e)});class Ba extends Rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{Ee(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return lt;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?lt:c.status==="dirty"||r.value==="dirty"?vd(c.value):c});{if(r.value==="aborted")return lt;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?lt:l.status==="dirty"||r.value==="dirty"?vd(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!vc(o))return lt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>vc(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):lt);Ht.assertNever(a)}}Ba.create=(t,e,r)=>new Ba({schema:t,typeName:dt.ZodEffects,effect:e,..._t(r)});Ba.createWithPreprocess=(t,e,r)=>new Ba({schema:e,effect:{type:"preprocess",transform:t},typeName:dt.ZodEffects,..._t(r)});class oi extends Rt{_parse(e){return this._getType(e)===Ie.undefined?Js(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oi.create=(t,e)=>new oi({innerType:t,typeName:dt.ZodOptional,..._t(e)});class ul extends Rt{_parse(e){return this._getType(e)===Ie.null?Js(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ul.create=(t,e)=>new ul({innerType:t,typeName:dt.ZodNullable,..._t(e)});class Gf extends Rt{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===Ie.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Gf.create=(t,e)=>new Gf({innerType:t,typeName:dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class Xf extends Rt{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return $f(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Dn(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Dn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Xf.create=(t,e)=>new Xf({innerType:t,typeName:dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class Ax extends Rt{_parse(e){if(this._getType(e)!==Ie.nan){const s=this._getOrReturnCtx(e);return Ee(s,{code:pe.invalid_type,expected:Ie.nan,received:s.parsedType}),lt}return{status:"valid",value:e.data}}}Ax.create=t=>new Ax({typeName:dt.ZodNaN,..._t(t)});const rce=Symbol("zod_brand");class E_ extends Rt{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Am extends Rt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),vd(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?lt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new Am({in:e,out:r,typeName:dt.ZodPipeline})}}class Qf extends Rt{_parse(e){const r=this._def.innerType._parse(e),s=a=>(vc(a)&&(a.value=Object.freeze(a.value)),a);return $f(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}Qf.create=(t,e)=>new Qf({innerType:t,typeName:dt.ZodReadonly,..._t(e)});function _E(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function P_(t,e={},r){return t?Su.create().superRefine((s,a)=>{const i=t(s);if(i instanceof Promise)return i.then(o=>{if(!o){const l=_E(e,s),c=l.fatal??r??!0;a.addIssue({code:"custom",...l,fatal:c})}});if(!i){const o=_E(e,s),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}}):Su.create()}const sce={object:jr.lazycreate};var dt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(dt||(dt={}));const nce=(t,e={message:`Input not instance of ${t.name}`})=>P_(r=>r instanceof t,e),Be=Ra.create,vn=ll.create,ace=Ax.create,ice=cl.create,Ku=Ff.create,oce=yc.create,lce=Ex.create,cce=Vf.create,RV=Bf.create,Rx=Su.create,dce=ac.create,uce=Yi.create,hce=Px.create,Yh=La.create,yn=jr.create,fce=jr.strictCreate,T_=zf.create,mce=sy.create,pce=Uf.create,gce=hi.create,OV=qf.create,xce=Tx.create,vce=bc.create,yce=Od.create,bce=Hf.create,IV=Wf.create,Jf=dl.create,wce=Kf.create,jce=ku.create,SE=Ba.create,Nce=oi.create,_ce=ul.create,Sce=Ba.createWithPreprocess,kce=Am.create,Cce=()=>Be().optional(),Ece=()=>vn().optional(),Pce=()=>Ku().optional(),Tce={string:t=>Ra.create({...t,coerce:!0}),number:t=>ll.create({...t,coerce:!0}),boolean:t=>Ff.create({...t,coerce:!0}),bigint:t=>cl.create({...t,coerce:!0}),date:t=>yc.create({...t,coerce:!0})},Ace=lt,Rce=Object.freeze(Object.defineProperty({__proto__:null,BRAND:rce,DIRTY:vd,EMPTY_PATH:Ile,INVALID:lt,NEVER:Ace,OK:Js,ParseStatus:Ls,Schema:Rt,ZodAny:Su,ZodArray:La,ZodBigInt:cl,ZodBoolean:Ff,ZodBranded:E_,ZodCatch:Xf,ZodDate:yc,ZodDefault:Gf,ZodDiscriminatedUnion:sy,ZodEffects:Ba,ZodEnum:dl,ZodError:Dn,get ZodFirstPartyTypeKind(){return dt},ZodFunction:Od,ZodIntersection:Uf,ZodIssueCode:pe,ZodLazy:Hf,ZodLiteral:Wf,ZodMap:Tx,ZodNaN:Ax,ZodNativeEnum:Kf,ZodNever:Yi,ZodNull:Bf,ZodNullable:ul,ZodNumber:ll,ZodObject:jr,ZodOptional:oi,ZodParsedType:Ie,ZodPipeline:Am,ZodPromise:ku,ZodReadonly:Qf,ZodRecord:qf,ZodSchema:Rt,ZodSet:bc,ZodString:Ra,ZodSymbol:Ex,ZodTransformer:Ba,ZodTuple:hi,ZodType:Rt,ZodUndefined:Vf,ZodUnion:zf,ZodUnknown:ac,ZodVoid:Px,addIssueToContext:Ee,any:Rx,array:Yh,bigint:ice,boolean:Ku,coerce:Tce,custom:P_,date:oce,datetimeRegex:TV,defaultErrorMap:_u,discriminatedUnion:mce,effect:SE,enum:Jf,function:yce,getErrorMap:kx,getParsedType:_i,instanceof:nce,intersection:pce,isAborted:lj,isAsync:$f,isDirty:cj,isValid:vc,late:sce,lazy:bce,literal:IV,makeIssue:Cx,map:xce,nan:ace,nativeEnum:wce,never:uce,null:RV,nullable:_ce,number:vn,object:yn,get objectUtil(){return oj},oboolean:Pce,onumber:Ece,optional:Nce,ostring:Cce,pipeline:kce,preprocess:Sce,promise:jce,quotelessJson:Rle,record:OV,set:vce,setErrorMap:Ole,strictObject:fce,string:Be,symbol:lce,transformer:SE,tuple:gce,undefined:cce,union:T_,unknown:dce,get util(){return Ht},void:hce},Symbol.toStringTag,{value:"Module"})),ie=Symbol.for("drizzle:entityKind");function Xr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ie))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ie in r&&r[ie]===e[ie])return!0;r=Object.getPrototypeOf(r)}return!1}var hP;hP=ie;class Cu{constructor(e,r){q(this,"name");q(this,"keyAsName");q(this,"primary");q(this,"notNull");q(this,"default");q(this,"defaultFn");q(this,"onUpdateFn");q(this,"hasDefault");q(this,"isUnique");q(this,"uniqueName");q(this,"uniqueType");q(this,"dataType");q(this,"columnType");q(this,"enumValues");q(this,"generated");q(this,"generatedIdentity");q(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}q(Cu,hP,"Column");var fP;fP=ie;class DV{constructor(e,r,s){q(this,"config");q(this,"$default",this.$defaultFn);q(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}q(DV,fP,"ColumnBuilder");const Id=Symbol.for("drizzle:Name");var mP;mP=ie;class MV{constructor(e,r){q(this,"reference");q(this,"_onUpdate","no action");q(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=e();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new LV(e,this)}}q(MV,mP,"PgForeignKeyBuilder");var pP;pP=ie;class LV{constructor(e,r){q(this,"reference");q(this,"onUpdate");q(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[Id],...a,s[0].table[Id],...i];return e??`${o.join("_")}_fk`}}q(LV,pP,"PgForeignKey");function Oce(t,...e){return t(...e)}function so(t){return new VV(t)}function $V(t,e){return`${t[Id]}_${e.join("_")}_unique`}var gP;gP=ie;class FV{constructor(e,r){q(this,"columns");q(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=e}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new BV(e,this.columns,this.nullsNotDistinctConfig,this.name)}}q(FV,gP,"PgUniqueConstraintBuilder");var xP;xP=ie;class VV{constructor(e){q(this,"name");this.name=e}on(...e){return new FV(e,this.name)}}q(VV,xP,"PgUniqueOnConstraintBuilder");var vP;vP=ie;class BV{constructor(e,r,s,a){q(this,"columns");q(this,"name");q(this,"nullsNotDistinct",!1);this.table=e,this.columns=r,this.name=a??$V(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=s}getName(){return this.name}}q(BV,vP,"PgUniqueConstraint");function kE(t,e,r){for(let s=e;s<t.length;s++){const a=t[s];if(a==="\\"){s++;continue}if(a==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function zV(t,e=0){const r=[];let s=e,a=!1;for(;s<t.length;){const i=t[s];if(i===","){(a||s===e)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=kE(t,s+1,!0);r.push(c),s=d;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,d]=zV(t,s+1);r.push(c),s=d;continue}const[o,l]=kE(t,s,!1);r.push(o),s=l}return[r,s]}function Ice(t){const[e]=zV(t,1);return e}function UV(t){return`{${t.map(e=>Array.isArray(e)?UV(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var yP,bP;class Kt extends(bP=DV,yP=ie,bP){constructor(){super(...arguments);q(this,"foreignKeyConfigs",[])}array(r){return new HV(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>Oce((o,l)=>{const c=new MV(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}buildExtraConfigColumn(r){return new qV(r,this.config)}}q(Kt,yP,"PgColumnBuilder");var wP,jP;class St extends(jP=Cu,wP=ie,jP){constructor(e,r){r.uniqueName||(r.uniqueName=$V(e,[r.name])),super(e,r),this.table=e}}q(St,wP,"PgColumn");var NP,_P;class qV extends(_P=St,NP=ie,_P){constructor(){super(...arguments);q(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});q(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}q(qV,NP,"ExtraConfigColumn");var SP;SP=ie;class cg{constructor(e,r,s,a){q(this,"name");q(this,"keyAsName");q(this,"type");q(this,"indexConfig");this.name=e,this.keyAsName=r,this.type=s,this.indexConfig=a}}q(cg,SP,"IndexedColumn");var kP,CP;class HV extends(CP=Kt,kP=ie,CP){constructor(e,r,s){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(e){const r=this.config.baseBuilder.build(e);return new uj(e,this.config,r)}}q(HV,kP,"PgArrayBuilder");var EP,PP;const Mx=class Mx extends(PP=St,EP=ie,PP){constructor(r,s,a,i){super(r,s);q(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Ice(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:Xr(this.baseColumn,Mx)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:UV(a)}};q(Mx,EP,"PgArray");let uj=Mx;const CE=Symbol.for("drizzle:isPgEnum");function Dce(t){return!!t&&typeof t=="function"&&CE in t&&t[CE]===!0}var TP;TP=ie;class A_{constructor(e,r,s,a=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:s,isWith:a}}}q(A_,TP,"Subquery");const Mce={startActiveSpan(t,e){return e()}},Dd=Symbol.for("drizzle:ViewBaseConfig"),Mb=Symbol.for("drizzle:Schema"),EE=Symbol.for("drizzle:Columns"),PE=Symbol.for("drizzle:ExtraConfigColumns"),Lb=Symbol.for("drizzle:OriginalName"),$b=Symbol.for("drizzle:BaseName"),Ox=Symbol.for("drizzle:IsAlias"),TE=Symbol.for("drizzle:ExtraConfigBuilder"),WV=Symbol.for("drizzle:IsDrizzleTable");var AP,RP,OP,IP,DP,MP,LP,$P,FP,VP;VP=ie,FP=Id,$P=Lb,LP=Mb,MP=EE,DP=PE,IP=$b,OP=Ox,RP=WV,AP=TE;class Ws{constructor(e,r,s){q(this,FP);q(this,$P);q(this,LP);q(this,MP);q(this,DP);q(this,IP);q(this,OP,!1);q(this,RP,!0);q(this,AP);this[Id]=this[Lb]=e,this[Mb]=r,this[$b]=s}}q(Ws,VP,"Table"),q(Ws,"Symbol",{Name:Id,Schema:Mb,OriginalName:Lb,Columns:EE,ExtraConfigColumns:PE,BaseName:$b,IsAlias:Ox,ExtraConfigBuilder:TE});function KV(t){return typeof t=="object"&&t!==null&&WV in t}function Lce(t){return t!=null&&typeof t.getSQL=="function"}function $ce(t){var r;const e={sql:"",params:[]};for(const s of t)e.sql+=s.sql,e.params.push(...s.params),(r=s.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var BP;BP=ie;class Zn{constructor(e){q(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Dr([this])}}q(Zn,BP,"StringChunk");var zP;zP=ie;const Vl=class Vl{constructor(e){q(this,"decoder",GV);q(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Mce.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return $ce(e.map(u=>{var h;if(Xr(u,Zn))return{sql:u.value.join(""),params:[]};if(Xr(u,Ix))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const f=[new Zn("(")];for(const[g,b]of u.entries())f.push(b),g<u.length-1&&f.push(new Zn(", "));return f.push(new Zn(")")),this.buildQueryFromSourceParams(f,s)}if(Xr(u,Vl))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:c||u.shouldInlineParams});if(Xr(u,Ws)){const f=u[Ws.Symbol.Schema],g=u[Ws.Symbol.Name];return{sql:f===void 0||u[Ox]?i(g):i(f)+"."+i(g),params:[]}}if(Xr(u,Cu)){const f=a.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};const g=u.table[Ws.Symbol.Schema];return{sql:u.table[Ox]||g===void 0?i(u.table[Ws.Symbol.Name])+"."+i(f):i(g)+"."+i(u.table[Ws.Symbol.Name])+"."+i(f),params:[]}}if(Xr(u,JV)){const f=u[Dd].schema,g=u[Dd].name;return{sql:f===void 0||u[Dd].isAlias?i(g):i(f)+"."+i(g),params:[]}}if(Xr(u,R_)){if(Xr(u.value,Dx))return{sql:o(d.value++,u),params:[u],typings:["none"]};const f=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Xr(f,Vl))return this.buildQueryFromSourceParams([f],s);if(c)return{sql:this.mapInlineParam(f,s),params:[]};let g=["none"];return l&&(g=[l(u.encoder)]),{sql:o(d.value++,f),params:[f],typings:g}}return Xr(u,Dx)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Xr(u,Vl.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Xr(u,A_)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Zn("("),u._.sql,new Zn(") "),new Ix(u._.alias)],s):Dce(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:Lce(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],s):this.buildQueryFromSourceParams([new Zn("("),u.getSQL(),new Zn(")")],s):c?{sql:this.mapInlineParam(u,s),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const s=e.toString();return r(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vl.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};q(Vl,zP,"SQL");let Dr=Vl;var UP;UP=ie;class Ix{constructor(e){q(this,"brand");this.value=e}getSQL(){return new Dr([this])}}q(Ix,UP,"Name");const GV={mapFromDriverValue:t=>t},XV={mapToDriverValue:t=>t};({...GV,...XV});var qP;qP=ie;class R_{constructor(e,r=XV){q(this,"brand");this.value=e,this.encoder=r}getSQL(){return new Dr([this])}}q(R_,qP,"Param");function We(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Zn(t[0]));for(const[s,a]of e.entries())r.push(a,new Zn(t[s+1]));return new Dr(r)}(t=>{function e(){return new Dr([])}t.empty=e;function r(c){return new Dr(c)}t.fromList=r;function s(c){return new Dr([new Zn(c)])}t.raw=s;function a(c,d){const u=[];for(const[h,f]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(f);return new Dr(u)}t.join=a;function i(c){return new Ix(c)}t.identifier=i;function o(c){return new Dx(c)}t.placeholder=o;function l(c,d){return new R_(c,d)}t.param=l})(We||(We={}));(t=>{var r;r=ie;const s=class s{constructor(i,o){q(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};q(s,r,"SQL.Aliased");let e=s;t.Aliased=e})(Dr||(Dr={}));var HP;HP=ie;class Dx{constructor(e){this.name=e}getSQL(){return new Dr([this])}}q(Dx,HP,"Placeholder");const QV=Symbol.for("drizzle:IsDrizzleView");var WP,KP,GP;GP=ie,KP=Dd,WP=QV;class JV{constructor({name:e,schema:r,selectedFields:s,query:a}){q(this,KP);q(this,WP,!0);this[Dd]={name:e,originalName:e,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Dr([this])}}q(JV,GP,"View");function Fce(t){return typeof t=="object"&&t!==null&&QV in t}Cu.prototype.getSQL=function(){return new Dr([this])};Ws.prototype.getSQL=function(){return new Dr([this])};A_.prototype.getSQL=function(){return new Dr([this])};function Vce(t){return t[Ws.Symbol.Columns]}function Bce(t){return t[Dd].selectedFields}function ds(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var XP,QP;class Rm extends(QP=Kt,XP=ie,QP){generatedAlwaysAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}q(Rm,XP,"PgIntColumnBaseBuilder");var JP,YP;class YV extends(YP=Rm,JP=ie,YP){constructor(e){super(e,"number","PgBigInt53")}build(e){return new ZV(e,this.config)}}q(YV,JP,"PgBigInt53Builder");var ZP,eT;class ZV extends(eT=St,ZP=ie,eT){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}q(ZV,ZP,"PgBigInt53");var tT,rT;class eB extends(rT=Rm,tT=ie,rT){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new tB(e,this.config)}}q(eB,tT,"PgBigInt64Builder");var sT,nT;class tB extends(nT=St,sT=ie,nT){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}q(tB,sT,"PgBigInt64");function zce(t,e){const{name:r,config:s}=ds(t,e);return s.mode==="number"?new YV(r):new eB(r)}var aT,iT;class rB extends(iT=Kt,aT=ie,iT){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sB(e,this.config)}}q(rB,aT,"PgBigSerial53Builder");var oT,lT;class sB extends(lT=St,oT=ie,lT){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}q(sB,oT,"PgBigSerial53");var cT,dT;class nB extends(dT=Kt,cT=ie,dT){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new aB(e,this.config)}}q(nB,cT,"PgBigSerial64Builder");var uT,hT;class aB extends(hT=St,uT=ie,hT){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}q(aB,uT,"PgBigSerial64");function Uce(t,e){const{name:r,config:s}=ds(t,e);return s.mode==="number"?new rB(r):new nB(r)}var fT,mT;class iB extends(mT=Kt,fT=ie,mT){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new oB(e,this.config)}}q(iB,fT,"PgBooleanBuilder");var pT,gT;class oB extends(gT=St,pT=ie,gT){getSQLType(){return"boolean"}}q(oB,pT,"PgBoolean");function Qt(t){return new iB(t??"")}var xT,vT;class lB extends(vT=Kt,xT=ie,vT){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new cB(e,this.config)}}q(lB,xT,"PgCharBuilder");var yT,bT;class cB extends(bT=St,yT=ie,bT){constructor(){super(...arguments);q(this,"length",this.config.length);q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}q(cB,yT,"PgChar");function qce(t,e={}){const{name:r,config:s}=ds(t,e);return new lB(r,s)}var wT,jT;class dB extends(jT=Kt,wT=ie,jT){constructor(e){super(e,"string","PgCidr")}build(e){return new uB(e,this.config)}}q(dB,wT,"PgCidrBuilder");var NT,_T;class uB extends(_T=St,NT=ie,_T){getSQLType(){return"cidr"}}q(uB,NT,"PgCidr");function Hce(t){return new dB(t??"")}var ST,kT;class hB extends(kT=Kt,ST=ie,kT){constructor(e,r,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(e){return new fB(e,this.config)}}q(hB,ST,"PgCustomColumnBuilder");var CT,ET;class fB extends(ET=St,CT=ie,ET){constructor(r,s){super(r,s);q(this,"sqlName");q(this,"mapTo");q(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}q(fB,CT,"PgCustomColumn");function Wce(t){return(e,r)=>{const{name:s,config:a}=ds(e,r);return new hB(s,a,t)}}var PT,TT;class Gu extends(TT=Kt,PT=ie,TT){defaultNow(){return this.default(We`now()`)}}q(Gu,PT,"PgDateColumnBaseBuilder");var AT,RT;class mB extends(RT=Gu,AT=ie,RT){constructor(e){super(e,"date","PgDate")}build(e){return new pB(e,this.config)}}q(mB,AT,"PgDateBuilder");var OT,IT;class pB extends(IT=St,OT=ie,IT){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}q(pB,OT,"PgDate");var DT,MT;class gB extends(MT=Gu,DT=ie,MT){constructor(e){super(e,"string","PgDateString")}build(e){return new xB(e,this.config)}}q(gB,DT,"PgDateStringBuilder");var LT,$T;class xB extends($T=St,LT=ie,$T){getSQLType(){return"date"}}q(xB,LT,"PgDateString");function hj(t,e){const{name:r,config:s}=ds(t,e);return(s==null?void 0:s.mode)==="date"?new mB(r):new gB(r)}var FT,VT;class vB extends(VT=Kt,FT=ie,VT){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new yB(e,this.config)}}q(vB,FT,"PgDoublePrecisionBuilder");var BT,zT;class yB extends(zT=St,BT=ie,zT){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}q(yB,BT,"PgDoublePrecision");function Kce(t){return new vB(t??"")}var UT,qT;class bB extends(qT=Kt,UT=ie,qT){constructor(e){super(e,"string","PgInet")}build(e){return new wB(e,this.config)}}q(bB,UT,"PgInetBuilder");var HT,WT;class wB extends(WT=St,HT=ie,WT){getSQLType(){return"inet"}}q(wB,HT,"PgInet");function Gce(t){return new bB(t??"")}var KT,GT;class jB extends(GT=Rm,KT=ie,GT){constructor(e){super(e,"number","PgInteger")}build(e){return new NB(e,this.config)}}q(jB,KT,"PgIntegerBuilder");var XT,QT;class NB extends(QT=St,XT=ie,QT){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}q(NB,XT,"PgInteger");function Re(t){return new jB(t??"")}var JT,YT;class _B extends(YT=Kt,JT=ie,YT){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new SB(e,this.config)}}q(_B,JT,"PgIntervalBuilder");var ZT,eA;class SB extends(eA=St,ZT=ie,eA){constructor(){super(...arguments);q(this,"fields",this.config.intervalConfig.fields);q(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}q(SB,ZT,"PgInterval");function Xce(t,e={}){const{name:r,config:s}=ds(t,e);return new _B(r,s)}var tA,rA;class kB extends(rA=Kt,tA=ie,rA){constructor(e){super(e,"json","PgJson")}build(e){return new CB(e,this.config)}}q(kB,tA,"PgJsonBuilder");var sA,nA;class CB extends(nA=St,sA=ie,nA){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}q(CB,sA,"PgJson");function Qce(t){return new kB(t??"")}var aA,iA;class EB extends(iA=Kt,aA=ie,iA){constructor(e){super(e,"json","PgJsonb")}build(e){return new PB(e,this.config)}}q(EB,aA,"PgJsonbBuilder");var oA,lA;class PB extends(lA=St,oA=ie,lA){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}q(PB,oA,"PgJsonb");function Jr(t){return new EB(t??"")}var cA,dA;class TB extends(dA=Kt,cA=ie,dA){constructor(e){super(e,"array","PgLine")}build(e){return new AB(e,this.config)}}q(TB,cA,"PgLineBuilder");var uA,hA;class AB extends(hA=St,uA=ie,hA){getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,a]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}q(AB,uA,"PgLine");var fA,mA;class RB extends(mA=Kt,fA=ie,mA){constructor(e){super(e,"json","PgLineABC")}build(e){return new OB(e,this.config)}}q(RB,fA,"PgLineABCBuilder");var pA,gA;class OB extends(gA=St,pA=ie,gA){getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}q(OB,pA,"PgLineABC");function Jce(t,e){const{name:r,config:s}=ds(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new TB(r):new RB(r)}var xA,vA;class IB extends(vA=Kt,xA=ie,vA){constructor(e){super(e,"string","PgMacaddr")}build(e){return new DB(e,this.config)}}q(IB,xA,"PgMacaddrBuilder");var yA,bA;class DB extends(bA=St,yA=ie,bA){getSQLType(){return"macaddr"}}q(DB,yA,"PgMacaddr");function Yce(t){return new IB(t??"")}var wA,jA;class MB extends(jA=Kt,wA=ie,jA){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new LB(e,this.config)}}q(MB,wA,"PgMacaddr8Builder");var NA,_A;class LB extends(_A=St,NA=ie,_A){getSQLType(){return"macaddr8"}}q(LB,NA,"PgMacaddr8");function Zce(t){return new MB(t??"")}var SA,kA;class $B extends(kA=Kt,SA=ie,kA){constructor(e,r,s){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(e){return new FB(e,this.config)}}q($B,SA,"PgNumericBuilder");var CA,EA;class FB extends(EA=St,CA=ie,EA){constructor(r,s){super(r,s);q(this,"precision");q(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}q(FB,CA,"PgNumeric");function VB(t,e){const{name:r,config:s}=ds(t,e);return new $B(r,s==null?void 0:s.precision,s==null?void 0:s.scale)}const yd=VB;var PA,TA;class BB extends(TA=Kt,PA=ie,TA){constructor(e){super(e,"array","PgPointTuple")}build(e){return new zB(e,this.config)}}q(BB,PA,"PgPointTupleBuilder");var AA,RA;class zB extends(RA=St,AA=ie,RA){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}q(zB,AA,"PgPointTuple");var OA,IA;class UB extends(IA=Kt,OA=ie,IA){constructor(e){super(e,"json","PgPointObject")}build(e){return new qB(e,this.config)}}q(UB,OA,"PgPointObjectBuilder");var DA,MA;class qB extends(MA=St,DA=ie,MA){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}q(qB,DA,"PgPointObject");function ede(t,e){const{name:r,config:s}=ds(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new BB(r):new UB(r)}function tde(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function AE(t,e){const r=new ArrayBuffer(8),s=new DataView(r);for(let a=0;a<8;a++)s.setUint8(a,t[e+a]);return s.getFloat64(0,!0)}function HB(t){const e=tde(t);let r=0;const s=e[r];r+=1;const a=new DataView(e.buffer),i=a.getUint32(r,s===1);if(r+=4,i&536870912&&(a.getUint32(r,s===1),r+=4),(i&65535)===1){const o=AE(e,r);r+=8;const l=AE(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var LA,$A;class WB extends($A=Kt,LA=ie,$A){constructor(e){super(e,"array","PgGeometry")}build(e){return new KB(e,this.config)}}q(WB,LA,"PgGeometryBuilder");var FA,VA;class KB extends(VA=St,FA=ie,VA){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return HB(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}q(KB,FA,"PgGeometry");var BA,zA;class GB extends(zA=Kt,BA=ie,zA){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new XB(e,this.config)}}q(GB,BA,"PgGeometryObjectBuilder");var UA,qA;class XB extends(qA=St,UA=ie,qA){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=HB(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}q(XB,UA,"PgGeometryObject");function rde(t,e){const{name:r,config:s}=ds(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new WB(r):new GB(r)}var HA,WA;class QB extends(WA=Kt,HA=ie,WA){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new JB(e,this.config)}}q(QB,HA,"PgRealBuilder");var KA,GA;class JB extends(GA=St,KA=ie,GA){constructor(r,s){super(r,s);q(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}q(JB,KA,"PgReal");function sde(t){return new QB(t??"")}var XA,QA;class YB extends(QA=Kt,XA=ie,QA){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ZB(e,this.config)}}q(YB,XA,"PgSerialBuilder");var JA,YA;class ZB extends(YA=St,JA=ie,YA){getSQLType(){return"serial"}}q(ZB,JA,"PgSerial");function nde(t){return new YB(t??"")}var ZA,eR;class e8 extends(eR=Rm,ZA=ie,eR){constructor(e){super(e,"number","PgSmallInt")}build(e){return new t8(e,this.config)}}q(e8,ZA,"PgSmallIntBuilder");var tR,rR;class t8 extends(rR=St,tR=ie,rR){constructor(){super(...arguments);q(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}q(t8,tR,"PgSmallInt");function ade(t){return new e8(t??"")}var sR,nR;class r8 extends(nR=Kt,sR=ie,nR){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new s8(e,this.config)}}q(r8,sR,"PgSmallSerialBuilder");var aR,iR;class s8 extends(iR=St,aR=ie,iR){getSQLType(){return"smallserial"}}q(s8,aR,"PgSmallSerial");function ide(t){return new r8(t??"")}var oR,lR;class n8 extends(lR=Kt,oR=ie,lR){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new a8(e,this.config)}}q(n8,oR,"PgTextBuilder");var cR,dR;class a8 extends(dR=St,cR=ie,dR){constructor(){super(...arguments);q(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}q(a8,cR,"PgText");function Ce(t,e={}){const{name:r,config:s}=ds(t,e);return new n8(r,s)}var uR,hR;class i8 extends(hR=Gu,uR=ie,hR){constructor(e,r,s){super(e,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}build(e){return new o8(e,this.config)}}q(i8,uR,"PgTimeBuilder");var fR,mR;class o8 extends(mR=St,fR=ie,mR){constructor(r,s){super(r,s);q(this,"withTimezone");q(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(o8,fR,"PgTime");function ode(t,e={}){const{name:r,config:s}=ds(t,e);return new i8(r,s.withTimezone??!1,s.precision)}var pR,gR;class l8 extends(gR=Gu,pR=ie,gR){constructor(e,r,s){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(e){return new c8(e,this.config)}}q(l8,pR,"PgTimestampBuilder");var xR,vR;class c8 extends(vR=St,xR=ie,vR){constructor(r,s){super(r,s);q(this,"withTimezone");q(this,"precision");q(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));q(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(c8,xR,"PgTimestamp");var yR,bR;class d8 extends(bR=Gu,yR=ie,bR){constructor(e,r,s){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(e){return new u8(e,this.config)}}q(d8,yR,"PgTimestampStringBuilder");var wR,jR;class u8 extends(jR=St,wR=ie,jR){constructor(r,s){super(r,s);q(this,"withTimezone");q(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(u8,wR,"PgTimestampString");function fe(t,e={}){const{name:r,config:s}=ds(t,e);return(s==null?void 0:s.mode)==="string"?new d8(r,s.withTimezone??!1,s.precision):new l8(r,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var NR,_R;class h8 extends(_R=Kt,NR=ie,_R){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(We`gen_random_uuid()`)}build(e){return new f8(e,this.config)}}q(h8,NR,"PgUUIDBuilder");var SR,kR;class f8 extends(kR=St,SR=ie,kR){getSQLType(){return"uuid"}}q(f8,SR,"PgUUID");function lde(t){return new h8(t??"")}var CR,ER;class m8 extends(ER=Kt,CR=ie,ER){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new p8(e,this.config)}}q(m8,CR,"PgVarcharBuilder");var PR,TR;class p8 extends(TR=St,PR=ie,TR){constructor(){super(...arguments);q(this,"length",this.config.length);q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}q(p8,PR,"PgVarchar");function F(t,e={}){const{name:r,config:s}=ds(t,e);return new m8(r,s)}var AR,RR;class g8 extends(RR=Kt,AR=ie,RR){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new x8(e,this.config)}}q(g8,AR,"PgBinaryVectorBuilder");var OR,IR;class x8 extends(IR=St,OR=ie,IR){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}q(x8,OR,"PgBinaryVector");function cde(t,e){const{name:r,config:s}=ds(t,e);return new g8(r,s)}var DR,MR;class v8 extends(MR=Kt,DR=ie,MR){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new y8(e,this.config)}}q(v8,DR,"PgHalfVectorBuilder");var LR,$R;class y8 extends($R=St,LR=ie,$R){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}q(y8,LR,"PgHalfVector");function dde(t,e){const{name:r,config:s}=ds(t,e);return new v8(r,s)}var FR,VR;class b8 extends(VR=Kt,FR=ie,VR){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new w8(e,this.config)}}q(b8,FR,"PgSparseVectorBuilder");var BR,zR;class w8 extends(zR=St,BR=ie,zR){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}q(w8,BR,"PgSparseVector");function ude(t,e){const{name:r,config:s}=ds(t,e);return new b8(r,s)}var UR,qR;class j8 extends(qR=Kt,UR=ie,qR){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new N8(e,this.config)}}q(j8,UR,"PgVectorBuilder");var HR,WR;class N8 extends(WR=St,HR=ie,WR){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}q(N8,HR,"PgVector");function hde(t,e){const{name:r,config:s}=ds(t,e);return new j8(r,s)}function fde(){return{bigint:zce,bigserial:Uce,boolean:Qt,char:qce,cidr:Hce,customType:Wce,date:hj,doublePrecision:Kce,inet:Gce,integer:Re,interval:Xce,json:Qce,jsonb:Jr,line:Jce,macaddr:Yce,macaddr8:Zce,numeric:VB,point:ede,geometry:rde,real:sde,serial:nde,smallint:ade,smallserial:ide,text:Ce,time:ode,timestamp:fe,uuid:lde,varchar:F,bit:cde,halfvec:dde,sparsevec:ude,vector:hde}}const fj=Symbol.for("drizzle:PgInlineForeignKeys"),RE=Symbol.for("drizzle:EnableRLS");var KR,GR,XR,QR,JR;class Zh extends(JR=Ws,QR=ie,XR=fj,GR=RE,KR=Ws.Symbol.ExtraConfigBuilder,JR){constructor(){super(...arguments);q(this,XR,[]);q(this,GR,!1);q(this,KR)}}q(Zh,QR,"PgTable"),q(Zh,"Symbol",Object.assign({},Ws.Symbol,{InlineForeignKeys:fj,EnableRLS:RE}));function mde(t,e,r,s,a=t){const i=new Zh(t,s,a),o=typeof e=="function"?e(fde()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.build(i);return i[fj].push(...f.buildForeignKeys(g,i)),[u,g]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.buildExtraConfigColumn(i);return[u,g]})),d=Object.assign(i,l);return d[Ws.Symbol.Columns]=l,d[Ws.Symbol.ExtraConfigColumns]=c,r&&(d[Zh.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:()=>(d[Zh.Symbol.EnableRLS]=!0,d)})}const et=(t,e,r)=>mde(t,e,r,void 0);var YR;YR=ie;class _8{constructor(e,r){this.unique=e,this.name=r}on(...e){return new dg(e.map(r=>{if(Xr(r,Dr))return r;r=r;const s=new cg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),s}),this.unique,!1,this.name)}onOnly(...e){return new dg(e.map(r=>{if(Xr(r,Dr))return r;r=r;const s=new cg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,s}),this.unique,!0,this.name)}using(e,...r){return new dg(r.map(s=>{if(Xr(s,Dr))return s;s=s;const a=new cg(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),a}),this.unique,!0,this.name,e)}}q(_8,YR,"PgIndexBuilderOn");var ZR;ZR=ie;class dg{constructor(e,r,s,a,i="btree"){q(this,"config");this.config={name:a,columns:e,unique:r,only:s,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new S8(this.config,e)}}q(dg,ZR,"PgIndexBuilder");var e4;e4=ie;class S8{constructor(e,r){q(this,"config");this.config={...e,table:r}}}q(S8,e4,"PgIndex");function ny(t){return new _8(!1,t)}const wr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Fr(t,e){return e.includes(t.columnType)}function pde(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const gde=T_([Be(),vn(),Ku(),RV()]),xde=T_([gde,OV(Rx()),Yh(Rx())]),vde=P_(t=>t instanceof Buffer);function k8(t,e){const r=(e==null?void 0:e.zodInstance)??Rce,s=(e==null?void 0:e.coerce)??{};let a;return pde(t)&&(a=t.enumValues.length?r.enum(t.enumValues):r.string()),a||(Fr(t,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Fr(t,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Fr(t,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=t.dimensions?a.length(t.dimensions):a):Fr(t,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Fr(t,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Fr(t,["PgArray"])?(a=r.array(k8(t.baseColumn,r)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=r.array(r.any()):t.dataType==="number"?a=yde(t,r,s):t.dataType==="bigint"?a=bde(t,r,s):t.dataType==="boolean"?a=s===!0||s.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?a=s===!0||s.date?r.coerce.date():r.date():t.dataType==="string"?a=wde(t,r,s):t.dataType==="json"?a=xde:t.dataType==="custom"?a=r.any():t.dataType==="buffer"&&(a=vde)),a||(a=r.any()),a}function yde(t,e,r){let s=t.getSQLType().includes("unsigned"),a,i,o=!1;Fr(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:wr.INT8_MIN,i=s?wr.INT8_UNSIGNED_MAX:wr.INT8_MAX,o=!0):Fr(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:wr.INT16_MIN,i=s?wr.INT16_UNSIGNED_MAX:wr.INT16_MAX,o=!0):Fr(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:wr.INT24_MIN,i=s?wr.INT24_UNSIGNED_MAX:wr.INT24_MAX,o=Fr(t,["MySqlMediumInt","SingleStoreMediumInt"])):Fr(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:wr.INT32_MIN,i=s?wr.INT32_UNSIGNED_MAX:wr.INT32_MAX,o=!0):Fr(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:wr.INT48_MIN,i=s?wr.INT48_UNSIGNED_MAX:wr.INT48_MAX):Fr(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Fr(t,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Fr(t,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(a).max(i),o?l.int():l}function bde(t,e,r){const s=t.getSQLType().includes("unsigned"),a=s?0n:wr.INT64_MIN,i=s?wr.INT64_UNSIGNED_MAX:wr.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(a).max(i)}function wde(t,e,r){if(Fr(t,["PgUUID"]))return e.string().uuid();let s,a,i=!1;Fr(t,["PgVarchar","SQLiteText"])?s=t.length:Fr(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??wr.INT16_UNSIGNED_MAX:Fr(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=wr.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=wr.INT24_UNSIGNED_MAX:t.textType==="text"?s=wr.INT16_UNSIGNED_MAX:s=wr.INT8_UNSIGNED_MAX),Fr(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,i=!0),Fr(t,["PgBinaryVector"])&&(a=/^[01]+$/,s=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function C8(t){return KV(t)?Vce(t):Bce(t)}function E8(t,e,r,s){const a={};for(const[i,o]of Object.entries(t)){if(!Xr(o,Cu)&&!Xr(o,Dr)&&!Xr(o,Dr.Aliased)&&typeof o=="object"){const h=KV(o)||Fce(o)?C8(o):o;a[i]=E8(h,e[i]??{},r,s);continue}const l=e[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Xr(o,Cu)?o:void 0,d=c?k8(c,s):Rx(),u=typeof l=="function"?l(d):d;r.never(c)||(a[i]=u,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return yn(a)}const jde={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Ot=(t,e)=>{const r=C8(t);return E8(r,{},jde)};et("sessions",{sid:F("sid").primaryKey(),sess:Jr("sess").notNull(),expire:fe("expire").notNull()},t=>[ny("IDX_session_expire").on(t.expire)]);const O_=et("churches",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:F("name",{length:255}).notNull(),denomination:F("denomination",{length:100}),country:F("country",{length:100}),city:F("city",{length:100}),ssoConfig:Jr("sso_config"),adminId:F("admin_id"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});et("email_otp",{id:F("id").primaryKey().default(We`gen_random_uuid()`),email:F("email",{length:255}).notNull(),code:F("code",{length:6}).notNull(),expiresAt:fe("expires_at").notNull(),verified:Qt("verified").default(!1),createdAt:fe("created_at").defaultNow()},t=>[ny("IDX_email_otp_email").on(t.email)]);const Wt=et("users",{id:F("id").primaryKey().default(We`gen_random_uuid()`),email:F("email",{length:255}).unique(),passwordHash:F("password_hash",{length:255}),username:F("username",{length:255}),firstName:F("first_name"),lastName:F("last_name"),fullName:F("full_name",{length:255}),displayName:F("display_name",{length:255}),profileImageUrl:F("profile_image_url"),avatarUrl:Ce("avatar_url"),profileImage:Ce("profile_image"),profileType:F("profile_type",{length:50}).default("basic_user"),churchId:F("church_id").references(()=>O_.id),theologicalBackground:Ce("theological_background"),role:F("role").default("user"),customTheme:Jr("custom_theme").$type(),selectedTheme:F("selected_theme",{length:50}).default("classico"),level:F("level").default("iniciante"),experiencePoints:Re("experience_points").default(0),readingStreak:Re("reading_streak").default(0),lastReadDate:fe("last_read_date"),isTeacher:Qt("is_teacher").default(!1),subscriptionPlan:F("subscription_plan",{length:20}).default("free"),subscriptionExpiresAt:fe("subscription_expires_at"),stripeCustomerId:F("stripe_customer_id"),stripeSubscriptionId:F("stripe_subscription_id"),aiRequestsToday:Re("ai_requests_today").default(0),aiRequestsResetAt:fe("ai_requests_reset_at"),aiRequestsCount:Re("ai_requests_count").default(0),aiSpendMonth:yd("ai_spend_month",{precision:10,scale:4}).default("0"),aiSpendYear:yd("ai_spend_year",{precision:10,scale:4}).default("0"),aiMonthlyBudgetLimit:yd("ai_monthly_budget_limit",{precision:10,scale:4}).default("0"),aiAnnualBudgetLimit:yd("ai_annual_budget_limit",{precision:10,scale:4}).default("0"),aiSpendMonthResetAt:fe("ai_spend_month_reset_at"),aiSpendYearResetAt:fe("ai_spend_year_reset_at"),preferences:Jr("preferences").default({}),lastLogin:fe("last_login"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Xu=et("groups",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:F("name",{length:255}).notNull(),description:Ce("description"),churchId:F("church_id").references(()=>O_.id),leaderId:F("leader_id").references(()=>Wt.id),isPublic:Qt("is_public").default(!0),maxMembers:Re("max_members").default(50),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Nde=et("group_members",{id:F("id").primaryKey().default(We`gen_random_uuid()`),groupId:F("group_id").notNull().references(()=>Xu.id),userId:F("user_id").notNull().references(()=>Wt.id),role:F("role",{length:20}).default("member"),joinedAt:fe("joined_at").defaultNow()},t=>({uniqueGroupUser:so().on(t.groupId,t.userId)})),P8=et("bible_translations",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:F("name",{length:100}).notNull(),language:F("language",{length:50}).default("portuguese"),abbreviation:F("abbreviation",{length:10}).notNull(),copyrightInfo:Ce("copyright_info"),isAvailable:Qt("is_available").default(!0),accessLevel:F("access_level",{length:20}).default("free")}),I_=et("bible_books",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:F("name",{length:100}).notNull(),abbreviation:F("abbreviation",{length:10}).notNull(),testament:F("testament",{length:10}).notNull(),orderIndex:Re("order_index").notNull(),chapterCount:Re("chapter_count").notNull()});et("bible_chapters",{id:F("id").primaryKey().default(We`gen_random_uuid()`),bookId:F("book_id").notNull().references(()=>I_.id),chapterNumber:Re("chapter_number").notNull(),verseCount:Re("verse_count").notNull()},t=>({uniqueBookChapter:so().on(t.bookId,t.chapterNumber)}));const Eu=et("bible_verses",{id:F("id").primaryKey().default(We`gen_random_uuid()`),translationId:F("translation_id").notNull().references(()=>P8.id),bookId:F("book_id").notNull().references(()=>I_.id),chapterNumber:Re("chapter_number").notNull(),verseNumber:Re("verse_number").notNull(),verseText:Ce("verse_text").notNull(),createdAt:fe("created_at").defaultNow()},t=>({uniqueVerse:so().on(t.translationId,t.bookId,t.chapterNumber,t.verseNumber)}));et("cross_references",{id:F("id").primaryKey().default(We`gen_random_uuid()`),sourceVerseId:F("source_verse_id").notNull().references(()=>Eu.id),targetVerseId:F("target_verse_id").notNull().references(()=>Eu.id),referenceType:F("reference_type",{length:50}),strengthScore:yd("strength_score",{precision:3,scale:2}).default("1.0"),createdAt:fe("created_at").defaultNow()});const T8=et("reading_plan_templates",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:Ce("name").notNull(),description:Ce("description"),duration:Re("duration").notNull(),category:F("category").default("bible"),schedule:Jr("schedule").$type().notNull(),createdAt:fe("created_at").defaultNow()}),A8=et("reading_plans",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),templateId:F("template_id").references(()=>T8.id),title:Ce("title").notNull(),name:F("name",{length:255}),description:Ce("description"),planType:F("plan_type",{length:50}),schedule:Jr("schedule").$type().notNull(),durationDays:Re("duration_days"),totalDays:Re("total_days").notNull(),currentDay:Re("current_day").default(1),isPublic:Qt("is_public").default(!1),isActive:Qt("is_active").default(!0),isCompleted:Qt("is_completed").default(!1),startedAt:fe("started_at").defaultNow(),completedAt:fe("completed_at"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});et("reading_plan_items",{id:F("id").primaryKey().default(We`gen_random_uuid()`),planId:F("plan_id").notNull().references(()=>A8.id),bookId:F("book_id").references(()=>I_.id),book:F("book",{length:50}),chapterNumber:Re("chapter_number").notNull(),dayNumber:Re("day_number").notNull(),isCompleted:Qt("is_completed").default(!1),completedAt:fe("completed_at"),userNotes:Ce("user_notes")});et("reading_history",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id),book:F("book",{length:50}).notNull(),chapterNumber:Re("chapter_number").notNull(),translationId:F("translation_id").references(()=>P8.id),readDurationSeconds:Re("read_duration_seconds"),readAt:fe("read_at").defaultNow()});const _de=et("highlights",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:Ce("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse").notNull(),verseText:Ce("verse_text").notNull(),version:F("version").default("nvi"),verseId:F("verse_id").references(()=>Eu.id),color:F("color").notNull(),highlightText:Ce("highlight_text"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Sde=et("bookmarks",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:Ce("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse").notNull(),verseText:Ce("verse_text").notNull(),version:F("version").default("nvi"),title:F("title"),note:Ce("note"),tags:Ce("tags").array(),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),kde=et("notes",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:Ce("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse"),version:F("version").default("nvi"),verseId:F("verse_id").references(()=>Eu.id),noteTitle:F("note_title",{length:255}),content:Ce("content").notNull(),noteType:F("note_type",{length:50}).default("personal"),tags:Ce("tags").array(),isPublic:Qt("is_public").default(!1),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Cde=et("verse_commentaries",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:F("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse").notNull(),version:F("version").notNull(),commentaryType:F("commentary_type").notNull(),content:Ce("content").notNull(),commentary:Ce("commentary"),source:F("source").default("ai"),teacherId:F("teacher_id").references(()=>Wt.id,{onDelete:"cascade"}),generatedAt:fe("generated_at").defaultNow(),createdAt:fe("created_at").defaultNow()},t=>({uniqueCommentary:so().on(t.userId,t.version,t.book,t.chapter,t.verse,t.commentaryType)})),Ede=et("prayers",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),title:Ce("title").notNull(),content:Ce("content"),prayerType:F("prayer_type",{length:50}).default("request"),category:F("category",{length:100}),emotionalState:F("emotional_state",{length:50}),audioUrl:Ce("audio_url"),audioDuration:Re("audio_duration"),location:Jr("location").$type(),isAnswered:Qt("is_answered").default(!1),answeredAt:fe("answered_at"),answerNotes:Ce("answer_notes"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Pde=et("bible_settings",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}).unique(),preferredVersion:F("preferred_version").default("nvi"),fontSize:Re("font_size").default(16),lineHeight:Re("line_height").default(28),verseNumbers:Qt("verse_numbers").default(!0),redLetters:Qt("red_letters").default(!1),lastBook:Ce("last_book"),lastChapter:Re("last_chapter"),lastVerse:Re("last_verse"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),ay=et("community_posts",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),groupId:F("group_id").references(()=>Xu.id),verseId:F("verse_id").references(()=>Eu.id),verseReference:Ce("verse_reference").notNull(),verseText:Ce("verse_text").notNull(),scriptureReference:Jr("scripture_reference"),title:F("title",{length:255}),note:Ce("note").notNull(),content:Ce("content"),postType:F("post_type",{length:50}).default("reflection"),tags:Ce("tags").array(),isPublic:Qt("is_public").default(!0),likeCount:Re("like_count").default(0),likesCount:Re("likes_count").default(0),commentCount:Re("comment_count").default(0),commentsCount:Re("comments_count").default(0),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Tde=et("post_likes",{id:F("id").primaryKey().default(We`gen_random_uuid()`),postId:F("post_id").notNull().references(()=>ay.id,{onDelete:"cascade"}),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),createdAt:fe("created_at").defaultNow()},t=>({uniquePostUser:so().on(t.postId,t.userId)})),D_=et("post_comments",{id:F("id").primaryKey().default(We`gen_random_uuid()`),postId:F("post_id").notNull().references(()=>ay.id,{onDelete:"cascade"}),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),parentCommentId:F("parent_comment_id").references(()=>D_.id),content:Ce("content").notNull(),likeCount:Re("like_count").default(0),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});et("post_reactions",{id:F("id").primaryKey().default(We`gen_random_uuid()`),postId:F("post_id").references(()=>ay.id),commentId:F("comment_id").references(()=>D_.id),userId:F("user_id").notNull(),reactionType:F("reaction_type",{length:20}).notNull(),createdAt:fe("created_at").defaultNow()});const Ade=et("user_progress",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().unique(),totalXp:Re("total_xp").default(0),level:Re("level").default(1),currentStreak:Re("current_streak").default(0),longestStreak:Re("longest_streak").default(0),lastActivityDate:hj("last_activity_date"),lastReadingDate:hj("last_reading_date"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});et("achievement_definitions",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:F("name",{length:255}).notNull(),description:Ce("description").notNull(),iconUrl:Ce("icon_url"),achievementType:F("achievement_type",{length:50}).notNull(),requirementValue:Re("requirement_value").notNull(),requirementMetric:F("requirement_metric",{length:50}).notNull(),tier:F("tier",{length:20}).default("bronze")});const R8=et("achievements",{id:F("id").primaryKey().default(We`gen_random_uuid()`),name:Ce("name"),description:Ce("description"),icon:F("icon").default("trophy"),category:F("category").default("reading"),requirement:Jr("requirement").$type(),xpReward:Re("xp_reward").default(0),createdAt:fe("created_at").defaultNow()}),Rde=et("user_achievements",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),achievementId:F("achievement_id").references(()=>R8.id,{onDelete:"cascade"}),achievementType:F("achievement_type"),achievementValue:Re("achievement_value").default(1),progress:Re("progress").default(0),progressValue:Re("progress_value").default(0),isUnlocked:Qt("is_unlocked").default(!1),unlockedAt:fe("unlocked_at"),earnedAt:fe("earned_at").defaultNow(),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),M_=et("podcasts",{id:F("id").primaryKey().default(We`gen_random_uuid()`),title:Ce("title").notNull(),description:Ce("description"),author:F("author",{length:255}),category:F("category",{length:100}),language:F("language",{length:10}).default("pt"),imageUrl:Ce("image_url"),rssUrl:Ce("rss_url"),rssFeed:F("rss_feed").unique(),totalEpisodes:Re("total_episodes").default(0),isActive:Qt("is_active").default(!0),accessLevel:F("access_level",{length:20}).default("free"),creatorId:F("creator_id").references(()=>Wt.id,{onDelete:"set null"}),bibleBook:F("bible_book",{length:100}),bibleChapter:Re("bible_chapter"),episodes:Jr("episodes").$type(),subscriberCount:Re("subscriber_count").default(0),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Ode=et("shared_links",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").references(()=>Wt.id,{onDelete:"set null"}),book:Ce("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse").notNull(),version:F("version").notNull(),platform:F("platform",{length:50}),sharedAt:fe("shared_at").defaultNow()});Ot(Ode).omit({id:!0,sharedAt:!0});const Ide=et("podcast_subscriptions",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),podcastId:F("podcast_id").notNull().references(()=>M_.id,{onDelete:"cascade"}),currentEpisodeId:Ce("current_episode_id"),currentPosition:Re("current_position").default(0),subscribedAt:fe("subscribed_at").defaultNow(),createdAt:fe("created_at").defaultNow()},t=>({uniqueUserPodcast:so().on(t.userId,t.podcastId)})),iy=et("lessons",{id:F("id").primaryKey().default(We`gen_random_uuid()`),teacherId:F("teacher_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),title:Ce("title").notNull(),description:Ce("description"),content:Ce("content"),tags:Ce("tags").array(),scriptureReferences:Jr("scripture_references").$type(),resources:Jr("resources"),objectives:Ce("objectives").array(),questions:Jr("questions").$type(),scheduledFor:fe("scheduled_for"),isPublished:Qt("is_published").default(!1),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Dde=et("lesson_progress",{id:F("id").primaryKey().default(We`gen_random_uuid()`),lessonId:F("lesson_id").notNull().references(()=>iy.id,{onDelete:"cascade"}),studentId:F("student_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),progress:Re("progress").default(0),isCompleted:Qt("is_completed").default(!1),score:Re("score"),answers:Jr("answers").$type(),enrolledAt:fe("enrolled_at").defaultNow(),completedAt:fe("completed_at"),createdAt:fe("created_at").defaultNow()}),Mde=et("additional_content",{id:F("id").primaryKey().default(We`gen_random_uuid()`),title:F("title",{length:255}).notNull(),description:Ce("description"),contentType:F("content_type",{length:50}).notNull(),audioUrl:Ce("audio_url"),durationSeconds:Re("duration_seconds"),author:F("author",{length:255}),accessLevel:F("access_level",{length:20}).default("premium"),isActive:Qt("is_active").default(!0),createdAt:fe("created_at").defaultNow()});et("content_verse_references",{id:F("id").primaryKey().default(We`gen_random_uuid()`),contentId:F("content_id").notNull().references(()=>Mde.id),verseId:F("verse_id").notNull().references(()=>Eu.id),relevanceScore:yd("relevance_score",{precision:3,scale:2}).default("1.0")},t=>({uniqueContentVerse:so().on(t.contentId,t.verseId)}));const Lde=et("feedback",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").references(()=>Wt.id,{onDelete:"cascade"}),type:F("type",{length:20}).notNull(),score:Re("score"),comment:Ce("comment"),metadata:Jr("metadata").default({}),createdAt:fe("created_at").defaultNow()});Ot(Lde);const $de=et("daily_verses",{id:F("id").primaryKey().default(We`gen_random_uuid()`),dayOfYear:Re("day_of_year").notNull().unique(),book:F("book").notNull(),chapter:Re("chapter").notNull(),verse:Re("verse").notNull(),version:F("version").notNull(),theme:F("theme",{length:100}),createdAt:fe("created_at").defaultNow()});Ot($de).omit({id:!0,createdAt:!0});const Fde=et("offline_content",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:F("book").notNull(),chapter:Re("chapter").notNull(),version:F("version").notNull(),content:Jr("content").notNull(),size:Re("size").default(0),verseCount:Re("verse_count").default(0),downloadedAt:fe("downloaded_at").defaultNow(),lastAccessedAt:fe("last_accessed_at").defaultNow(),expiresAt:fe("expires_at"),createdAt:fe("created_at").defaultNow()},t=>({uniqueUserBookChapterVersion:so().on(t.userId,t.book,t.chapter,t.version)})),Vde=et("donations",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull(),amount:Re("amount").notNull(),currency:F("currency",{length:10}).default("BRL"),type:F("type",{length:50}).notNull(),frequency:F("frequency"),destination:F("destination",{length:50}).default("app_operations"),stripePaymentIntentId:F("stripe_payment_intent_id"),stripeCustomerId:F("stripe_customer_id"),stripeSubscriptionId:F("stripe_subscription_id"),status:F("status",{length:20}).default("pending"),isAnonymous:Qt("is_anonymous").default(!1),message:Ce("message"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});Ot(Wt);Ot(O_).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(Xu).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(T8).omit({id:!0,createdAt:!0});Ot(A8).omit({id:!0,createdAt:!0,updatedAt:!0,startedAt:!0,completedAt:!0}).extend({title:Be().min(3,"Ttulo deve ter pelo menos 3 caracteres").max(200),totalDays:vn().int().min(1,"Plano deve ter pelo menos 1 dia").max(365,"Plano no pode ter mais de 365 dias"),currentDay:vn().int().min(1).max(365).optional().nullable()});Ot(R8).omit({id:!0,createdAt:!0});Ot(Rde).omit({id:!0,createdAt:!0,unlockedAt:!0});const Bde=Ot(Ede).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({title:Be().min(3,"Ttulo deve ter pelo menos 3 caracteres").max(200,"Ttulo muito longo"),content:Be().min(10,"Orao deve ter pelo menos 10 caracteres").max(1e4,"Orao muito longa").optional().nullable(),audioUrl:Be().max(5e6,"udio muito grande").optional().nullable(),audioDuration:vn().min(1).max(600).optional().nullable()});Ot(kde).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({book:Be().min(2,"Nome do livro invlido").max(50),chapter:vn().int().min(1,"Captulo deve ser maior que 0").max(150,"Captulo invlido"),verse:vn().int().min(1).max(176).optional().nullable(),content:Be().min(1,"Nota no pode estar vazia").max(5e3,"Nota muito longa")});Ot(_de).omit({id:!0,createdAt:!0}).extend({book:Be().min(2,"Nome do livro invlido").max(50),chapter:vn().int().min(1).max(150),verse:vn().int().min(1).max(176),verseText:Be().min(1).max(1e3),color:Jf(["yellow","green","blue","purple","pink","orange"],{errorMap:()=>({message:"Cor deve ser: yellow, green, blue, purple, pink ou orange"})})});Ot(Sde).omit({id:!0,createdAt:!0}).extend({book:Be().min(2).max(50),chapter:vn().int().min(1).max(150),verse:vn().int().min(1).max(176),verseText:Be().min(1).max(1e3),version:Jf(["nvi","acf","arc","ra"]).optional().nullable(),note:Be().max(1e3).optional().nullable()});Ot(Pde).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(M_).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(Ide).omit({id:!0,createdAt:!0});Ot(iy).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(iy).omit({id:!0,teacherId:!0,createdAt:!0,updatedAt:!0}).partial();Ot(Dde).omit({id:!0,createdAt:!0});const zde=Ot(ay).omit({id:!0,createdAt:!0,updatedAt:!0,likeCount:!0,commentCount:!0}).extend({verseReference:Be().min(3,"Referncia do versculo invlida").max(100),verseText:Be().min(5,"Texto do versculo invlido").max(2e3),note:Be().min(10,"Reflexo deve ter pelo menos 10 caracteres").max(5e3,"Reflexo muito longa")});Ot(Tde).omit({id:!0,createdAt:!0});Ot(D_).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({content:Be().min(1,"Comentrio no pode estar vazio").max(2e3,"Comentrio muito longo")});Ot(Fde).omit({id:!0,createdAt:!0});Ot(Cde).omit({id:!0,createdAt:!0,generatedAt:!0});Ot(Vde).omit({id:!0,createdAt:!0});Ot(Ade).omit({id:!0,createdAt:!0,updatedAt:!0});const Ude=et("push_subscriptions",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),endpoint:Ce("endpoint").notNull(),p256dh:Ce("p256dh").notNull(),auth:Ce("auth").notNull(),userAgent:Ce("user_agent"),isActive:Qt("is_active").default(!0),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),qde=et("notification_preferences",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}).unique(),readingReminders:Qt("reading_reminders").default(!0),readingReminderTime:F("reading_reminder_time",{length:5}).default("08:00"),prayerReminders:Qt("prayer_reminders").default(!0),prayerReminderTime:F("prayer_reminder_time",{length:5}).default("07:00"),dailyVerseNotification:Qt("daily_verse_notification").default(!0),dailyVerseTime:F("daily_verse_time",{length:5}).default("06:00"),communityActivity:Qt("community_activity").default(!1),teacherModeUpdates:Qt("teacher_mode_updates").default(!0),weekendOnly:Qt("weekend_only").default(!1),timezone:F("timezone",{length:50}).default("America/Sao_Paulo"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()}),Hde=et("notification_history",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),type:F("type",{length:50}).notNull(),title:F("title",{length:255}).notNull(),body:Ce("body").notNull(),data:Jr("data"),sentAt:fe("sent_at").defaultNow(),clicked:Qt("clicked").default(!1),clickedAt:fe("clicked_at")}),Wde=et("audio_cache",{id:F("id").primaryKey().default(We`gen_random_uuid()`),language:F("language",{length:10}).notNull(),version:F("version",{length:20}).notNull(),book:F("book",{length:50}).notNull(),chapter:Re("chapter").notNull(),verse:Re("verse"),audioData:Ce("audio_data").notNull(),createdAt:fe("created_at").defaultNow()},t=>[ny("IDX_audio_cache").on(t.language,t.version,t.book,t.chapter,t.verse)]);Ot(Ude).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(qde).omit({id:!0,createdAt:!0,updatedAt:!0});Ot(Hde).omit({id:!0,sentAt:!0});Ot(Wde).omit({id:!0,createdAt:!0});Ot(Nde).omit({id:!0,joinedAt:!0});const Kde=et("group_invites",{id:F("id").primaryKey().default(We`gen_random_uuid()`),groupId:F("group_id").notNull().references(()=>Xu.id,{onDelete:"cascade"}),invitedEmail:F("invited_email",{length:255}),invitedPhone:F("invited_phone",{length:20}),inviteCode:F("invite_code",{length:50}).unique(),invitedBy:F("invited_by").notNull().references(()=>Wt.id),status:F("status",{length:20}).default("pending"),expiresAt:fe("expires_at"),createdAt:fe("created_at").defaultNow()});Ot(Kde).omit({id:!0,createdAt:!0});const Gde=et("group_messages",{id:F("id").primaryKey().default(We`gen_random_uuid()`),groupId:F("group_id").notNull().references(()=>Xu.id,{onDelete:"cascade"}),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),content:Ce("content").notNull(),replyToId:F("reply_to_id"),verseReference:Ce("verse_reference"),verseText:Ce("verse_text"),messageType:F("message_type",{length:20}).default("text"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});Ot(Gde).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({content:Be().min(1,"Mensagem no pode estar vazia").max(2e3,"Mensagem muito longa")});const O8=et("group_discussions",{id:F("id").primaryKey().default(We`gen_random_uuid()`),groupId:F("group_id").notNull().references(()=>Xu.id,{onDelete:"cascade"}),createdById:F("created_by_id").notNull().references(()=>Wt.id),title:Ce("title").notNull(),description:Ce("description"),question:Ce("question").notNull(),verseReference:Ce("verse_reference"),verseText:Ce("verse_text"),aiSynthesis:Ce("ai_synthesis"),synthesizedAt:fe("synthesized_at"),status:F("status",{length:20}).default("open"),allowAnonymous:Qt("allow_anonymous").default(!1),deadline:fe("deadline"),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});Ot(O8).omit({id:!0,createdAt:!0,updatedAt:!0,synthesizedAt:!0,aiSynthesis:!0});const Xde=et("group_answers",{id:F("id").primaryKey().default(We`gen_random_uuid()`),discussionId:F("discussion_id").notNull().references(()=>O8.id,{onDelete:"cascade"}),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),content:Ce("content").notNull(),verseReference:Ce("verse_reference"),reviewStatus:F("review_status",{length:20}).default("pending"),reviewComment:Ce("review_comment"),reviewedById:F("reviewed_by_id").references(()=>Wt.id),reviewedAt:fe("reviewed_at"),isAnonymous:Qt("is_anonymous").default(!1),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});Ot(Xde).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,reviewComment:!0,reviewedById:!0,reviewStatus:!0});const Qde=et("teaching_outlines",{id:F("id").primaryKey().default(We`gen_random_uuid()`),teacherId:F("teacher_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),lessonId:F("lesson_id").references(()=>iy.id,{onDelete:"set null"}),title:Ce("title").notNull(),description:Ce("description"),blocks:Jr("blocks").$type().default([]),mainScripture:Jr("main_scripture").$type(),category:F("category",{length:50}),tags:Ce("tags").array(),isPublic:Qt("is_public").default(!1),sharedWithGroups:Ce("shared_with_groups").array(),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()});Ot(Qde).omit({id:!0,createdAt:!0,updatedAt:!0});const Jde=et("podcast_downloads",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),podcastId:F("podcast_id").notNull().references(()=>M_.id,{onDelete:"cascade"}),episodeId:F("episode_id").notNull(),downloadStatus:F("download_status",{length:20}).default("pending"),downloadProgress:Re("download_progress").default(0),fileSize:Re("file_size"),downloadedAt:fe("downloaded_at"),expiresAt:fe("expires_at"),createdAt:fe("created_at").defaultNow()},t=>({uniqueUserPodcastEpisode:so().on(t.userId,t.podcastId,t.episodeId)}));Ot(Jde).omit({id:!0,createdAt:!0});const Yde=et("audio_progress",{id:F("id").primaryKey().default(We`gen_random_uuid()`),userId:F("user_id").notNull().references(()=>Wt.id,{onDelete:"cascade"}),book:F("book",{length:50}).notNull(),chapter:Re("chapter").notNull(),version:F("version",{length:20}).default("ARA"),playbackPosition:Re("playback_position").default(0),totalDuration:Re("total_duration").default(0),lastPlayedAt:fe("last_played_at").defaultNow(),completed:Qt("completed").default(!1),createdAt:fe("created_at").defaultNow(),updatedAt:fe("updated_at").defaultNow()},t=>[ny("idx_audio_progress_user_book_chapter").on(t.userId,t.book,t.chapter)]);Ot(Yde).omit({id:!0,createdAt:!0,updatedAt:!0});function ws(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Zde(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Rp=43200,OE=1440;let eue={};function tue(){return eue}function IE(t){const e=ws(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ug(t,e){const r=ws(t),s=ws(e),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function rue(t){return Zde(t,Date.now())}function sue(t,e){const r=ws(t),s=ws(e),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function nue(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function aue(t,e){return+ws(t)-+ws(e)}function iue(t){const e=ws(t);return e.setHours(23,59,59,999),e}function oue(t){const e=ws(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function lue(t){const e=ws(t);return+iue(e)==+oue(e)}function cue(t,e){const r=ws(t),s=ws(e),a=ug(r,s),i=Math.abs(sue(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=ug(r,s)===-a;lue(ws(t))&&i===1&&ug(t,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function due(t,e,r){const s=aue(t,e)/1e3;return nue(r==null?void 0:r.roundingMethod)(s)}const uue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hue=(t,e,r)=>{let s;const a=uue[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Md(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gue={date:Md({formats:fue,defaultWidth:"full"}),time:Md({formats:mue,defaultWidth:"full"}),dateTime:Md({formats:pue,defaultWidth:"full"})},xue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vue=(t,e,r,s)=>xue[t];function Ya(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const yue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_ue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sue=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kue={ordinalNumber:Sue,era:Ya({values:yue,defaultWidth:"wide"}),quarter:Ya({values:bue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ya({values:wue,defaultWidth:"wide"}),day:Ya({values:jue,defaultWidth:"wide"}),dayPeriod:Ya({values:Nue,defaultWidth:"wide",formattingValues:_ue,defaultFormattingWidth:"wide"})};function Za(t){return(e,r={})=>{const s=r.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Eue(l,h=>h.test(o)):Cue(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Cue(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Eue(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function I8(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Pue=/^(\d+)(th|st|nd|rd)?/i,Tue=/\d+/i,Aue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rue={any:[/^b/i,/^(a|c)/i]},Oue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Iue={any:[/1/i,/2/i,/3/i,/4/i]},Due={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$ue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bue={ordinalNumber:I8({matchPattern:Pue,parsePattern:Tue,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Rue,defaultParseWidth:"any"}),quarter:Za({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Mue,defaultParseWidth:"any"}),day:Za({matchPatterns:Lue,defaultMatchWidth:"wide",parsePatterns:$ue,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:Fue,defaultMatchWidth:"any",parsePatterns:Vue,defaultParseWidth:"any"})},zue={code:"en-US",formatDistance:hue,formatLong:gue,formatRelative:vue,localize:kue,match:Bue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Uue(t,e,r){const s=tue(),a=(r==null?void 0:r.locale)??s.locale??zue,i=2520,o=ug(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=ws(e),d=ws(t)):(c=ws(t),d=ws(e));const u=due(d,c),h=(IE(d)-IE(c))/1e3,f=Math.round((u-h)/60);let g;if(f<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<OE){const b=Math.round(f/60);return a.formatDistance("aboutXHours",b,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Rp){const b=Math.round(f/OE);return a.formatDistance("xDays",b,l)}else if(f<Rp*2)return g=Math.round(f/Rp),a.formatDistance("aboutXMonths",g,l)}if(g=cue(d,c),g<12){const b=Math.round(f/Rp);return a.formatDistance("xMonths",b,l)}else{const b=g%12,x=Math.trunc(g/12);return b<3?a.formatDistance("aboutXYears",x,l):b<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function Ld(t,e){return Uue(t,rue(t),e)}const que={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Hue=(t,e,r)=>{let s;const a=que[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},Wue={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Kue={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Gue={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xue={date:Md({formats:Wue,defaultWidth:"full"}),time:Md({formats:Kue,defaultWidth:"full"}),dateTime:Md({formats:Gue,defaultWidth:"full"})},Que={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Jue=(t,e,r,s)=>{const a=Que[t];return typeof a=="function"?a(e):a},Yue={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Zue={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ehe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},the={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},rhe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},she={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},nhe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},ahe={ordinalNumber:nhe,era:Ya({values:Yue,defaultWidth:"wide"}),quarter:Ya({values:Zue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ya({values:ehe,defaultWidth:"wide"}),day:Ya({values:the,defaultWidth:"wide"}),dayPeriod:Ya({values:rhe,defaultWidth:"wide",formattingValues:she,defaultFormattingWidth:"wide"})},ihe=/^(\d+)[o]?/i,ohe=/\d+/i,lhe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},che={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},dhe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},uhe={any:[/1/i,/2/i,/3/i,/4/i]},hhe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},fhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},mhe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},phe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},ghe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},xhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},vhe={ordinalNumber:I8({matchPattern:ihe,parsePattern:ohe,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:lhe,defaultMatchWidth:"wide",parsePatterns:che,defaultParseWidth:"any"}),quarter:Za({matchPatterns:dhe,defaultMatchWidth:"wide",parsePatterns:uhe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:hhe,defaultMatchWidth:"wide",parsePatterns:fhe,defaultParseWidth:"any"}),day:Za({matchPatterns:mhe,defaultMatchWidth:"wide",parsePatterns:phe,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:ghe,defaultMatchWidth:"any",parsePatterns:xhe,defaultParseWidth:"any"})},$d={code:"pt-BR",formatDistance:Hue,formatLong:Xue,formatRelative:Jue,localize:ahe,match:vhe,options:{weekStartsOn:0,firstWeekContainsDate:1}},yhe=Bde.extend({title:Be().min(3,"O ttulo deve ter pelo menos 3 caracteres"),content:Be().min(5,"O contedo deve ter pelo menos 5 caracteres")}).omit({userId:!0});function bhe(){const{toast:t}=nr(),[e,r]=m.useState(!1),[s,a]=m.useState(!1),[i,o]=m.useState("active"),{data:l=[],isLoading:c,error:d}=Et({queryKey:["/api/prayers"],retry:2}),u=dn({resolver:un(yhe),defaultValues:{title:"",content:""}}),h=it({mutationFn:async z=>await Ze("POST","/api/prayers",z),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/prayers"]}),r(!1),u.reset(),v(null),_(0),t({title:"Orao registrada!",description:"Sua orao foi salva com sucesso."})},onError:z=>{t({title:"Erro ao registrar orao",description:z.message,variant:"destructive"})}}),f=it({mutationFn:async({id:z,isAnswered:Z})=>await Ze("PATCH",`/api/prayers/${z}`,{isAnswered:Z,answeredAt:Z?new Date().toISOString():null}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/prayers"]}),t({title:"Atualizado!",description:"Status da orao atualizado"})}}),g=it({mutationFn:async z=>await Ze("DELETE",`/api/prayers/${z}`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/prayers"]}),t({title:"Removido!",description:"Orao excluda"})}}),b=async z=>{let Z;y&&(Z=await new Promise(Se=>{const tt=new FileReader;tt.onloadend=()=>Se(tt.result),tt.readAsDataURL(y)})),h.mutate({...z,audioUrl:Z,audioDuration:N})},x=l.filter(z=>!z.isAnswered),j=l.filter(z=>z.isAnswered),[y,v]=m.useState(null),[N,_]=m.useState(0),[k,P]=m.useState(null),[C,T]=m.useState(!1),M=m.useRef(null),A=m.useRef([]),W=m.useRef(null),B=m.useRef(null),L=m.useRef(null),K=300,X=5,G=()=>{W.current&&(clearInterval(W.current),W.current=null),B.current&&(B.current.getTracks().forEach(z=>z.stop()),B.current=null)};m.useEffect(()=>()=>{G()},[]),m.useEffect(()=>{e||(s&&H(),G(),k&&URL.revokeObjectURL(k),v(null),P(null),_(0),T(!1))},[e]);const ae=async()=>{try{const z=await navigator.mediaDevices.getUserMedia({audio:!0});B.current=z;const Z=new MediaRecorder(z);M.current=Z,A.current=[],Z.ondataavailable=me=>{A.current.push(me.data)},Z.onstop=()=>{const me=new Blob(A.current,{type:"audio/webm;codecs=opus"});if(me.size/(1024*1024)>X)t({title:"udio muito grande",description:`O arquivo excede ${X}MB. Grave um udio mais curto.`,variant:"destructive"}),v(null),P(null);else{v(me);const tt=URL.createObjectURL(me);P(tt),t({title:"udio gravado!",description:"Oua o preview antes de salvar."})}G()},Z.start(),a(!0),_(0),W.current=window.setInterval(()=>{_(me=>{const Se=me+1;return Se>=K&&(H(),t({title:"Gravao finalizada",description:"Tempo mximo de 5 minutos atingido"})),Se})},1e3)}catch{t({title:"Erro",description:"Permisso de microfone negada",variant:"destructive"})}},H=()=>{M.current&&s&&(M.current.stop(),a(!1))};return c?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando oraes..."})]})}):d?n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx(Y,{className:"border-destructive",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10 mb-4",children:n.jsx(Ki,{className:"h-8 w-8 text-destructive"})}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Erro ao carregar oraes"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"No foi possvel carregar suas oraes. Tente novamente."}),n.jsx(D,{onClick:()=>window.location.reload(),"data-testid":"button-retry",children:"Tentar Novamente"})]})})})}):n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto p-6",children:[n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(ss,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-display text-4xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent","data-testid":"text-page-title",children:"Minhas Oraes"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Registre e acompanhe suas oraes"})]})]}),n.jsxs(oa,{open:e,onOpenChange:r,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{size:"lg",className:"rounded-xl h-12 px-6 shadow-lg shadow-primary/20","data-testid":"button-new-prayer",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),"Nova Orao"]})}),n.jsxs(Pn,{className:"rounded-2xl",children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Registrar Nova Orao"}),n.jsx(Rn,{children:"Escreva ou grave sua orao em udio"})]}),n.jsx(aa,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(b),className:"space-y-4",children:[n.jsx(Gt,{control:u.control,name:"title",render:({field:z})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Ttulo"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Pela sade da famlia",className:"rounded-xl","data-testid":"input-prayer-title",...z})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:u.control,name:"content",render:({field:z})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Contedo"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Escreva sua orao...",className:"min-h-[120px] rounded-xl","data-testid":"textarea-prayer-content",...z})}),n.jsx(ir,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Lt,{children:"Ou grave em udio"}),n.jsx("div",{className:"flex items-center gap-3",children:s?n.jsxs(D,{type:"button",variant:"destructive",className:"flex-1 rounded-xl",onClick:H,"data-testid":"button-stop-recording",children:[n.jsx(Jg,{className:"h-4 w-4 mr-2"}),"Parar Gravao"]}):n.jsxs(D,{type:"button",variant:"outline",className:"flex-1 rounded-xl",onClick:ae,"data-testid":"button-start-recording",children:[n.jsx(sb,{className:"h-4 w-4 mr-2"}),"Gravar Orao"]})}),s&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500 animate-pulse"}),n.jsxs("span",{children:["Gravando... ",Math.floor(N/60),":",String(N%60).padStart(2,"0")]})]}),y&&k&&n.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Preview da Gravao"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.floor(N/60),":",String(N%60).padStart(2,"0")]})]}),n.jsx("audio",{ref:L,controls:!0,className:"w-full h-8",src:k,onPlay:()=>T(!0),onPause:()=>T(!1),onEnded:()=>T(!1)}),n.jsxs(D,{type:"button",variant:"outline",size:"sm",className:"w-full rounded-xl",onClick:()=>{v(null),P(null),_(0)},children:[n.jsx(sb,{className:"h-3 w-3 mr-2"}),"Gravar Novamente"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(o2,{className:"h-4 w-4"}),n.jsx("span",{children:"Adicionar localizao (opcional)"})]}),n.jsxs(la,{children:[n.jsx(D,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>r(!1),"data-testid":"button-cancel-prayer",children:"Cancelar"}),n.jsxs(D,{type:"submit",className:"rounded-xl",disabled:h.isPending,"data-testid":"button-save-prayer",children:[h.isPending&&n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),h.isPending?"Salvando...":"Salvar Orao"]})]})]})})]})]})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-10",children:[{label:"Oraes Ativas",value:x.length,icon:Ki,color:"text-primary",testId:"text-active-prayers"},{label:"Respondidas",value:j.length,icon:os,color:"text-green-600",testId:"text-answered-prayers"},{label:"Total",value:l.length,icon:_r,color:"text-amber-600",testId:"text-total-prayers"}].map((z,Z)=>n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1+Z*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ge,{className:"text-sm font-medium text-muted-foreground",children:z.label}),n.jsx("div",{className:"p-2 rounded-xl bg-muted/50",children:n.jsx(z.icon,{className:`h-4 w-4 ${z.color}`})})]}),n.jsx(re,{children:n.jsx("div",{className:`text-3xl font-bold ${z.color}`,"data-testid":z.testId,children:z.value})})]})},z.label))}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:n.jsxs(cn,{value:i,onValueChange:o,children:[n.jsxs(Ks,{className:"mb-8 bg-muted/50 p-1.5 rounded-2xl h-auto",children:[n.jsxs(Ct,{value:"active",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-lg transition-all py-3 px-6","data-testid":"tab-active-prayers",children:["Ativas (",x.length,")"]}),n.jsxs(Ct,{value:"answered",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-lg transition-all py-3 px-6","data-testid":"tab-answered-prayers",children:["Respondidas (",j.length,")"]})]}),n.jsx(Mt,{value:"active",children:x.length===0?n.jsx(Y,{className:"rounded-2xl border-dashed border-none bg-muted/30",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-[2rem] bg-muted/50 mb-6",children:n.jsx(ss,{className:"h-10 w-10 text-muted-foreground"})}),n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Nenhuma orao ativa"}),n.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Registre sua primeira orao e acompanhe as bnos de Deus"}),n.jsxs(D,{className:"rounded-xl",onClick:()=>r(!0),children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Nova Orao"]})]})}):n.jsx("div",{className:"space-y-4",children:n.jsx(na,{mode:"popLayout",children:x.map((z,Z)=>n.jsx(ne.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:Z*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg group","data-testid":`card-prayer-${z.id}`,children:[n.jsx(he,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ge,{className:"text-xl font-bold mb-2 group-hover:text-primary transition-colors",children:z.title}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Di,{className:"h-3.5 w-3.5"}),Ld(new Date(z.createdAt),{addSuffix:!0,locale:$d})]}),z.location&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(o2,{className:"h-3.5 w-3.5"}),z.location.name||"Localizao salva"]})]})]}),n.jsx(ot,{variant:"secondary",className:"rounded-full px-3 py-1 font-bold text-[10px] uppercase tracking-widest",children:"Ativa"})]})}),n.jsxs(re,{children:[z.content&&n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:z.content}),z.audioUrl&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(sb,{className:"h-4 w-4 text-primary"})}),n.jsxs("span",{className:"text-sm font-medium",children:["Gravao de ",Math.floor((z.audioDuration||0)/60),":",String((z.audioDuration||0)%60).padStart(2,"0")]})]}),n.jsx("audio",{controls:!0,className:"w-full",src:z.audioUrl,"data-testid":`audio-prayer-${z.id}`})]})]}),n.jsxs(or,{className:"gap-3 pt-2",children:[n.jsxs(D,{variant:"default",size:"sm",className:"rounded-xl",onClick:()=>f.mutate({id:z.id,isAnswered:!0}),"data-testid":`button-mark-answered-${z.id}`,children:[n.jsx(as,{className:"h-4 w-4 mr-1"}),"Marcar Respondida"]}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-destructive/10",onClick:()=>g.mutate(z.id),"data-testid":`button-delete-prayer-${z.id}`,children:n.jsx(Ts,{className:"h-4 w-4 text-destructive/70"})})]})]})},z.id))})})}),n.jsx(Mt,{value:"answered",children:j.length===0?n.jsx(Y,{className:"rounded-2xl border-dashed border-none bg-muted/30",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-[2rem] bg-green-500/10 mb-6",children:n.jsx(os,{className:"h-10 w-10 text-green-600"})}),n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Nenhuma orao respondida ainda"}),n.jsx("p",{className:"text-muted-foreground max-w-md",children:"Quando Deus responder suas oraes, marque-as aqui para celebrar!"})]})}):n.jsx("div",{className:"space-y-4",children:n.jsx(na,{mode:"popLayout",children:j.map((z,Z)=>n.jsx(ne.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:Z*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-green-500/5 backdrop-blur-xl shadow-lg","data-testid":`card-answered-${z.id}`,children:[n.jsx(he,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ge,{className:"text-xl font-bold mb-2",children:z.title}),n.jsx("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(hv,{className:"h-3.5 w-3.5"}),"Respondida ",z.answeredAt&&Ld(new Date(z.answeredAt),{addSuffix:!0,locale:$d})]})})]}),n.jsx(ot,{className:"rounded-full px-3 py-1 bg-green-500/10 text-green-600 border-none font-bold text-[10px] uppercase tracking-widest",children:"Respondida"})]})}),z.content&&n.jsx(re,{children:n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:z.content})}),n.jsxs(or,{className:"gap-3 pt-2",children:[n.jsx(D,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>f.mutate({id:z.id,isAnswered:!1}),"data-testid":`button-unmark-answered-${z.id}`,children:"Mover para Ativas"}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-destructive/10",onClick:()=>g.mutate(z.id),"data-testid":`button-delete-answered-${z.id}`,children:n.jsx(Ts,{className:"h-4 w-4 text-destructive/70"})})]})]})},z.id))})})})]})})]})]})}var D8="AlertDialog",[whe,mpe]=Mr(D8,[BM]),no=BM(),M8=t=>{const{__scopeAlertDialog:e,...r}=t,s=no(e);return n.jsx(iN,{...s,...r,modal:!0})};M8.displayName=D8;var jhe="AlertDialogTrigger",Nhe=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=no(r);return n.jsx(oN,{...a,...s,ref:e})});Nhe.displayName=jhe;var _he="AlertDialogPortal",L8=t=>{const{__scopeAlertDialog:e,...r}=t,s=no(e);return n.jsx(lN,{...s,...r})};L8.displayName=_he;var She="AlertDialogOverlay",$8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=no(r);return n.jsx(pm,{...a,...s,ref:e})});$8.displayName=She;var Fd="AlertDialogContent",[khe,Che]=whe(Fd),Ehe=dD("AlertDialogContent"),F8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...a}=t,i=no(r),o=m.useRef(null),l=Qe(e,o),c=m.useRef(null);return n.jsx(ZJ,{contentName:Fd,titleName:V8,docsSlug:"alert-dialog",children:n.jsx(khe,{scope:r,cancelRef:c,children:n.jsxs(gm,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ue(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(Ehe,{children:s}),n.jsx(The,{contentRef:o})]})})})});F8.displayName=Fd;var V8="AlertDialogTitle",B8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=no(r);return n.jsx(xm,{...a,...s,ref:e})});B8.displayName=V8;var z8="AlertDialogDescription",U8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=no(r);return n.jsx(vm,{...a,...s,ref:e})});U8.displayName=z8;var Phe="AlertDialogAction",q8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=no(r);return n.jsx(ym,{...a,...s,ref:e})});q8.displayName=Phe;var H8="AlertDialogCancel",W8=m.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:a}=Che(H8,r),i=no(r),o=Qe(e,a);return n.jsx(ym,{...i,...s,ref:o})});W8.displayName=H8;var The=({contentRef:t})=>{const e=`\`${Fd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fd}\` by passing a \`${z8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Ahe=M8,Rhe=L8,K8=$8,G8=F8,X8=q8,Q8=W8,J8=B8,Y8=U8;const DE=Ahe,Ohe=Rhe,Z8=m.forwardRef(({className:t,...e},r)=>n.jsx(K8,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Z8.displayName=K8.displayName;const mj=m.forwardRef(({className:t,...e},r)=>n.jsxs(Ohe,{children:[n.jsx(Z8,{}),n.jsx(G8,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));mj.displayName=G8.displayName;const pj=({className:t,...e})=>n.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});pj.displayName="AlertDialogHeader";const gj=({className:t,...e})=>n.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});gj.displayName="AlertDialogFooter";const xj=m.forwardRef(({className:t,...e},r)=>n.jsx(J8,{ref:r,className:be("text-lg font-semibold",t),...e}));xj.displayName=J8.displayName;const vj=m.forwardRef(({className:t,...e},r)=>n.jsx(Y8,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));vj.displayName=Y8.displayName;const yj=m.forwardRef(({className:t,...e},r)=>n.jsx(X8,{ref:r,className:be(tN(),t),...e}));yj.displayName=X8.displayName;const bj=m.forwardRef(({className:t,...e},r)=>n.jsx(Q8,{ref:r,className:be(tN({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));bj.displayName=Q8.displayName;const Ihe="biblia-podcasts-offline",Gn="episodes",Dhe=1;class Mhe{constructor(){this.db=null}async init(){return new Promise((e,r)=>{const s=indexedDB.open(Ihe,Dhe);s.onerror=()=>r(s.error),s.onsuccess=()=>{this.db=s.result,e()},s.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(Gn)){const o=i.createObjectStore(Gn,{keyPath:"id"});o.createIndex("podcastId","podcastId",{unique:!1}),o.createIndex("downloadedAt","downloadedAt",{unique:!1})}}})}async saveEpisode(e){return this.db||await this.init(),new Promise((r,s)=>{const o=this.db.transaction([Gn],"readwrite").objectStore(Gn).put(e);o.onsuccess=()=>r(),o.onerror=()=>s(o.error)})}async getEpisode(e){return this.db||await this.init(),new Promise((r,s)=>{const o=this.db.transaction([Gn],"readonly").objectStore(Gn).get(e);o.onsuccess=()=>r(o.result||null),o.onerror=()=>s(o.error)})}async getAllEpisodes(){return this.db||await this.init(),new Promise((e,r)=>{const i=this.db.transaction([Gn],"readonly").objectStore(Gn).getAll();i.onsuccess=()=>e(i.result||[]),i.onerror=()=>r(i.error)})}async deleteEpisode(e){return this.db||await this.init(),new Promise((r,s)=>{const o=this.db.transaction([Gn],"readwrite").objectStore(Gn).delete(e);o.onsuccess=()=>r(),o.onerror=()=>s(o.error)})}async isDownloaded(e){return await this.getEpisode(e)!==null}async getStorageStats(){const e=await this.getAllEpisodes();return{count:e.length,totalSize:e.reduce((r,s)=>r+s.size,0)}}async clearAll(){return this.db||await this.init(),new Promise((e,r)=>{const i=this.db.transaction([Gn],"readwrite").objectStore(Gn).clear();i.onsuccess=()=>e(),i.onerror=()=>r(i.error)})}}const Lhe=new Mhe,$he=["Gnesis","xodo","Levtico","Nmeros","Deuteronmio","Josu","Juzes","Rute","1 Samuel","2 Samuel","1 Reis","2 Reis","1 Crnicas","2 Crnicas","Esdras","Neemias","Ester","J","Salmos","Provrbios","Eclesiastes","Cantares","Isaas","Jeremias","Lamentaes","Ezequiel","Daniel","Osias","Joel","Ams","Obadias","Jonas","Miquias","Naum","Habacuque","Sofonias","Ageu","Zacarias","Malaquias","Mateus","Marcos","Lucas","Joo","Atos","Romanos","1 Corntios","2 Corntios","Glatas","Efsios","Filipenses","Colossenses","1 Tessalonicenses","2 Tessalonicenses","1 Timteo","2 Timteo","Tito","Filemom","Hebreus","Tiago","1 Pedro","2 Pedro","1 Joo","2 Joo","3 Joo","Judas","Apocalipse"];function Fhe(){const[t,e]=m.useState(!1),[r,s]=m.useState(0),[a,i]=m.useState(0),[o,l]=m.useState(75),[c,d]=m.useState(null),[u,h]=m.useState(null),[f,g]=m.useState(!1),b=m.useRef(null),{toast:x}=nr(),[j,y]=m.useState(!1),[v,N]=m.useState(""),[_,k]=m.useState(""),[P,C]=m.useState("");m.useState(!1);const[T,M]=m.useState(!1),[A,W]=m.useState(null);m.useState(""),m.useState("");const[B,L]=m.useState(new Set);m.useState(new Set);const[K,X]=m.useState("grid"),[G,ae]=m.useState(!1),[H,z]=m.useState(new Set),[Z,me]=m.useState(!1);m.useEffect(()=>{async function se(){try{const rt=await Lhe.getAllEpisodes();L(new Set(rt.map(I=>I.id)))}catch(rt){console.error("Error loading downloaded episodes:",rt)}}se()},[]);const[Se,tt]=m.useState("discover"),{data:Pt=[]}=Et({queryKey:["/api/podcasts"]}),{data:Ae=[]}=Et({queryKey:["/api/podcasts/subscriptions"]}),{data:wt=[]}=Et({queryKey:["/api/podcasts/my"]}),we=it({mutationFn:async se=>Ze("POST",`/api/podcasts/${se}/subscribe`,{}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/podcasts/subscriptions"]}),x({title:"Inscrito!",description:"Voc agora segue este podcast"})}}),ht=it({mutationFn:async se=>Ze("DELETE",`/api/podcasts/${se}/subscribe`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/podcasts/subscriptions"]}),x({title:"Inscrio removida",description:"Voc no segue mais este podcast"})}}),ct=it({mutationFn:async se=>Ze("DELETE",`/api/podcasts/${se}`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/podcasts"]}),Ke.invalidateQueries({queryKey:["/api/podcasts/my"]}),x({title:"Podcast excludo"}),M(!1)}}),mt=it({mutationFn:async se=>await Promise.all(se.map(I=>Ze("DELETE",`/api/podcasts/${I}`))),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/podcasts"]}),Ke.invalidateQueries({queryKey:["/api/podcasts/my"]}),x({title:"Podcasts excludos",description:`${H.size} podcasts foram removidos`}),z(new Set),ae(!1),me(!1)},onError:()=>{x({title:"Erro ao excluir",description:"Alguns podcasts no puderam ser excludos",variant:"destructive"})}}),ut=se=>{z(rt=>{const I=new Set(rt);return I.has(se)?I.delete(se):I.add(se),I})},Je=()=>{const se=wt.map(rt=>rt.id);z(new Set(se))},ar=()=>{z(new Set),ae(!1)},jt=it({mutationFn:async se=>Ze("POST","/api/podcasts",se),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/podcasts"]}),Ke.invalidateQueries({queryKey:["/api/podcasts/my"]}),x({title:"Podcast criado!",description:"Seu podcast foi criado com sucesso"}),y(!1),qr()}}),qr=()=>{N(""),k(""),C("")};m.useEffect(()=>{const se=b.current;if(!se)return;const rt=()=>s(se.currentTime),I=()=>i(se.duration||0),R=()=>e(!1);return se.addEventListener("timeupdate",rt),se.addEventListener("loadedmetadata",I),se.addEventListener("ended",R),()=>{se.removeEventListener("timeupdate",rt),se.removeEventListener("loadedmetadata",I),se.removeEventListener("ended",R)}},[c]),m.useEffect(()=>{b.current&&(b.current.volume=o/100)},[o]);const xt=async(se,rt)=>{if(d(se),h(rt),se.audioData){b.current&&(b.current.src=se.audioData,b.current.play().catch(()=>e(!1)),e(!0));return}if(se.bookAbbrev&&se.chapterNumber){g(!0);try{const I=await wf(),R=await Xs(`/api/bible/audio/pt/nvi/${se.bookAbbrev}/${se.chapterNumber}`,{credentials:"include",headers:I});if(R.ok){const O=await R.blob(),de=URL.createObjectURL(O);b.current&&(b.current.src=de,b.current.play().catch(()=>e(!1)),e(!0))}}catch{x({title:"Erro de conexo",variant:"destructive"})}finally{g(!1)}}},Pr=()=>{!b.current||!c||(t?b.current.pause():b.current.play().catch(()=>{}),e(!t))},Hr=se=>{if(b.current){const rt=Math.max(0,Math.min(a,b.current.currentTime+se));b.current.currentTime=rt}},Jt=se=>{const rt=Math.floor(se/60),I=Math.floor(se%60);return`${rt}:${String(I).padStart(2,"0")}`};return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden pb-40",children:[n.jsx("audio",{ref:b,className:"hidden"}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-6",children:[n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(nb,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-display text-4xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"BbliaFS Rdio"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Contedos cristos integrados ao seu estudo"})]})]}),n.jsxs(oa,{open:j,onOpenChange:y,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{className:"rounded-xl h-12 px-6 shadow-lg shadow-primary/20",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),"Criar Podcast"]})}),n.jsxs(Pn,{className:"rounded-2xl",children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Criar Novo Podcast"}),n.jsx(Rn,{children:"Escolha um livro da Bblia para gerar episdios baseados na leitura bblica narrada."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{children:"Livro da Bblia *"}),n.jsxs(Mf,{value:P,onValueChange:C,children:[n.jsx(ju,{className:"rounded-xl h-12",children:n.jsx(Lf,{placeholder:"Selecione um livro..."})}),n.jsx(Nu,{children:$he.map(se=>n.jsx(xc,{value:se,children:se},se))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{children:"Ttulo do Podcast"}),n.jsx(ft,{placeholder:"Ex: Leitura de Romanos",className:"rounded-xl h-12",value:v,onChange:se=>N(se.target.value)})]})]}),n.jsxs(la,{children:[n.jsx(D,{variant:"outline",className:"rounded-xl",onClick:()=>y(!1),children:"Cancelar"}),n.jsx(D,{className:"rounded-xl",onClick:()=>jt.mutate({title:v.trim()||`Leitura de ${P}`,description:_,bibleBook:P}),disabled:jt.isPending||!P,children:jt.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):"Criar Podcast"})]})]})]})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-10",children:n.jsxs("div",{className:"relative max-w-xl",children:[n.jsx($o,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(ft,{placeholder:"Buscar podcasts ou episdios...",className:"pl-12 h-14 rounded-2xl bg-card/80 backdrop-blur-xl border-none shadow-lg text-lg"})]})}),n.jsxs(cn,{value:Se,onValueChange:tt,className:"space-y-8",children:[n.jsxs(Ks,{className:"bg-muted/50 p-1.5 rounded-2xl h-auto flex-wrap",children:[n.jsx(Ct,{value:"discover",className:"rounded-xl px-6 py-3 data-[state=active]:bg-background data-[state=active]:shadow-lg",children:"Descobrir"}),n.jsxs(Ct,{value:"subscriptions",className:"rounded-xl px-6 py-3 data-[state=active]:bg-background data-[state=active]:shadow-lg",children:["Inscries (",Ae.length,")"]}),n.jsxs(Ct,{value:"my-podcasts",className:"rounded-xl px-6 py-3 data-[state=active]:bg-background data-[state=active]:shadow-lg",children:["Meus Podcasts (",wt.length,")"]})]}),n.jsx(Mt,{value:"discover",children:n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(na,{mode:"popLayout",children:Pt.map((se,rt)=>{var I,R;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:rt*.05},children:n.jsxs(Y,{className:"rounded-[2rem] border-none bg-card/80 backdrop-blur-xl shadow-lg group overflow-hidden h-full flex flex-col",children:[n.jsxs("div",{className:"h-48 relative overflow-hidden bg-primary/10",children:[se.imageUrl?n.jsx("img",{src:se.imageUrl,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/20 to-accent/20",children:n.jsx(nb,{className:"h-16 w-16 text-primary/40"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-end",children:n.jsx(ot,{className:"rounded-full bg-white/20 backdrop-blur-md border-none text-white font-bold",children:se.category||"Leitura Bblica"})})]}),n.jsxs(he,{className:"pb-4 relative",children:[n.jsx("div",{className:"absolute top-4 right-4 z-10",children:n.jsxs(Iv,{children:[n.jsx(Dv,{asChild:!0,children:n.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full bg-black/20 backdrop-blur-md border border-white/20 hover:bg-black/40 text-white shadow-xl transition-all duration-300",children:n.jsx(wG,{className:"h-4 w-4"})})}),n.jsx(jm,{align:"end",className:"rounded-2xl p-2 border-none bg-card/95 backdrop-blur-xl shadow-2xl",children:n.jsxs(sa,{className:"text-destructive focus:text-destructive focus:bg-destructive/10 flex items-center gap-2 rounded-xl p-3 cursor-pointer transition-colors",onClick:O=>{O.stopPropagation(),W(se),M(!0)},children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-destructive/10 flex items-center justify-center",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-bold",children:"Excluir Rdio"}),n.jsx("span",{className:"text-[10px] opacity-70",children:"Ao permanente"})]})]})})]})}),n.jsx(ge,{className:"text-xl font-bold line-clamp-1 group-hover:text-primary transition-colors pr-10",children:se.title}),n.jsx(qe,{className:"line-clamp-2 text-sm leading-relaxed",children:se.description||"Sem descrio"})]}),n.jsxs(re,{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground font-bold uppercase tracking-wider",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(yp,{className:"h-3 w-3"})," ",((I=se.episodes)==null?void 0:I.length)||0," Episdios"]}),se.bibleBook&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ei,{className:"h-3 w-3"})," ",se.bibleBook]})]}),((R=se.episodes)==null?void 0:R.length)>0&&n.jsx("div",{className:"space-y-2",children:se.episodes.slice(0,2).map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50 hover:bg-primary/5 transition-colors cursor-pointer group/ep",onClick:()=>xt(O,se),children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-bold truncate group-hover/ep:text-primary",children:O.title}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[Jt(O.duration),B.has(O.id)&&n.jsx(ot,{variant:"secondary",className:"h-4 text-[8px] bg-green-500/10 text-green-600 border-none",children:"OFFLINE"})]})]}),n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center group-hover/ep:bg-primary group-hover/ep:text-white transition-all",children:n.jsx(eg,{className:"h-4 w-4 fill-current"})})]},O.id))})]}),n.jsxs(or,{className:"pt-0 border-t border-border/50 p-6 flex justify-between gap-4",children:[n.jsx(D,{variant:"ghost",className:"flex-1 rounded-xl h-11 font-bold group-hover:bg-primary group-hover:text-white transition-all",onClick:()=>{x({title:"Em breve",description:"Visualizao detalhada do podcast"})},children:"Ver Podcast"}),n.jsx(D,{size:"icon",variant:"ghost",className:"rounded-xl h-11 w-11 hover:bg-primary/10",onClick:()=>{Ae.some(de=>de.id===se.id)?ht.mutate(se.id):we.mutate(se.id)},disabled:we.isPending||ht.isPending,children:Ae.some(O=>O.id===se.id)?n.jsx(as,{className:"h-5 w-5 text-green-500"}):n.jsx(ls,{className:"h-5 w-5"})})]})]})},se.id)})})})}),n.jsx(Mt,{value:"subscriptions",children:n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(na,{mode:"popLayout",children:Ae.length>0?Ae.map((se,rt)=>{var I;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:rt*.05},children:n.jsxs(Y,{className:"rounded-[2rem] border-none bg-card/80 backdrop-blur-xl shadow-lg group overflow-hidden h-full flex flex-col",children:[n.jsxs("div",{className:"h-48 relative overflow-hidden bg-primary/10",children:[se.imageUrl?n.jsx("img",{src:se.imageUrl,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Pd,{className:"h-16 w-16 text-primary/40"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-end",children:n.jsx(ot,{className:"rounded-full bg-white/20 backdrop-blur-md border-none text-white font-bold",children:se.category||"Geral"})})]}),n.jsxs(he,{className:"pb-4",children:[n.jsx(ge,{className:"text-xl font-bold line-clamp-1 group-hover:text-primary transition-colors",children:se.title}),n.jsx(qe,{className:"line-clamp-2 text-sm leading-relaxed",children:se.description||"Sem descrio"})]}),n.jsx(re,{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground font-bold uppercase tracking-wider",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(yp,{className:"h-3 w-3"})," ",((I=se.episodes)==null?void 0:I.length)||0," Episdios"]}),se.bibleBook&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ei,{className:"h-3 w-3"})," ",se.bibleBook]})]})}),n.jsxs(or,{className:"pt-0 border-t border-border/50 p-6 flex justify-between gap-4",children:[n.jsx(D,{variant:"ghost",className:"flex-1 rounded-xl h-11 font-bold group-hover:bg-primary group-hover:text-white transition-all",onClick:()=>{x({title:"Em breve",description:"Visualizao detalhada do podcast"})},children:"Ver Podcast"}),n.jsx(D,{size:"icon",variant:"ghost",className:"rounded-xl h-11 w-11 hover:bg-destructive/10 text-destructive",onClick:()=>{W(se),M(!0)},children:n.jsx(Ts,{className:"h-5 w-5"})})]})]})},se.id)}):n.jsx("div",{className:"col-span-full py-20 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Voc ainda no se inscreveu em nenhum podcast."})})})})}),n.jsxs(Mt,{value:"my-podcasts",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center bg-muted/50 rounded-xl p-1",children:[n.jsx(D,{size:"icon",variant:K==="grid"?"default":"ghost",className:"rounded-lg h-9 w-9",onClick:()=>X("grid"),"data-testid":"button-view-grid",children:n.jsx(SG,{className:"h-4 w-4"})}),n.jsx(D,{size:"icon",variant:K==="list"?"default":"ghost",className:"rounded-lg h-9 w-9",onClick:()=>X("list"),"data-testid":"button-view-list",children:n.jsx(kG,{className:"h-4 w-4"})})]}),n.jsxs(D,{variant:G?"secondary":"outline",className:"rounded-xl h-9",onClick:()=>{G?ar():ae(!0)},"data-testid":"button-toggle-selection",children:[G?n.jsx(Mi,{className:"h-4 w-4 mr-2"}):n.jsx(IG,{className:"h-4 w-4 mr-2"}),G?"Cancelar":"Selecionar"]})]}),G&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(D,{variant:"outline",className:"rounded-xl h-9",onClick:Je,disabled:wt.length===0,"data-testid":"button-select-all",children:["Selecionar Tudo (",wt.length,")"]}),H.size>0&&n.jsxs(D,{variant:"destructive",className:"rounded-xl h-9",onClick:()=>me(!0),"data-testid":"button-delete-selected",children:[n.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Excluir (",H.size,")"]})]})]}),K==="grid"&&n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(na,{mode:"popLayout",children:wt.length>0?wt.map((se,rt)=>{var I;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:rt*.05},children:n.jsxs(Y,{className:`rounded-[2rem] border-none bg-card/80 backdrop-blur-xl shadow-lg group overflow-hidden h-full flex flex-col ${G&&H.has(se.id)?"ring-2 ring-primary":""}`,children:[n.jsxs("div",{className:"h-48 relative overflow-hidden bg-primary/10",children:[G&&n.jsx("div",{className:"absolute top-4 left-4 z-10 cursor-pointer",onClick:()=>ut(se.id),children:n.jsx("div",{className:`h-6 w-6 rounded-md border-2 flex items-center justify-center transition-colors ${H.has(se.id)?"bg-primary border-primary":"bg-white/80 border-white/50"}`,children:H.has(se.id)&&n.jsx(as,{className:"h-4 w-4 text-white"})})}),se.imageUrl?n.jsx("img",{src:se.imageUrl,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Pd,{className:"h-16 w-16 text-primary/40"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-end",children:n.jsx(ot,{className:"rounded-full bg-white/20 backdrop-blur-md border-none text-white font-bold",children:se.category||"Geral"})})]}),n.jsxs(he,{className:"pb-4",children:[n.jsx(ge,{className:"text-xl font-bold line-clamp-1 group-hover:text-primary transition-colors",children:se.title}),n.jsx(qe,{className:"line-clamp-2 text-sm leading-relaxed",children:se.description||"Sem descrio"})]}),n.jsx(re,{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground font-bold uppercase tracking-wider",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(yp,{className:"h-3 w-3"})," ",((I=se.episodes)==null?void 0:I.length)||0," Episdios"]}),se.bibleBook&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ei,{className:"h-3 w-3"})," ",se.bibleBook]})]})}),n.jsxs(or,{className:"pt-0 border-t border-border/50 p-6 flex justify-between gap-4",children:[n.jsx(D,{variant:"ghost",className:"flex-1 rounded-xl h-11 font-bold group-hover:bg-primary group-hover:text-white transition-all",children:"Gerenciar"}),!G&&n.jsx(D,{size:"icon",variant:"ghost",className:"rounded-xl h-11 w-11 hover:bg-destructive/10 text-destructive",onClick:()=>{W(se),M(!0)},children:n.jsx(Ts,{className:"h-5 w-5"})})]})]})},se.id)}):n.jsx("div",{className:"col-span-full py-20 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Voc ainda no criou nenhum podcast."})})})}),K==="list"&&n.jsx("div",{className:"space-y-3",children:n.jsx(na,{mode:"popLayout",children:wt.length>0?wt.map((se,rt)=>{var I;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:rt*.03},children:n.jsx(Y,{className:`rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-sm group overflow-hidden ${G&&H.has(se.id)?"ring-2 ring-primary":""}`,children:n.jsxs("div",{className:"flex items-center gap-4 p-4",children:[G&&n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:()=>ut(se.id),children:n.jsx("div",{className:`h-6 w-6 rounded-md border-2 flex items-center justify-center transition-colors ${H.has(se.id)?"bg-primary border-primary":"bg-muted border-border"}`,children:H.has(se.id)&&n.jsx(as,{className:"h-4 w-4 text-white"})})}),n.jsx("div",{className:"h-16 w-16 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0 overflow-hidden",children:se.imageUrl?n.jsx("img",{src:se.imageUrl,className:"w-full h-full object-cover"}):n.jsx(Pd,{className:"h-8 w-8 text-primary/40"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold text-lg line-clamp-1 group-hover:text-primary transition-colors",children:se.title}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:se.description||"Sem descrio"}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(yp,{className:"h-3 w-3"})," ",((I=se.episodes)==null?void 0:I.length)||0," Episdios"]}),se.bibleBook&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ei,{className:"h-3 w-3"})," ",se.bibleBook]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx(D,{variant:"ghost",className:"rounded-xl h-9 font-bold",children:"Gerenciar"}),!G&&n.jsx(D,{size:"icon",variant:"ghost",className:"rounded-xl h-9 w-9 hover:bg-destructive/10 text-destructive",onClick:()=>{W(se),M(!0)},children:n.jsx(Ts,{className:"h-4 w-4"})})]})]})})},se.id)}):n.jsx("div",{className:"py-20 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Voc ainda no criou nenhum podcast."})})})})]})]}),n.jsx(DE,{open:T,onOpenChange:M,children:n.jsxs(mj,{className:"rounded-[2.5rem] border-none bg-card/95 backdrop-blur-2xl shadow-2xl p-8 max-w-sm",children:[n.jsxs(pj,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-2",children:n.jsx(mv,{className:"h-10 w-10 text-destructive animate-pulse"})}),n.jsx(xj,{className:"text-2xl font-black text-center",children:"Excluir Rdio?"}),n.jsxs(vj,{className:"text-center text-base leading-relaxed",children:["Esta ao no pode ser desfeita. Isso excluir permanentemente o rdio",n.jsxs("span",{className:"block font-bold text-foreground mt-2",children:['"',A==null?void 0:A.title,'"']}),"e todos os seus episdios."]})]}),n.jsxs(gj,{className:"flex-col sm:flex-col gap-3 mt-8",children:[n.jsx(yj,{className:"w-full rounded-2xl h-14 bg-destructive text-destructive-foreground hover:bg-destructive/90 font-bold text-lg shadow-lg shadow-destructive/20",onClick:()=>{A&&ct.mutate(A.id)},disabled:ct.isPending,children:ct.isPending?n.jsx(Ge,{className:"h-6 w-6 animate-spin"}):"Sim, Excluir Tudo"}),n.jsx(bj,{className:"w-full rounded-2xl h-14 border-none bg-secondary hover:bg-secondary/80 font-bold text-lg m-0 transition-colors",children:"Manter Rdio"})]})]})}),n.jsx(DE,{open:Z,onOpenChange:me,children:n.jsxs(mj,{className:"rounded-2xl",children:[n.jsxs(pj,{children:[n.jsxs(xj,{children:["Excluir ",H.size," podcasts?"]}),n.jsxs(vj,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente",H.size===1?" o podcast selecionado":` os ${H.size} podcasts selecionados`," e todos os seus episdios."]})]}),n.jsxs(gj,{children:[n.jsx(bj,{className:"rounded-xl",children:"Cancelar"}),n.jsx(yj,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{mt.mutate(Array.from(H))},disabled:mt.isPending,children:mt.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):`Excluir ${H.size} podcasts`})]})]})})]}),n.jsx(na,{children:c&&n.jsx(ne.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 z-[100] md:bottom-6 md:left-6 md:right-6",children:n.jsx(Y,{className:"rounded-none md:rounded-[2.5rem] border-none bg-card/95 backdrop-blur-2xl shadow-2xl overflow-hidden max-w-5xl mx-auto border-t md:border border-white/10",children:n.jsxs("div",{className:"p-3 md:p-6 flex flex-col md:flex-row items-center gap-2 md:gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 w-full min-w-0",children:[n.jsx("div",{className:"h-12 w-12 md:h-20 md:w-20 rounded-xl md:rounded-2xl bg-primary/20 flex items-center justify-center flex-shrink-0 overflow-hidden shadow-lg",children:u!=null&&u.imageUrl?n.jsx("img",{src:u.imageUrl,className:"w-full h-full object-cover"}):n.jsx(nb,{className:"h-6 w-6 md:h-10 md:w-10 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-bold text-sm md:text-lg line-clamp-1",children:c.title}),n.jsx("p",{className:"text-xs md:text-sm text-muted-foreground font-medium line-clamp-1",children:u==null?void 0:u.title})]}),n.jsxs("div",{className:"flex md:hidden items-center",children:[n.jsx(D,{size:"icon",variant:"ghost",className:"h-10 w-10 rounded-full",onClick:Pr,children:f?n.jsx(Ge,{className:"h-5 w-5 animate-spin"}):t?n.jsx(Jg,{className:"h-5 w-5 fill-current"}):n.jsx(eg,{className:"h-5 w-5 fill-current"})}),n.jsx(D,{size:"icon",variant:"ghost",className:"h-10 w-10 rounded-full text-muted-foreground",onClick:()=>d(null),children:n.jsx(Mi,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1 md:gap-2 flex-1 w-full md:max-w-md",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",onClick:()=>Hr(-15),children:n.jsx(zD,{className:"h-5 w-5 fill-current"})}),n.jsx(D,{size:"icon",className:"h-14 w-14 rounded-full shadow-xl shadow-primary/20",onClick:Pr,children:f?n.jsx(Ge,{className:"h-6 w-6 animate-spin"}):t?n.jsx(Jg,{className:"h-6 w-6 fill-current"}):n.jsx(eg,{className:"h-6 w-6 fill-current"})}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",onClick:()=>Hr(15),children:n.jsx(UD,{className:"h-5 w-5 fill-current"})})]}),n.jsxs("div",{className:"w-full flex items-center gap-3 px-2 md:px-0",children:[n.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 md:w-10 text-right",children:Jt(r)}),n.jsx(Df,{value:[r],max:a||100,step:1,onValueChange:se=>{b.current&&(b.current.currentTime=se[0])},className:"flex-1"}),n.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 md:w-10",children:Jt(a)})]})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-4 w-40",children:[n.jsx(tg,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),n.jsx(Df,{value:[o],max:100,step:1,onValueChange:se=>l(se[0])})]}),n.jsx(D,{size:"icon",variant:"ghost",className:"hidden md:flex h-10 w-10 rounded-full text-muted-foreground ml-auto",onClick:()=>d(null),children:n.jsx(Mi,{className:"h-5 w-5"})})]})})})})]})}const Vhe=t=>{var o;const e=window.open("","_blank");if(!e)return;const r=t.objectives||[],s=t.questions||[],a=(o=t.scriptureReferences)==null?void 0:o[0],i=`
    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
      <meta charset="UTF-8">
      <title>${t.title} - BbliaFS</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
          font-family: 'Georgia', serif; 
          line-height: 1.6; 
          padding: 40px; 
          max-width: 800px; 
          margin: 0 auto;
          color: #1a1a1a;
        }
        .header { 
          text-align: center; 
          border-bottom: 2px solid #5711D9; 
          padding-bottom: 20px; 
          margin-bottom: 30px; 
        }
        .logo { 
          font-size: 24px; 
          font-weight: bold; 
          color: #5711D9; 
          margin-bottom: 10px; 
        }
        h1 { 
          font-size: 28px; 
          color: #1a1a1a; 
          margin-bottom: 10px; 
        }
        .scripture-base { 
          font-size: 18px; 
          color: #5711D9; 
          font-style: italic; 
        }
        .section { 
          margin-bottom: 25px; 
        }
        .section-title { 
          font-size: 16px; 
          font-weight: bold; 
          color: #5711D9; 
          border-bottom: 1px solid #e0e0e0; 
          padding-bottom: 5px; 
          margin-bottom: 10px; 
        }
        .description { 
          font-size: 14px; 
          color: #444; 
        }
        ul { 
          padding-left: 20px; 
        }
        li { 
          margin-bottom: 8px; 
        }
        .quiz-question { 
          background: #f5f5f5; 
          padding: 15px; 
          border-radius: 8px; 
          margin-bottom: 10px; 
        }
        .quiz-number { 
          font-weight: bold; 
          color: #5711D9; 
        }
        .footer { 
          margin-top: 40px; 
          text-align: center; 
          font-size: 12px; 
          color: #888; 
          border-top: 1px solid #e0e0e0; 
          padding-top: 20px; 
        }
        @media print {
          body { padding: 20px; }
          .no-print { display: none; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="logo">BbliaFS</div>
        <h1>${t.title}</h1>
        ${a?`<div class="scripture-base">${a.book} ${a.chapter}${a.verses?":"+a.verses:""}</div>`:""}
      </div>

      <div class="section">
        <div class="section-title">Descrio</div>
        <p class="description">${t.description||"Sem descrio"}</p>
      </div>

      ${r.length>0?`
        <div class="section">
          <div class="section-title">Objetivos da Aula</div>
          <ul>
            ${r.map(l=>`<li>${l}</li>`).join("")}
          </ul>
        </div>
      `:""}

      ${s.length>0?`
        <div class="section">
          <div class="section-title">Perguntas para Reflexo</div>
          ${s.map((l,c)=>`
            <div class="quiz-question">
              <span class="quiz-number">${c+1}.</span> ${l.question||l}
            </div>
          `).join("")}
        </div>
      `:""}

      <div class="footer">
        <p>Material gerado pelo BbliaFS | www.bibliafs.app</p>
        <p> 2026 - BbliaFS. Todos os direitos reservados. Desenvolvido por | <a href="https://fabrisite.com.br/" target="_blank">FabriSite</a></p>
      </div>

      <script>
        window.onload = function() { window.print(); }
      <\/script>
    </body>
    </html>
  `;e.document.write(i),e.document.close()},Bhe=yn({title:Be().min(5,"O ttulo deve ter pelo menos 5 caracteres"),description:Be().min(10,"A descrio deve ter pelo menos 10 caracteres"),scriptureBase:Be().min(1,"Digite o texto-base"),duration:vn().min(15,"Mnimo 15 minutos").max(300,"Mximo 300 minutos").optional(),objectives:Yh(Be()).optional(),discussionQuestions:Yh(Be()).optional(),applicationPoints:Yh(Be()).optional()});function zhe(){const{t}=Lr(),{toast:e}=nr(),{user:r}=Vn();r==null||r.subscriptionPlan;const[s,a]=m.useState(!1),[i,o]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState([]),[h,f]=m.useState(""),[g,b]=m.useState(""),[x,j]=m.useState([]),[y,v]=m.useState(""),[N,_]=m.useState(""),[k,P]=m.useState(null),[C,T]=m.useState(!1),[M,A]=m.useState("lessons"),[W,B]=m.useState([]),[L,K]=m.useState(""),[X,G]=m.useState(!1),[ae,H]=m.useState(null),[z,Z]=m.useState(0),[me,Se]=m.useState(0),[tt,Pt]=m.useState(!1),[Ae,wt]=m.useState(!1),[we,ht]=m.useState(""),ct=m.useRef(null),mt=m.useRef(null),{data:ut=[],isLoading:Je,error:ar}=Et({queryKey:["/api/teacher/lessons"],retry:2}),jt=dn({resolver:un(Bhe),defaultValues:{title:"",description:"",scriptureBase:"",duration:50,objectives:[],discussionQuestions:[],applicationPoints:[]}}),qr=()=>{l.trim()&&(o([...i,l.trim()]),c(""))},xt=ee=>{o(i.filter((He,je)=>je!==ee))},Pr=()=>{h.trim()&&g.trim()&&(u([...d,{title:h.trim(),content:g.trim()}]),f(""),b(""))},Hr=ee=>{u(d.filter((He,je)=>je!==ee))},Jt=()=>{y.trim()&&(j([...x,{question:y.trim(),answer:N.trim()||"Resposta ser preenchida aqui"}]),v(""),_(""))},se=ee=>{j(x.filter((He,je)=>je!==ee))};m.useEffect(()=>{var ee;(ee=ct.current)==null||ee.scrollIntoView({behavior:"smooth"})},[W]);const rt=async()=>{if(!L.trim())return;if(Ae){let je="Voc atingiu o limite de conversas.";we==="free"?je="Voc atingiu o limite de 3 conversas por dia. Assine um plano premium para mais conversas.":we==="monthly"||we==="annual"||we==="yearly"?je="Voc atingiu o limite mensal de conversas. Faa upgrade para Premium Plus.":we==="premium_plus"&&(je="Voc atingiu o limite mensal de conversas. Entre em contato para um plano customizado."),e({title:"Limite atingido",description:je,variant:"destructive"});return}const ee={role:"user",content:L},He=L;B(je=>[...je,ee]),K(""),G(!0);try{const Xe=await(await Ze("POST","/api/teacher/ask-assistant",{question:He,context:"Aula bblica"})).json();if(console.log("Resposta do assistente:",Xe),Xe.limitReached)throw wt(!0),new Error("Voc atingiu o limite de conversas.");if(!Xe||!Xe.answer)throw console.error("Resposta invlida:",Xe),new Error("Resposta vazia do assistente - tente novamente");if(Xe.conversationsUsed!==void 0&&(Z(Xe.conversationsUsed),Xe.conversationsLimit&&Se(Xe.conversationsLimit),Xe.plan&&ht(Xe.plan),Xe.conversationsLimit&&Xe.conversationsUsed>=Math.floor(Xe.conversationsLimit*.75)&&!tt)){Pt(!0);const Ft=Xe.conversationsLimit-Xe.conversationsUsed;let yr="";Xe.plan==="free"?yr="Assine um plano premium para mais conversas.":Xe.plan==="monthly"||Xe.plan==="annual"||Xe.plan==="yearly"?yr="Faa upgrade para Premium Plus para aumentar seu limite.":Xe.plan==="premium_plus"&&(yr="Entre em contato para um plano customizado."),e({title:`Prximo do limite (${Ft} conversas restantes)`,description:yr})}B(Ft=>[...Ft,{role:"assistant",content:Xe.answer}])}catch(je){console.error("Erro no assistente:",je),e({title:"Erro",description:je.message||"No foi possvel consultar o assistente IA",variant:"destructive"}),B(Xe=>Xe.slice(0,-1))}finally{G(!1)}},I=async()=>{var Xe,Ft,yr;const ee=jt.getValues("title"),He=jt.getValues("scriptureBase"),je=jt.getValues("duration")||50;if(!ee||!He){e({title:"Preencha os campos",description:"Digite o ttulo e texto-base para gerar contedo com IA",variant:"destructive"});return}T(!0);try{const Bn=await(await Ze("POST","/api/teacher/generate-lesson-content",{title:ee,scriptureBase:He,duration:je})).json();if(Bn.description&&jt.setValue("description",Bn.description),(Xe=Bn.objectives)!=null&&Xe.length&&o(Bn.objectives),(Ft=Bn.contentBlocks)!=null&&Ft.length&&u(Bn.contentBlocks),(yr=Bn.questions)!=null&&yr.length){const us=Bn.questions.map(ao=>typeof ao=="string"?{question:ao,answer:""}:ao);j(us)}setTimeout(()=>{var us;(us=mt.current)==null||us.scrollIntoView({behavior:"smooth",block:"center"})},300),e({title:"Contedo gerado!",description:"A IA sugeriu objetivos e perguntas para sua aula"})}catch(tn){e({title:"Erro ao gerar",description:tn.message||"Tente novamente ou preencha manualmente",variant:"destructive"})}finally{T(!1)}},R=it({mutationFn:async ee=>{const He={...ee,objectives:i,contentBlocks:d,questions:x.map((Xe,Ft)=>({id:`q-${Ft}`,question:typeof Xe=="string"?Xe:Xe.question,answer:typeof Xe=="string"?"":Xe.answer,options:[],correctAnswer:-1}))};return(await Ze("POST","/api/teacher/lessons",He)).json()},onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/teacher/lessons"]}),a(!1),jt.reset(),o([]),u([]),j([]),e({title:"Aula criada!",description:"Sua aula foi salva com sucesso."})},onError:ee=>{e({title:"Erro ao criar aula",description:ee.message,variant:"destructive"})}}),O=ee=>{ae?de.mutate(ee):R.mutate(ee)},de=it({mutationFn:async ee=>{const He={...ee,objectives:i,contentBlocks:d,questions:x.map((Xe,Ft)=>({id:`q-${Ft}`,question:typeof Xe=="string"?Xe:Xe.question,answer:typeof Xe=="string"?"":Xe.answer,options:[],correctAnswer:-1}))};return(await Ze("PATCH",`/api/teacher/lessons/${ae}`,He)).json()},onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/teacher/lessons"]}),H(null),a(!1),jt.reset(),o([]),u([]),j([]),e({title:"Aula atualizada!",description:"Alteraes salvas com sucesso."})},onError:ee=>{e({title:"Erro ao atualizar",description:ee.message,variant:"destructive"})}}),ve=it({mutationFn:async ee=>(await Ze("DELETE",`/api/teacher/lessons/${ee}`,{})).json(),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/teacher/lessons"]}),e({title:"Aula deletada!",description:"A aula foi removida com sucesso."})},onError:ee=>{e({title:"Erro ao deletar",description:ee.message,variant:"destructive"})}}),oe=ee=>{var je,Xe,Ft;const He=typeof((je=ee.scriptureReferences)==null?void 0:je[0])=="string"?ee.scriptureReferences[0]:((Ft=(Xe=ee.scriptureReferences)==null?void 0:Xe[0])==null?void 0:Ft.verses)||"";jt.reset({title:ee.title,description:ee.description||"",scriptureBase:He}),o(ee.objectives||[]),u(ee.contentBlocks||[]),j((ee.questions||[]).map(yr=>typeof yr=="string"?{question:yr,answer:""}:yr.question?{question:yr.question,answer:yr.answer||""}:{question:"",answer:""})),H(ee.id),a(!0)},Ne=ee=>{confirm("Tem certeza que deseja deletar esta aula?")&&ve.mutate(ee)},pt=()=>{a(!1),H(null),jt.reset(),o([]),u([]),j([]),f(""),b(""),P(null)},Bt=ut.filter(ee=>ee.isPublished),lr=ut.filter(ee=>!ee.isPublished);return Je?n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"max-w-7xl mx-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando aulas..."})]})})})}):ar?n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-7xl mx-auto p-6 text-center",children:[n.jsx("p",{className:"text-destructive",children:"Erro ao carregar aulas"}),n.jsx(Y,{className:"border-destructive",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10 mb-4",children:n.jsx(uu,{className:"h-8 w-8 text-destructive"})}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Erro ao carregar aulas"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"No foi possvel carregar suas aulas. Tente novamente."}),n.jsx(D,{onClick:()=>window.location.reload(),"data-testid":"button-retry",children:"Tentar Novamente"})]})})]})}):n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[150px] translate-x-1/2 -translate-y-1/2 pointer-events-none"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-amber-500/5 rounded-full blur-[150px] -translate-x-1/2 translate-y-1/2 pointer-events-none"}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6 relative z-10",children:[n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-12",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"font-display text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent flex items-center gap-4","data-testid":"text-page-title",children:[n.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-primary/70 shadow-2xl shadow-primary/20",children:n.jsx(uu,{className:"h-7 w-7 text-white"})}),t.teacherMode.title,n.jsx(_r,{className:"h-6 w-6 text-primary animate-pulse"})]}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-xl",children:"Crie aulas inspiradoras, gerencie seus alunos e potencialize seu ensino com IA"})]}),n.jsxs(oa,{open:s,onOpenChange:ee=>ee?a(!0):pt(),children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{size:"lg",className:"rounded-2xl h-14 px-8 shadow-xl shadow-primary/20","data-testid":"button-create-lesson",onClick:()=>a(!0),children:[n.jsx(ls,{className:"h-6 w-6 mr-2"}),t.teacherMode.new_lesson]})}),n.jsxs(Pn,{className:"max-w-3xl rounded-3xl border-none bg-card/95 backdrop-blur-2xl",children:[n.jsxs(Tn,{children:[n.jsx(An,{children:ae?"Editar Aula":"Criar Nova Aula"}),n.jsx(Rn,{children:"Monte uma aula completa com objetivos, perguntas e recursos"})]}),n.jsx(aa,{...jt,children:n.jsxs("form",{onSubmit:jt.handleSubmit(O),className:"space-y-4",children:[n.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-1 space-y-4",children:[n.jsx(Gt,{control:jt.control,name:"title",render:({field:ee})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:t.teacherMode.lesson_title}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: A Parbola do Filho Prdigo","data-testid":"input-lesson-title",...ee})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:jt.control,name:"description",render:({field:ee})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Descrio"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Breve descrio do tema da aula...","data-testid":"textarea-lesson-description",...ee})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:jt.control,name:"scriptureBase",render:({field:ee})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Texto-Base"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Lucas 15:11-32","data-testid":"input-scripture-base",...ee})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:jt.control,name:"duration",render:({field:ee})=>n.jsxs(Ut,{children:[n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Di,{className:"h-4 w-4"}),"Durao da Aula (minutos)"]}),n.jsx(qt,{children:n.jsx(ft,{type:"number",placeholder:"Ex: 50","data-testid":"input-lesson-duration",...ee,onChange:He=>ee.onChange(He.target.value?parseInt(He.target.value):void 0),value:ee.value||50})}),n.jsx(ir,{})]})}),n.jsx("div",{className:"flex justify-center pt-2",children:n.jsx(D,{type:"button",variant:"outline",onClick:I,disabled:C,className:"gap-2","data-testid":"button-generate-ai",children:C?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin"}),"Gerando com IA..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_r,{className:"h-4 w-4"}),"Gerar Contedo com IA"]})})}),n.jsxs("div",{ref:mt,className:"space-y-3 pt-4 border-t",children:[n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4"}),"Objetivos da Aula"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ft,{placeholder:"Ex: Compreender o amor incondicional do Pai",value:l,onChange:ee=>c(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(ee.preventDefault(),qr()),"data-testid":"input-new-objective"}),n.jsx(D,{type:"button",onClick:qr,size:"icon",variant:"outline","data-testid":"button-add-objective",children:n.jsx(ls,{className:"h-4 w-4"})})]}),i.length>0&&n.jsx("ul",{className:"space-y-2",children:i.map((ee,He)=>n.jsxs("li",{className:"flex items-center gap-2 p-2 bg-muted rounded-lg",children:[n.jsx(os,{className:"h-4 w-4 text-primary flex-shrink-0"}),n.jsx("span",{className:"flex-1 text-sm",children:ee}),n.jsx(D,{type:"button",size:"icon",variant:"ghost",onClick:()=>xt(He),className:"h-6 w-6","data-testid":`button-remove-objective-${He}`,children:n.jsx(Ts,{className:"h-3 w-3"})})]},He))})]}),n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Sr,{className:"h-4 w-4"}),"Contedo da Aula (Blocos Principais)"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ft,{placeholder:"Ttulo do bloco (ex: A Incarnao de Cristo)",value:h,onChange:ee=>f(ee.target.value),"data-testid":"input-block-title"}),n.jsx(Gs,{placeholder:"Contedo do bloco (pargrafos com versculos, exemplos e aplicaes)",value:g,onChange:ee=>b(ee.target.value),className:"min-h-24","data-testid":"textarea-block-content"}),n.jsxs(D,{type:"button",onClick:Pr,className:"w-full gap-2","data-testid":"button-add-block",children:[n.jsx(ls,{className:"h-4 w-4"}),"Adicionar Bloco de Contedo"]})]}),d.length>0&&n.jsx("ul",{className:"space-y-2",children:d.map((ee,He)=>n.jsx("li",{className:"p-3 bg-muted rounded-lg space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm mb-1",children:ee.title}),n.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:ee.content})]}),n.jsx(D,{type:"button",size:"icon",variant:"ghost",onClick:()=>Hr(He),className:"h-6 w-6 flex-shrink-0","data-testid":`button-remove-block-${He}`,children:n.jsx(Ts,{className:"h-3 w-3"})})]})},He))})]}),n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Nf,{className:"h-4 w-4"}),"Perguntas para Discusso com Gabarito"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ft,{placeholder:"Ex: O que significa ser um filho prdigo hoje?",value:y,onChange:ee=>v(ee.target.value),"data-testid":"input-new-question"}),n.jsx(Gs,{placeholder:"Resposta/Gabarito (2-3 frases com fundamentao bblica)",value:N,onChange:ee=>_(ee.target.value),className:"min-h-20","data-testid":"textarea-new-answer"}),n.jsxs(D,{type:"button",onClick:Jt,className:"w-full gap-2","data-testid":"button-add-question",children:[n.jsx(ls,{className:"h-4 w-4"}),"Adicionar Pergunta e Resposta"]})]}),x.length>0&&n.jsx("ul",{className:"space-y-2",children:x.map((ee,He)=>n.jsx("li",{className:"p-3 bg-muted rounded-lg space-y-2",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs font-bold flex-shrink-0 mt-0.5",children:He+1}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:ee.question}),n.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(k===He?null:He),className:"text-xs h-6","data-testid":`button-toggle-answer-${He}`,children:k===He?"Ocultar Resposta":"Ver Resposta"}),k===He&&n.jsx("div",{className:"p-2 bg-background rounded text-sm mt-2 border-l-2 border-primary",children:ee.answer})]}),n.jsx(D,{type:"button",size:"icon",variant:"ghost",onClick:()=>se(He),className:"h-6 w-6 flex-shrink-0","data-testid":`button-remove-question-${He}`,children:n.jsx(Ts,{className:"h-3 w-3"})})]})},He))})]})]}),n.jsxs(la,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:pt,"data-testid":"button-cancel-lesson",children:"Cancelar"}),n.jsx(D,{type:"submit",disabled:R.isPending||de.isPending,"data-testid":"button-save-lesson",children:R.isPending||de.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):ae?"Atualizar Aula":"Salvar Aula"})]})]})})]})]})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsx(cn,{value:M,onValueChange:ee=>A(ee),className:"mb-10",children:n.jsxs(Ks,{className:"grid w-full max-w-md grid-cols-2 mb-10 bg-muted/50 p-1.5 rounded-2xl h-auto",children:[n.jsxs(Ct,{value:"lessons","data-testid":"tab-lessons",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-lg transition-all py-4 text-base font-bold",children:[n.jsx(Sr,{className:"h-5 w-5 mr-2"}),"Minhas Aulas"]}),n.jsxs(Ct,{value:"assistant","data-testid":"tab-assistant",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-lg transition-all py-4 text-base font-bold",children:[n.jsx(Gg,{className:"h-5 w-5 mr-2"}),"Assistente IA"]})]})})}),M==="assistant"&&n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:n.jsxs(Y,{className:"rounded-[2.5rem] border-none bg-card/80 backdrop-blur-2xl shadow-2xl overflow-hidden flex flex-col h-[650px] mb-8",children:[n.jsx(he,{className:"bg-primary/5 p-6 md:p-8 border-b border-primary/10",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-2xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(Gg,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx(ge,{className:"text-2xl font-bold",children:"Assistente IA Teolgico"}),n.jsx(qe,{className:"text-base",children:"Pergunte sobre educao bblica, pedagogia e contedo"})]})]}),z>0&&me>0&&n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs(ot,{variant:"outline",className:"rounded-xl px-4 py-2 bg-background/50 border-primary/20 font-bold text-primary",children:[z,"/",me," Conversas"]}),tt&&!Ae&&n.jsx("span",{className:"text-xs text-amber-600",children:"Prximo do limite"}),Ae&&n.jsx("span",{className:"text-xs text-destructive font-bold",children:"Limite atingido"})]})]})}),n.jsx(re,{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:W.length===0?n.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-6",children:[n.jsx("div",{className:"p-6 rounded-[2rem] bg-muted/30",children:n.jsx(Ki,{className:"h-12 w-12 text-muted-foreground"})}),n.jsxs("div",{className:"max-w-md",children:[n.jsx("h4",{className:"font-bold text-xl mb-2",children:"Inicie uma conversa"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:'"Como posso explicar a graa de Deus para crianas de 7 anos?"'})]})]}):n.jsxs(n.Fragment,{children:[W.map((ee,He)=>n.jsx(ne.div,{initial:{opacity:0,y:10,x:ee.role==="user"?20:-20},animate:{opacity:1,y:0,x:0},className:`flex ${ee.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] p-5 rounded-[1.5rem] shadow-sm ${ee.role==="user"?"bg-primary text-white rounded-tr-none":"bg-muted/50 backdrop-blur-sm rounded-tl-none border border-border/50 text-foreground"}`,children:n.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:ee.content})})},He)),X&&n.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:n.jsxs("div",{className:"bg-muted/50 p-5 rounded-[1.5rem] rounded-tl-none flex items-center gap-3",children:[n.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"}),n.jsx("span",{className:"font-bold text-muted-foreground",children:"Pensando..."})]})}),n.jsx("div",{ref:ct})]})}),n.jsx(or,{className:"p-6 md:p-8 bg-background/50 backdrop-blur-xl border-t border-border/50",children:n.jsxs("div",{className:"flex gap-4 w-full",children:[n.jsx(ft,{placeholder:"Digite sua dvida teolgica...",value:L,onChange:ee=>K(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&rt(),className:"flex-1 rounded-2xl h-14 bg-muted/50 border-none px-6 text-lg",disabled:X,"data-testid":"input-assistant-question"}),n.jsx(D,{size:"icon",className:"h-14 w-14 rounded-2xl shadow-lg shadow-primary/20",onClick:rt,disabled:X||!L.trim(),"data-testid":"button-send-question",children:X?n.jsx(Ge,{className:"h-6 w-6 animate-spin"}):n.jsx(Ki,{className:"h-6 w-6"})})]})})]})}),M==="lessons"&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-10",children:[{title:"Total de Aulas",value:ut.length,icon:Sr,color:"text-primary",bg:"bg-primary/10",testId:"text-total-lessons"},{title:"Publicadas",value:Bt.length,icon:os,color:"text-green-500",bg:"bg-green-500/10"},{title:`${t.teacherMode.students} Ativos`,value:24,icon:As,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Taxa de Concluso",value:"87%",icon:a2,color:"text-amber-500",bg:"bg-amber-500/10"}].map((ee,He)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15+He*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsxs(he,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ge,{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:ee.title}),n.jsx("div",{className:`p-2 rounded-xl ${ee.bg}`,children:n.jsx(ee.icon,{className:`h-4 w-4 ${ee.color}`})})]}),n.jsx(re,{children:n.jsx("div",{className:`text-3xl md:text-4xl font-bold ${ee.color}`,"data-testid":ee.testId,children:ee.value})})]})},ee.title))}),M==="lessons"&&n.jsx(n.Fragment,{children:ut.length===0?n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:n.jsx(Y,{className:"rounded-[3rem] border-none bg-muted/20 backdrop-blur-sm",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-[2rem] bg-background shadow-inner mb-8",children:n.jsx(Sr,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("h3",{className:"font-bold text-2xl mb-4",children:"Nenhuma aula criada ainda"}),n.jsx("p",{className:"text-muted-foreground mb-10 max-w-md text-lg",children:"Crie sua primeira aula e comece a transformar vidas atravs do ensino bblico."}),n.jsxs(D,{size:"lg",className:"rounded-2xl h-14 px-10 font-bold shadow-xl shadow-primary/10",onClick:()=>a(!0),children:[n.jsx(ls,{className:"h-6 w-6 mr-2"}),"Criar Primeira Aula"]})]})})}):n.jsxs("div",{className:"space-y-10",children:[Bt.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2",children:[n.jsx(os,{className:"h-5 w-5 text-green-500"}),"Aulas Publicadas"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.jsx(na,{mode:"popLayout",children:Bt.map((ee,He)=>{var je,Xe,Ft,yr;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{delay:He*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg group h-full","data-testid":`card-lesson-${ee.id}`,children:[n.jsxs(he,{className:"pb-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[n.jsx(ge,{className:"text-xl font-bold group-hover:text-primary transition-colors line-clamp-2",children:ee.title}),n.jsx(ot,{className:"rounded-full px-3 py-1 bg-green-500/10 text-green-600 border-none font-bold text-[10px] uppercase tracking-widest shrink-0",children:"Publicada"})]}),n.jsx(qe,{className:"line-clamp-2",children:ee.description})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 text-primary font-bold",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(Sr,{className:"h-4 w-4"})}),(Xe=(je=ee.scriptureReferences)==null?void 0:je[0])==null?void 0:Xe.book," ",(yr=(Ft=ee.scriptureReferences)==null?void 0:Ft[0])==null?void 0:yr.chapter]}),ee.scheduledFor&&n.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-muted",children:n.jsx(hv,{className:"h-4 w-4"})}),"Aula Agendada"]}),n.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-muted",children:n.jsx(As,{className:"h-4 w-4"})}),"12 alunos participando"]})]})}),n.jsxs(or,{className:"pt-4 gap-2 flex-wrap",children:[n.jsxs(D,{variant:"outline",size:"sm",className:"rounded-xl",children:[n.jsx(a2,{className:"h-4 w-4 mr-1"}),t.teacherMode.progress]}),n.jsxs(D,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>Vhe(ee),"data-testid":"button-export-pdf",children:[n.jsx(B1,{className:"h-4 w-4 mr-1"}),"PDF"]}),n.jsx(D,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>oe(ee),"data-testid":`button-edit-lesson-${ee.id}`,children:"Editar"}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-destructive/10",onClick:()=>Ne(ee.id),"data-testid":`button-delete-lesson-${ee.id}`,children:n.jsx(Ts,{className:"h-4 w-4 text-destructive/70"})})]})]})},ee.id)})})})]}),lr.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2",children:[n.jsx(Aa,{className:"h-5 w-5 text-amber-500"}),"Rascunhos (",lr.length,")"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.jsx(na,{mode:"popLayout",children:lr.map((ee,He)=>n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{delay:He*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-muted/30 backdrop-blur-sm border-dashed group h-full",children:[n.jsx(he,{className:"pb-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsx(ge,{className:"text-xl font-bold group-hover:text-primary transition-colors",children:ee.title}),n.jsx(ot,{variant:"secondary",className:"rounded-full px-3 py-1 border-none font-bold text-[10px] uppercase tracking-widest shrink-0",children:"Rascunho"})]})}),n.jsxs(or,{className:"gap-3",children:[n.jsx(D,{className:"flex-1 rounded-xl h-11 font-bold",onClick:()=>oe(ee),"data-testid":`button-edit-draft-${ee.id}`,children:"Continuar Editando"}),n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-destructive/10",onClick:()=>Ne(ee.id),"data-testid":`button-delete-draft-${ee.id}`,children:n.jsx(Ts,{className:"h-4 w-4 text-destructive/70"})})]})]})},ee.id))})})]})]})})]})]})}const Uhe=zde.extend({verseReference:Be().min(1,"Digite a referncia do versculo"),verseText:Be().min(5,"Digite o texto do versculo"),note:Be().min(10,"A reflexo deve ter pelo menos 10 caracteres")}).omit({userId:!0});function qhe(){Vn();const{toast:t}=nr(),{t:e}=Lr(),[r,s]=m.useState(!1),{data:a=[],isLoading:i,error:o}=Et({queryKey:["/api/community/posts"],retry:2}),l=dn({resolver:un(Uhe),defaultValues:{verseReference:"",verseText:"",note:""}}),c=it({mutationFn:async h=>await Ze("POST","/api/community/posts",h),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/community/posts"]}),s(!1),l.reset(),t({title:"Publicado com sucesso!",description:"Seu post foi compartilhado com a comunidade."})},onError:h=>{t({title:"Erro ao publicar",description:h.message,variant:"destructive"})}}),d=it({mutationFn:async({postId:h,isLiked:f})=>f?await Ze("DELETE",`/api/community/posts/${h}/like`):await Ze("POST",`/api/community/posts/${h}/like`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/community/posts"]})}}),u=h=>{c.mutate(h)};return i?n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando posts..."})]})})})}):o?n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsx(Y,{className:"border-destructive",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10 mb-4",children:n.jsx(As,{className:"h-8 w-8 text-destructive"})}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Erro ao carregar posts"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"No foi possvel carregar os posts da comunidade. Tente novamente."}),n.jsx(D,{onClick:()=>window.location.reload(),"data-testid":"button-retry",children:"Tentar Novamente"})]})})})}):n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 sm:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"font-display text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 flex items-center gap-3 flex-wrap","data-testid":"text-page-title",children:[n.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-orange-700 flex-shrink-0",children:n.jsx(As,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.community.title]}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground",children:"Compartilhe insights e conecte-se com outros"})]}),n.jsxs(oa,{open:r,onOpenChange:s,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{size:"lg","data-testid":"button-create-post",className:"flex-shrink-0",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:e.community.post}),n.jsx("span",{className:"sm:hidden",children:"Post"})]})}),n.jsxs(Pn,{children:[n.jsxs(Tn,{children:[n.jsx(An,{children:e.community.what_studying}),n.jsx(Rn,{children:"Compartilhe um versculo e sua reflexo"})]}),n.jsx(aa,{...l,children:n.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[n.jsx(Gt,{control:l.control,name:"verseReference",render:({field:h})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:e.community.verse_reference}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Joo 3:16","data-testid":"input-verse-reference",...h})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:l.control,name:"verseText",render:({field:h})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Texto do Versculo"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Cole o texto do versculo...",className:"min-h-[100px] font-serif","data-testid":"textarea-verse-text",...h})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:l.control,name:"note",render:({field:h})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:e.community.your_reflection}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Compartilhe o que voc aprendeu ou como esse versculo te tocou...",className:"min-h-[120px]","data-testid":"textarea-post-note",...h})}),n.jsx(ir,{})]})}),n.jsxs(la,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-post",children:"Cancelar"}),n.jsx(D,{type:"submit",disabled:c.isPending,"data-testid":"button-publish-post",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Publicando..."]}):e.community.post})]})]})})]})]})]}),n.jsx(Y,{className:"mb-8 bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold text-primary",children:a.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Publicaes"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"127"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Membros Ativos"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"1.2k"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Conexes"})]})]})})}),n.jsx("div",{className:"space-y-6",children:a.length===0?n.jsx(Y,{className:"border-dashed",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-muted mb-4",children:n.jsx(As,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Nenhuma publicao ainda"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Seja o primeiro a compartilhar um estudo"}),n.jsxs(D,{onClick:()=>s(!0),children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Criar Primeira Publicao"]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(Y,{className:"bg-gradient-to-r from-purple-500/10 to-purple-500/5 border-purple-500/20",children:[n.jsx(he,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-purple-600"}),n.jsx("h3",{className:"font-semibold",children:"Sugesto da IA"})]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Conecte-se com outros que esto estudando temas similares:"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Li,{className:"h-10 w-10",children:n.jsx($i,{children:"MS"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Maria Silva"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Estudando Provrbios"})]}),n.jsx(D,{size:"sm",variant:"outline",children:"Conectar"})]})]})]}),a.map(h=>{var f,g,b,x,j,y;return n.jsxs(Y,{className:"hover-elevate","data-testid":`card-post-${h.id}`,children:[n.jsx(he,{children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(Li,{className:"h-10 w-10",children:[n.jsx(Go,{src:(f=h.user)==null?void 0:f.profileImageUrl}),n.jsx($i,{className:"bg-primary text-primary-foreground",children:((b=(g=h.user)==null?void 0:g.firstName)==null?void 0:b[0])||"U"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold",children:[(x=h.user)==null?void 0:x.firstName," ",(j=h.user)==null?void 0:j.lastName]}),n.jsx(ot,{variant:"secondary",className:"text-xs",children:(y=h.user)==null?void 0:y.level})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Ld(new Date(h.createdAt),{addSuffix:!0,locale:$d})})]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"border-l-4 border-l-primary pl-4 py-2 bg-muted/30 rounded-r",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Sr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-semibold text-sm",children:h.verseReference})]}),n.jsx("p",{className:"font-serif text-base leading-relaxed italic",children:h.verseText})]}),n.jsx("p",{className:"text-sm leading-relaxed",children:h.note})]}),n.jsx(vs,{}),n.jsx(or,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center gap-4 w-full",children:[n.jsxs(D,{variant:"ghost",size:"sm",className:"flex-1",onClick:()=>d.mutate({postId:h.id,isLiked:h.isLikedByCurrentUser||!1}),disabled:d.isPending,"data-testid":`button-like-post-${h.id}`,children:[n.jsx(ss,{className:`h-4 w-4 mr-2 ${h.isLikedByCurrentUser?"fill-red-500 text-red-500":""}`}),h.likeCount||0]}),n.jsxs(D,{variant:"ghost",size:"sm",className:"flex-1","data-testid":"button-comment-post",children:[n.jsx(So,{className:"h-4 w-4 mr-2"}),h.commentCount||0]}),n.jsxs(D,{variant:"ghost",size:"sm",className:"flex-1","data-testid":"button-share-post",children:[n.jsx(rl,{className:"h-4 w-4 mr-2"}),"Compartilhar"]})]})})]},h.id)})]})}),n.jsxs(Y,{className:"mt-8",children:[n.jsx(he,{children:n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(fv,{className:"h-5 w-5 text-primary"}),e.community.trending_topics]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-2",children:["F e Obras","Jejum Bblico","Perdo","Orao Eficaz"].map((h,f)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover-elevate cursor-pointer",children:[n.jsx("span",{className:"text-sm",children:h}),n.jsxs(ot,{variant:"secondary",children:[Math.floor(Math.random()*50)+10," posts"]})]},f))})})]})]})})}const Hhe="modulepreload",Whe=function(t){return"/"+t},ME={},wj=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Whe(c),c in ME)return;ME[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Hhe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var L_="Switch",[Khe,ppe]=Mr(L_),[Ghe,Xhe]=Khe(L_),ez=m.forwardRef((t,e)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,g]=m.useState(null),b=Qe(e,N=>g(N)),x=m.useRef(!1),j=f?u||!!f.closest("form"):!0,[y=!1,v]=Ds({prop:a,defaultProp:i,onChange:d});return n.jsxs(Ghe,{scope:r,checked:y,disabled:l,children:[n.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":sz(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:ue(t.onClick,N=>{v(_=>!_),j&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),j&&n.jsx(Qhe,{control:f,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});ez.displayName=L_;var tz="SwitchThumb",rz=m.forwardRef((t,e)=>{const{__scopeSwitch:r,...s}=t,a=Xhe(tz,r);return n.jsx(Pe.span,{"data-state":sz(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});rz.displayName=tz;var Qhe=t=>{const{control:e,checked:r,bubbles:s=!0,...a}=t,i=m.useRef(null),o=Em(r),l=um(e);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:s});h.call(c,r),c.dispatchEvent(f)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sz(t){return t?"checked":"unchecked"}var nz=ez,Jhe=rz;const Qn=m.forwardRef(({className:t,...e},r)=>n.jsx(nz,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:n.jsx(Jhe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qn.displayName=nz.displayName;var $_="Radio",[Yhe,az]=Mr($_),[Zhe,efe]=Yhe($_),iz=m.forwardRef((t,e)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=t,[h,f]=m.useState(null),g=Qe(e,j=>f(j)),b=m.useRef(!1),x=h?d||!!h.closest("form"):!0;return n.jsxs(Zhe,{scope:r,checked:a,disabled:o,children:[n.jsx(Pe.button,{type:"button",role:"radio","aria-checked":a,"data-state":cz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:ue(t.onClick,j=>{a||c==null||c(),x&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),x&&n.jsx(tfe,{control:h,bubbles:!b.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});iz.displayName=$_;var oz="RadioIndicator",lz=m.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:s,...a}=t,i=efe(oz,r);return n.jsx(Yr,{present:s||i.checked,children:n.jsx(Pe.span,{"data-state":cz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});lz.displayName=oz;var tfe=t=>{const{control:e,checked:r,bubbles:s=!0,...a}=t,i=m.useRef(null),o=Em(r),l=um(e);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:s});h.call(c,r),c.dispatchEvent(f)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cz(t){return t?"checked":"unchecked"}var rfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],F_="RadioGroup",[sfe,gpe]=Mr(F_,[Uu,az]),dz=Uu(),uz=az(),[nfe,afe]=sfe(F_),hz=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=t,g=dz(r),b=vl(d),[x,j]=Ds({prop:i,defaultProp:a,onChange:h});return n.jsx(nfe,{scope:r,name:s,required:o,disabled:l,value:x,onValueChange:j,children:n.jsx(uN,{asChild:!0,...g,orientation:c,dir:b,loop:u,children:n.jsx(Pe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...f,ref:e})})})});hz.displayName=F_;var fz="RadioGroupItem",mz=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:s,...a}=t,i=afe(fz,r),o=i.disabled||s,l=dz(r),c=uz(r),d=m.useRef(null),u=Qe(e,d),h=i.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const g=x=>{rfe.includes(x.key)&&(f.current=!0)},b=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),n.jsx(hN,{asChild:!0,...l,focusable:!o,active:h,children:n.jsx(iz,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:ue(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ue(a.onFocus,()=>{var g;f.current&&((g=d.current)==null||g.click())})})})});mz.displayName=fz;var ife="RadioGroupIndicator",pz=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...s}=t,a=uz(r);return n.jsx(lz,{...a,...s,ref:e})});pz.displayName=ife;var gz=hz,xz=mz,ofe=pz;const Om=m.forwardRef(({className:t,...e},r)=>n.jsx(gz,{className:be("grid gap-2",t),...e,ref:r}));Om.displayName=gz.displayName;const wc=m.forwardRef(({className:t,...e},r)=>n.jsx(xz,{ref:r,className:be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:n.jsx(ofe,{className:"flex items-center justify-center",children:n.jsx(FD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wc.displayName=xz.displayName;function lfe(){const{toast:t}=nr(),[e,r]=m.useState({isSupported:!1,isSubscribed:!1,isLoading:!0,permission:"default"});m.useEffect(()=>{(async()=>{if(!("serviceWorker"in navigator&&"PushManager"in window)){r(h=>({...h,isSupported:!1,isLoading:!1}));return}const d=Notification.permission;let u=!1;try{const h=await navigator.serviceWorker.getRegistration();h&&(u=!!await h.pushManager.getSubscription())}catch(h){console.error("[Push] Error checking subscription:",h)}r({isSupported:!0,isSubscribed:u,isLoading:!1,permission:d})})()},[]);const s=m.useCallback(async()=>{try{const l=await navigator.serviceWorker.register("/sw.js");return console.log("[Push] Service Worker registered"),l}catch(l){return console.error("[Push] Service Worker registration failed:",l),null}},[]),a=m.useCallback(async()=>{r(l=>({...l,isLoading:!0}));try{const l=await Notification.requestPermission();if(l!=="granted")return t({title:"Permisso negada",description:"Voc precisa permitir notificaes para receber lembretes.",variant:"destructive"}),r(f=>({...f,isLoading:!1,permission:l})),!1;const c=await Xs("/api/notifications/vapid-key");if(!c.ok)throw new Error("Push notifications not configured on server");const{publicKey:d}=await c.json();let u=await navigator.serviceWorker.getRegistration();if(!u){const f=await s();if(!f)throw new Error("Could not register service worker");u=f}const h=await u.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cfe(d)});return await Xs("/api/notifications/subscribe",{method:"POST",body:JSON.stringify({subscription:h}),headers:{"Content-Type":"application/json"},credentials:"include"}),t({title:"Notificaes ativadas",description:"Voc receber lembretes de leitura e orao."}),r(f=>({...f,isSubscribed:!0,isLoading:!1,permission:"granted"})),!0}catch(l){return console.error("[Push] Subscribe error:",l),t({title:"Erro ao ativar notificaes",description:l.message||"Tente novamente mais tarde.",variant:"destructive"}),r(c=>({...c,isLoading:!1})),!1}},[t,s]),i=m.useCallback(async()=>{r(l=>({...l,isLoading:!0}));try{const l=await navigator.serviceWorker.getRegistration();if(l){const c=await l.pushManager.getSubscription();c&&(await Xs("/api/notifications/unsubscribe",{method:"POST",body:JSON.stringify({endpoint:c.endpoint}),headers:{"Content-Type":"application/json"},credentials:"include"}),await c.unsubscribe())}return t({title:"Notificaes desativadas",description:"Voc no receber mais lembretes."}),r(c=>({...c,isSubscribed:!1,isLoading:!1})),!0}catch(l){return console.error("[Push] Unsubscribe error:",l),t({title:"Erro ao desativar notificaes",description:l.message||"Tente novamente.",variant:"destructive"}),r(c=>({...c,isLoading:!1})),!1}},[t]),o=m.useCallback(async()=>{try{return(await(await Xs("/api/notifications/test",{method:"POST",credentials:"include"})).json()).success?(t({title:"Notificao enviada",description:"Voc deve receber uma notificao de teste em instantes."}),!0):!1}catch{return t({title:"Erro",description:"No foi possvel enviar a notificao de teste.",variant:"destructive"}),!1}},[t]);return{...e,subscribe:a,unsubscribe:i,sendTestNotification:o}}function cfe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(r),a=new Uint8Array(s.length);for(let i=0;i<s.length;++i)a[i]=s.charCodeAt(i);return a}const LE=[{id:"classico",name:"Clssico",primary:"#5711D9",accent:"#FFD700",description:"Roxo premium + dourado"},{id:"noite_sagrada",name:"Noite Sagrada",primary:"#9D44C0",accent:"#E0E0E0",description:"Roxo neon + cinza claro"},{id:"luz_do_dia",name:"Luz do Dia",primary:"#00A0E3",accent:"#2C2C2C",description:"Azul celeste + cinza escuro"},{id:"terra_santa",name:"Terra Santa",primary:"#8B4513",accent:"#D4AF37",description:"Marrom suave + dourado antigo"}];function $E(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!e)return"0 0% 50%";let r=parseInt(e[1],16)/255,s=parseInt(e[2],16)/255,a=parseInt(e[3],16)/255;const i=Math.max(r,s,a),o=Math.min(r,s,a);let l=0,c=0,d=(i+o)/2;if(i!==o){const u=i-o;switch(c=d>.5?u/(2-i-o):u/(i+o),i){case r:l=((s-a)/u+(s<a?6:0))/6;break;case s:l=((a-r)/u+2)/6;break;case a:l=((r-s)/u+4)/6;break}}return`${Math.round(l*360)} ${Math.round(c*100)}% ${Math.round(d*100)}%`}function dfe(){const{language:t,setLanguage:e,t:r}=Lr(),s=[{id:"pt",name:"Portugus (Brasil)",flag:""},{id:"en",name:"English",flag:""},{id:"es",name:"Espaol",flag:""},{id:"nl",name:"Nederlands",flag:""}];return n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(Pi,{className:"h-5 w-5"}),"Idioma do Aplicativo"]}),n.jsx(qe,{children:"Escolha o idioma de sua preferncia"})]}),n.jsx(re,{children:n.jsx(Om,{value:t,onValueChange:a=>e(a),className:"grid grid-cols-2 gap-3",children:s.map(a=>n.jsxs(vt,{htmlFor:`lang-${a.id}`,className:"flex items-center gap-3 rounded-lg border-2 p-3 cursor-pointer hover-elevate transition-colors [&:has([data-state=checked])]:border-primary",children:[n.jsx("span",{className:"text-xl",children:a.flag}),n.jsx("span",{className:"font-medium text-sm",children:a.name}),n.jsx(wc,{value:a.id,id:`lang-${a.id}`,className:"sr-only"})]},a.id))})})]})}function ufe(){const{readingTheme:t,setReadingTheme:e}=cN(),r=[{id:"default",name:"Padro",bg:"bg-background",text:"text-foreground",description:"Tema do sistema"},{id:"sepia",name:"Spia",bg:"bg-[#f4ecd8]",text:"text-[#5c4b37]",description:"Tom quente e acolhedor"},{id:"paper",name:"Papel",bg:"bg-[#faf9f6]",text:"text-[#333333]",description:"Branco suave como papel"},{id:"night",name:"Noturno",bg:"bg-[#1a1a2e]",text:"text-[#e8e8e8]",description:"Ideal para leitura  noite"}];return n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(Sr,{className:"h-5 w-5"}),"Tema de Leitura"]}),n.jsx(qe,{children:"Escolha um tema de fundo para leitura da Bblia mais confortvel"})]}),n.jsx(re,{children:n.jsx(Om,{value:t,onValueChange:s=>e(s),className:"grid grid-cols-2 gap-4",children:r.map(s=>n.jsxs(vt,{htmlFor:`reading-${s.id}`,className:"flex flex-col items-center gap-3 rounded-2xl border-2 p-4 cursor-pointer hover-elevate transition-all [&:has([data-state=checked])]:border-primary [&:has([data-state=checked])]:bg-primary/5",children:[n.jsx("div",{className:`w-full h-24 rounded-xl ${s.bg} ${s.text} flex items-center justify-center font-serif text-sm border shadow-inner p-4 text-center overflow-hidden leading-tight`,children:'"Porque Deus amou o mundo..."'}),n.jsxs("div",{className:"text-center space-y-1",children:[n.jsx("p",{className:"font-bold text-sm tracking-tight",children:s.name}),n.jsx("p",{className:"text-[10px] leading-tight text-muted-foreground font-medium px-1",children:s.description})]}),n.jsx(wc,{value:s.id,id:`reading-${s.id}`,className:"sr-only"})]},s.id))})})]})}function FE(){var B;const{user:t}=Vn(),{toast:e}=nr(),[r,s]=m.useState((t==null?void 0:t.selectedTheme)||"classico"),[a,i]=m.useState(((B=t==null?void 0:t.customTheme)==null?void 0:B.primaryColor)||"#5711D9"),[o,l]=m.useState(16),{isSupported:c,isSubscribed:d,isLoading:u,permission:h,subscribe:f,unsubscribe:g,sendTestNotification:b}=lfe(),[x,j]=m.useState({readingReminders:!0,readingReminderTime:"08:00",prayerReminders:!0,prayerReminderTime:"07:00",dailyVerseNotification:!0,dailyVerseTime:"06:00",communityActivity:!1,teacherModeUpdates:!0,weekendOnly:!1,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),{data:y,isLoading:v}=Et({queryKey:["/api/notifications/preferences"],enabled:!!t});m.useEffect(()=>{y&&j(y)},[y]);const N=it({mutationFn:async L=>(await Ze("PATCH","/api/notifications/preferences",L)).json(),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/notifications/preferences"]}),e({title:"Preferncias salvas",description:"Suas configuraes de notificao foram atualizadas."})},onError:()=>{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}}),_=(L,K,X=!0)=>{const G={...x,[L]:K};j(G),X&&N.mutate({[L]:K})},k=L=>{const K=x[L];typeof K=="string"&&/^\d{2}:\d{2}$/.test(K)&&N.mutate({[L]:K})},[P,C]=m.useState(!1),T=async()=>{C(!0),await b(),C(!1)};m.useEffect(()=>{const L=document.documentElement;if(r==="custom"){const K=$E(a);L.style.setProperty("--primary",K),L.style.setProperty("--sidebar-primary",K),L.style.setProperty("--sidebar-accent-foreground",K)}else{const K=LE.find(X=>X.id===r);if(K){const X=$E(K.primary);L.style.setProperty("--primary",X),L.style.setProperty("--sidebar-primary",X),L.style.setProperty("--sidebar-accent-foreground",X)}}},[r,a]);const M=it({mutationFn:async L=>await(await Ze("PATCH","/api/settings/theme",L)).json(),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Tema salvo",description:"Suas preferncias foram atualizadas."})},onError:L=>{e({title:"Erro ao salvar tema",description:L.message||"Tente novamente.",variant:"destructive"})}}),A=()=>{if(!r){e({title:"Erro",description:"Selecione um tema primeiro.",variant:"destructive"});return}const L={selectedTheme:r||"classico"};r==="custom"&&(L.customTheme={name:"Personalizado",primaryColor:a,accentColor:"#FFFFFF",backgroundColor:"#FFFFFF"}),M.mutate(L)},W=async()=>{const{supabase:L}=await wj(async()=>{const{supabase:K}=await Promise.resolve().then(()=>uw);return{supabase:K}},void 0);await L.auth.signOut(),window.location.href="/login"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-amber-500/5 rounded-full blur-[150px]"}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-6 md:p-8",children:[n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[n.jsxs("h1",{className:"font-display text-4xl md:text-5xl font-extrabold mb-3 flex items-center gap-4 tracking-tight","data-testid":"text-page-title",children:[n.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-indigo-600 shadow-lg shadow-primary/30",children:n.jsx(fu,{className:"h-7 w-7 text-white"})}),"Configuraes"]}),n.jsx("p",{className:"text-lg text-muted-foreground font-medium",children:"Personalize sua experincia"})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:n.jsxs(cn,{defaultValue:"appearance",className:"space-y-8",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-4 bg-card/80 backdrop-blur-xl rounded-2xl p-1.5 shadow-lg border-none h-auto",children:[n.jsxs(Ct,{value:"appearance",className:"flex items-center gap-2 py-3 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-appearance",children:[n.jsx(EG,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:"Aparncia"})]}),n.jsxs(Ct,{value:"notifications",className:"flex items-center gap-2 py-3 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-notifications",children:[n.jsx(n2,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:"Notificaes"})]}),n.jsxs(Ct,{value:"account",className:"flex items-center gap-2 py-3 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-account",children:[n.jsx(pv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:"Conta"})]}),n.jsxs(Ct,{value:"privacy",className:"flex items-center gap-2 py-3 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-privacy",children:[n.jsx(da,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:"Privacidade"})]}),n.jsxs(Ct,{value:"feedback",className:"flex items-center gap-2 py-3 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-feedback",children:[n.jsx(hu,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Feedback"})]})]}),n.jsxs(Mt,{value:"appearance",className:"space-y-6",children:[n.jsxs(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Tema de Cores"}),n.jsx(qe,{children:"Escolha um tema predefinido ou crie seu prprio"})]}),n.jsx(re,{className:"space-y-6",children:n.jsxs(Om,{value:r,onValueChange:s,children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:LE.map(L=>n.jsx("div",{children:n.jsx(vt,{htmlFor:L.id,className:"flex flex-col items-start gap-3 rounded-lg border-2 p-4 cursor-pointer hover-elevate active-elevate-2 transition-colors [&:has([data-state=checked])]:border-primary",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-border",style:{backgroundColor:L.primary}}),n.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-border",style:{backgroundColor:L.accent}})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:L.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:L.description})]})]}),n.jsx(wc,{value:L.id,id:L.id})]})})},L.id))}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx(vt,{htmlFor:"custom",className:"flex flex-col gap-3 rounded-lg border-2 p-4 cursor-pointer hover-elevate [&:has([data-state=checked])]:border-primary",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:a,onChange:L=>i(L.target.value),className:"h-8 w-8 rounded-full cursor-pointer","data-testid":"input-custom-color"}),n.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-border bg-white"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Personalizado"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Escolha sua prpria cor"})]})]}),n.jsx(wc,{value:"custom",id:"custom"})]})})})]})}),n.jsx(or,{children:n.jsxs(D,{onClick:A,disabled:M.isPending,"data-testid":"button-save-theme",children:[n.jsx(as,{className:"h-4 w-4 mr-2"}),M.isPending?"Salvando...":"Salvar Tema"]})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Tamanho da Fonte"}),n.jsx(qe,{children:"Ajuste o tamanho do texto para leitura da Bblia"})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Df,{value:[o],onValueChange:([L])=>l(L),min:14,max:24,step:1,className:"w-full"}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Pequeno"}),n.jsxs("span",{className:"font-medium text-foreground",children:[o,"px"]}),n.jsx("span",{children:"Grande"})]}),n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsx("p",{className:"font-serif",style:{fontSize:`${o}px`},children:"Porque Deus amou ao mundo de tal maneira que deu o seu Filho unignito..."})})]})})]}),n.jsx(ufe,{})]}),n.jsxs(Mt,{value:"notifications",className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(xG,{className:"h-5 w-5"}),"Notificaes Push"]}),n.jsx(qe,{children:"Receba lembretes diretamente no seu dispositivo para leitura e orao"})]}),n.jsx(re,{className:"space-y-4",children:c?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-accent/30 hover:bg-accent/50 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(n2,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Status do Servio"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d?"Voc est inscrito para receber notificaes":"Receba lembretes de leitura e avisos"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[d?n.jsx(D,{variant:"outline",size:"sm",onClick:g,disabled:u,className:"text-destructive hover:text-destructive",children:"Desativar"}):n.jsx(D,{variant:"default",size:"sm",onClick:f,disabled:u,className:"bg-primary hover:bg-primary/90",children:"Ativar Agora"}),d&&n.jsx(D,{variant:"ghost",size:"sm",onClick:T,disabled:P,children:P?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):"Testar"})]})]})}):n.jsx("div",{className:"p-4 bg-muted rounded-lg text-muted-foreground",children:"Seu navegador no suporta notificaes push."})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Preferncias de Notificao"}),n.jsx(qe,{children:"Configure quando e quais lembretes deseja receber"})]}),n.jsx(re,{className:"space-y-6",children:v?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ge,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"reading-reminders",children:"Lembretes de Leitura"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes dirios para sua leitura bblica"})]}),n.jsx(Qn,{id:"reading-reminders",checked:x.readingReminders,onCheckedChange:L=>_("readingReminders",L),"data-testid":"switch-reading-reminders"})]}),x.readingReminders&&n.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[n.jsx(Di,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(vt,{htmlFor:"reading-time",className:"text-sm",children:"Horrio:"}),n.jsx(ft,{id:"reading-time",type:"time",value:x.readingReminderTime,onChange:L=>_("readingReminderTime",L.target.value,!1),onBlur:()=>k("readingReminderTime"),className:"w-32","data-testid":"input-reading-time"})]})]}),n.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"prayer-reminders",children:"Lembretes de Orao"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes para suas oraes ativas"})]}),n.jsx(Qn,{id:"prayer-reminders",checked:x.prayerReminders,onCheckedChange:L=>_("prayerReminders",L),"data-testid":"switch-prayer-reminders"})]}),x.prayerReminders&&n.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[n.jsx(Di,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(vt,{htmlFor:"prayer-time",className:"text-sm",children:"Horrio:"}),n.jsx(ft,{id:"prayer-time",type:"time",value:x.prayerReminderTime,onChange:L=>_("prayerReminderTime",L.target.value,!1),onBlur:()=>k("prayerReminderTime"),className:"w-32","data-testid":"input-prayer-time"})]})]}),n.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"daily-verse",children:"Versculo do Dia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba um versculo inspirador todas as manhs"})]}),n.jsx(Qn,{id:"daily-verse",checked:x.dailyVerseNotification,onCheckedChange:L=>_("dailyVerseNotification",L),"data-testid":"switch-daily-verse"})]}),x.dailyVerseNotification&&n.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[n.jsx(Di,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(vt,{htmlFor:"verse-time",className:"text-sm",children:"Horrio:"}),n.jsx(ft,{id:"verse-time",type:"time",value:x.dailyVerseTime,onChange:L=>_("dailyVerseTime",L.target.value,!1),onBlur:()=>k("dailyVerseTime"),className:"w-32","data-testid":"input-verse-time"})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pb-4 border-b",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"community-activity",children:"Atividade da Comunidade"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificaes de curtidas e comentrios"})]}),n.jsx(Qn,{id:"community-activity",checked:x.communityActivity,onCheckedChange:L=>_("communityActivity",L),"data-testid":"switch-community-activity"})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pb-4 border-b",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"teacher-mode",children:"Modo Professor"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Atualizaes sobre aulas e progresso dos alunos"})]}),n.jsx(Qn,{id:"teacher-mode",checked:x.teacherModeUpdates,onCheckedChange:L=>_("teacherModeUpdates",L),"data-testid":"switch-teacher-mode"})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{htmlFor:"weekend-only",children:"Apenas Fins de Semana"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receber lembretes apenas aos sbados e domingos"})]}),n.jsx(Qn,{id:"weekend-only",checked:x.weekendOnly,onCheckedChange:L=>_("weekendOnly",L),"data-testid":"switch-weekend-only"})]})]})})]})]}),n.jsxs(Mt,{value:"account",className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Informaes da Conta"}),n.jsx(qe,{children:"Gerencie seus dados pessoais"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(vt,{children:"Nome"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})]}),n.jsxs("div",{children:[n.jsx(vt,{children:"Email"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t==null?void 0:t.email})]}),n.jsxs("div",{children:[n.jsx(vt,{children:"Nvel"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:t==null?void 0:t.level})]})]})]}),n.jsx(dfe,{}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Plano de Assinatura"}),n.jsx(qe,{children:"Visualize seu plano atual e faa upgrade"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(vt,{children:"Plano Atual"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize font-semibold",children:(t==null?void 0:t.subscriptionPlan)==="free"?"Gratuito":(t==null?void 0:t.subscriptionPlan)==="monthly"?"Mensal":(t==null?void 0:t.subscriptionPlan)==="yearly"?"Anual":(t==null?void 0:t.subscriptionPlan)==="premium_plus"?"Premium Plus":(t==null?void 0:t.subscriptionPlan)||"Gratuito"})]}),(t==null?void 0:t.subscriptionExpiresAt)&&n.jsxs("div",{children:[n.jsx(vt,{children:"Vlido At"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(t.subscriptionExpiresAt).toLocaleDateString("pt-BR")})]})]}),n.jsx(or,{children:n.jsx(D,{onClick:()=>window.location.href="/planos","data-testid":"button-upgrade-plan",children:(t==null?void 0:t.subscriptionPlan)==="free"?"Fazer Upgrade":"Ver Planos"})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Modo Professor"}),n.jsx(qe,{children:"Ative recursos de ensino"})]}),n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{children:"Habilitar Modo Professor"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesso a criao de aulas e gerenciamento de alunos"})]}),n.jsx(Qn,{checked:(t==null?void 0:t.isTeacher)||!1,"data-testid":"switch-teacher-mode-enable"})]})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{className:"text-destructive",children:"Zona de Perigo"}),n.jsx(qe,{children:"Aes irreversveis"})]}),n.jsx(or,{children:n.jsxs(D,{variant:"destructive",onClick:W,"data-testid":"button-logout",children:[n.jsx(Sf,{className:"h-4 w-4 mr-2"}),"Sair da Conta"]})})]})]}),n.jsxs(Mt,{value:"privacy",className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Privacidade e Dados"}),n.jsx(qe,{children:"Controle seus dados e privacidade"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{children:"Perfil Pblico"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que outros vejam seu perfil e atividade"})]}),n.jsx(Qn,{defaultChecked:!0,"data-testid":"switch-public-profile"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(vt,{children:"Compartilhar Estatsticas"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Compartilhe seu progresso de leitura com a comunidade"})]}),n.jsx(Qn,{defaultChecked:!0,"data-testid":"switch-share-stats"})]})]}),n.jsxs(or,{className:"flex flex-col items-start gap-4",children:[n.jsx(D,{variant:"outline","data-testid":"button-export-data",children:"Exportar Meus Dados"}),n.jsx(D,{variant:"outline",className:"text-destructive","data-testid":"button-delete-account",children:"Excluir Minha Conta"})]})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsx(ge,{children:"Links teis"}),n.jsx(qe,{children:"Acesse informaes importantes"})]}),n.jsxs(re,{className:"space-y-2",children:[n.jsx(D,{variant:"ghost",className:"w-full justify-start text-primary underline-offset-4 hover:underline",onClick:()=>window.open("/terms","_blank"),"data-testid":"link-terms",children:"Termos de Uso"}),n.jsx(D,{variant:"ghost",className:"w-full justify-start text-primary underline-offset-4 hover:underline",onClick:()=>window.open("/privacy","_blank"),"data-testid":"link-privacy",children:"Poltica de Privacidade"}),n.jsx(D,{variant:"ghost",className:"w-full justify-start text-primary underline-offset-4 hover:underline",onClick:()=>window.open("/help","_blank"),"data-testid":"link-help",children:"Central de Ajuda"}),n.jsx(D,{variant:"ghost",className:"w-full justify-start text-primary underline-offset-4 hover:underline",onClick:()=>window.open("/contact","_blank"),"data-testid":"link-contact",children:"Falar com Suporte"})]})]})]}),n.jsx(Mt,{value:"feedback",className:"space-y-6",children:n.jsxs(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(hu,{className:"h-5 w-5"}),"Feedback"]}),n.jsx(qe,{children:"Sua opinio  muito importante para ns. Conte-nos como est sendo sua experincia."})]}),n.jsx(re,{className:"space-y-6",children:n.jsxs("div",{className:"p-6 bg-primary/5 rounded-2xl border border-primary/10",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Como est sua experincia?"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Em uma escala de 0 a 10, o quanto voc recomendaria o BbliaFS para um amigo?"}),n.jsx("div",{className:"flex justify-between gap-1 flex-wrap mb-8",children:[0,1,2,3,4,5,6,7,8,9,10].map(L=>n.jsx("button",{type:"button",onClick:()=>{const K=new CustomEvent("open-nps-score",{detail:{score:L}});window.dispatchEvent(K)},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full text-xs sm:text-sm font-bold bg-muted hover:bg-primary hover:text-primary-foreground transition-all transform hover:scale-110 shadow-sm",children:L},L))}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Sua participao  voluntria e nos ajuda a crescer. "}),n.jsx(D,{variant:"outline",className:"w-full rounded-xl py-6",onClick:()=>{const L=new CustomEvent("open-nps-dialog");window.dispatchEvent(L)},children:"Enviar feedback detalhado"})]})]})})]})})]})})]})]})}function hfe({currentImage:t,userName:e}){const r=m.useRef(null),[s,a]=m.useState(!1),[i,o]=m.useState(null);Vn();const{toast:l}=nr(),c=tv(),d=async f=>{var b;const g=(b=f.target.files)==null?void 0:b[0];if(g){if(!g.type.startsWith("image/")){l({title:"Erro",description:"Por favor, selecione uma imagem vlida",variant:"destructive"});return}if(g.size>5*1024*1024){l({title:"Erro",description:"A imagem deve ter menos de 5MB",variant:"destructive"});return}a(!0);try{const x=new FileReader;x.onload=async j=>{var v;const y=(v=j.target)==null?void 0:v.result;o(y);try{const N=await Xs("/api/profile/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:y})});if(!N.ok)throw new Error("Falha ao fazer upload");const _=await N.json();c.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Sucesso",description:"Foto de perfil atualizada com sucesso!"}),o(null)}catch(N){console.error("Upload error:",N),l({title:"Erro",description:"Falha ao fazer upload da imagem",variant:"destructive"})}},x.readAsDataURL(g)}finally{a(!1),r.current&&(r.current.value="")}}},u=i||t,h=e.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2);return n.jsxs("div",{className:"relative inline-block",children:[n.jsxs(Li,{className:"h-24 w-24 ring-4 ring-primary/20",children:[n.jsx(Go,{src:u||void 0}),n.jsx($i,{className:"bg-gradient-to-br from-primary to-accent text-primary-foreground text-3xl font-semibold",children:h})]}),n.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:d,className:"hidden","data-testid":"input-profile-image"}),n.jsx(D,{size:"sm",variant:"default",className:"absolute bottom-0 right-0 rounded-full h-10 w-10 p-0 shadow-lg",onClick:()=>{var f;return(f=r.current)==null?void 0:f.click()},disabled:s,"data-testid":"button-upload-image",children:s?n.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"}):i?n.jsx(Mi,{className:"h-5 w-5"}):n.jsx($G,{className:"h-5 w-5"})})]})}const VE={iniciante:{name:"Iniciante",next:"Crescendo",minXP:0,maxXP:100,color:"text-gray-600"},crescendo:{name:"Crescendo",next:"Discpulo",minXP:100,maxXP:500,color:"text-blue-600"},discipulo:{name:"Discpulo",next:"Professor",minXP:500,maxXP:1e3,color:"text-purple-600"},professor:{name:"Professor",next:"Mximo",minXP:1e3,maxXP:1e3,color:"text-gold-600"}};function BE(){var M,A,W;const{user:t,isLoading:e}=Vn(),{t:r}=Lr(),{toast:s}=nr(),[a,i]=m.useState("plans"),[o,l]=m.useState(!1),[c,d]=m.useState((t==null?void 0:t.firstName)||""),[u,h]=m.useState((t==null?void 0:t.lastName)||""),{data:f=[]}=Et({queryKey:["/api/reading-plans"],enabled:!!t}),{data:g=[]}=Et({queryKey:["/api/bible/highlights"],enabled:!!t}),{data:b=[]}=Et({queryKey:["/api/bible/notes"],enabled:!!t}),{data:x=[]}=Et({queryKey:["/api/bible/bookmarks"],enabled:!!t}),{data:j=[]}=Et({queryKey:["/api/prayers"],enabled:!!t}),{data:y=[]}=Et({queryKey:["/api/achievements/user"],enabled:!!t}),v=it({mutationFn:async()=>Ze("PATCH","/api/user/profile",{firstName:c,lastName:u}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/user"]}),l(!1),s({title:"Sucesso!",description:"Nome atualizado com sucesso"})},onError:()=>{s({title:"Erro",description:"No foi possvel atualizar o nome",variant:"destructive"})}}),N=it({mutationFn:async()=>Ze("POST","/api/subscriptions/cancel",{}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/user"]}),Ke.invalidateQueries({queryKey:["/api/subscriptions/status"]}),s({title:"Sucesso!",description:"Assinatura cancelada com sucesso"})},onError:()=>{s({title:"Erro",description:"No foi possvel cancelar a assinatura",variant:"destructive"})}});if(e)return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-muted-foreground",children:((M=r.common)==null?void 0:M.loading)||"Carregando..."})]})});if(!t&&!e)return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 flex items-center justify-center p-4",children:n.jsxs(Y,{className:"max-w-md w-full rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-2xl",children:[n.jsxs(he,{className:"text-center pt-8",children:[n.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:n.jsx(pv,{className:"h-10 w-10 text-primary"})}),n.jsx(ge,{className:"text-2xl font-black",children:((A=r.profile)==null?void 0:A.title)||"Meu Perfil"}),n.jsx(qe,{className:"text-base px-6",children:"Faa login para acessar suas conquistas, planos de leitura e configuraes personalizadas."})]}),n.jsx(re,{className:"flex justify-center pb-12 px-8",children:n.jsx(Te,{href:"/login",className:"w-full",children:n.jsx(D,{size:"lg",className:"w-full h-14 rounded-2xl font-black text-lg shadow-xl shadow-primary/20",children:"Entrar agora"})})})]})});if(!t)return null;const _=VE[t.level]||VE.iniciante,k=t.experiencePoints||0,P=(k-_.minXP)/(_.maxXP-_.minXP)*100,C=f.filter(B=>!B.isCompleted),T=f.filter(B=>B.isCompleted);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-amber-500/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-background/80 backdrop-blur-2xl border-b border-border/50 px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-share-profile-mobile",children:n.jsx(rl,{className:"h-5 w-5"})}),n.jsx(Te,{href:"/configuraes",children:n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-settings-mobile",children:n.jsx(fu,{className:"h-5 w-5"})})}),n.jsxs(Fo,{children:[n.jsx(Wh,{asChild:!0,children:n.jsx(D,{variant:"ghost",size:"icon","data-testid":"button-menu-mobile",children:n.jsx(bw,{className:"h-5 w-5"})})}),n.jsxs(Ti,{children:[n.jsxs(Ai,{children:[n.jsx(Ri,{children:"Menu"}),n.jsx(sx,{children:"Acesse informaes e recursos adicionais"})]}),n.jsxs("div",{className:"mt-6 space-y-2",children:[n.jsx(Te,{href:"/donate",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-donate",children:[n.jsx(ss,{className:"h-4 w-4 mr-3 fill-current text-pink-600"}),"Doar"]})}),n.jsx(vs,{}),n.jsx(Te,{href:"/help",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-help",children:[n.jsx(Nf,{className:"h-4 w-4 mr-3"}),"Ajuda e Suporte"]})}),n.jsx(Te,{href:"/about",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-about",children:[n.jsx(yw,{className:"h-4 w-4 mr-3"}),"Sobre o BbliaFS"]})}),n.jsx(Te,{href:"/terms",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-terms",children:[n.jsx(Aa,{className:"h-4 w-4 mr-3"}),"Termos de Uso"]})}),n.jsx(Te,{href:"/privacy",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-privacy",children:[n.jsx(da,{className:"h-4 w-4 mr-3"}),"Poltica de Privacidade"]})}),n.jsx(Te,{href:"/contact",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-contact",children:[n.jsx(li,{className:"h-4 w-4 mr-3"}),"Fale Conosco"]})}),n.jsx(vs,{}),n.jsxs(D,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:async()=>{const{supabase:B}=await wj(async()=>{const{supabase:L}=await Promise.resolve().then(()=>uw);return{supabase:L}},void 0);await B.auth.signOut(),window.location.href="/login"},"data-testid":"menu-logout",children:[n.jsx(Sf,{className:"h-4 w-4 mr-3"}),r.profile.logout]})]})]})]})]})}),n.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsx(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-xl",children:n.jsxs(re,{className:"pt-8 pb-8 px-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[n.jsx(hfe,{currentImage:t.profileImageUrl,userName:`${t.firstName} ${t.lastName}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-wrap",children:[n.jsxs("h1",{className:"font-display text-4xl font-extrabold tracking-tight","data-testid":"text-profile-name",children:[t.firstName," ",t.lastName]}),n.jsxs(oa,{open:o,onOpenChange:l,children:[n.jsx(Ji,{asChild:!0,children:n.jsx(D,{size:"icon",variant:"ghost","data-testid":"button-edit-name",children:n.jsx(DG,{className:"h-4 w-4"})})}),n.jsxs(Pn,{children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Editar Nome"}),n.jsx(Rn,{children:"Altere seu primeiro e ltimo nome"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"first-name",children:"Primeiro Nome"}),n.jsx(ft,{id:"first-name",value:c,onChange:B=>d(B.target.value),"data-testid":"input-first-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"last-name",children:"ltimo Nome"}),n.jsx(ft,{id:"last-name",value:u,onChange:B=>h(B.target.value),"data-testid":"input-last-name"})]})]}),n.jsxs(la,{children:[n.jsx(D,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(D,{onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-save-name",children:v.isPending?"Salvando...":"Salvar"})]})]})]}),t.isTeacher&&n.jsx(ot,{className:"bg-orange-500/10 text-orange-700 border-orange-200",children:"Professor"}),n.jsx(ot,{variant:"secondary",className:_.color,children:_.name})]}),n.jsx("p",{className:"text-muted-foreground mb-4",children:t.email}),t.subscriptionPlan&&t.subscriptionPlan!=="free"&&n.jsx("div",{className:"mb-4 p-3 bg-primary/5 rounded-lg",children:n.jsxs("p",{className:"text-sm",children:["Plano: ",n.jsx("span",{className:"font-semibold",children:t.subscriptionPlan==="monthly"?"Premium Mensal":t.subscriptionPlan==="yearly"?"Premium Anual":"Premium Plus"})]})}),n.jsxs("div",{className:"flex flex-wrap gap-4 md:gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:n.jsx(fv,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold",children:t.readingStreak||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.profile.reading_streak})]})]}),n.jsx(vs,{orientation:"vertical",className:"h-14 hidden md:block"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500/10",children:n.jsx(os,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold",children:T.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.plans.completedPlans})]})]}),n.jsx(vs,{orientation:"vertical",className:"h-14 hidden md:block"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-500/10",children:n.jsx(Hl,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold",children:y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.profile.achievements})]})]})]})]}),n.jsxs("div",{className:"hidden md:flex flex-row gap-2",children:[n.jsxs(D,{variant:"outline","data-testid":"button-share-profile",children:[n.jsx(rl,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),t.subscriptionPlan&&t.subscriptionPlan!=="free"&&n.jsxs(oa,{children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{variant:"destructive","data-testid":"button-cancel-subscription",children:[n.jsx(mv,{className:"h-4 w-4 mr-2"}),"Cancelar Plano"]})}),n.jsxs(Pn,{children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Cancelar Assinatura?"}),n.jsx(Rn,{children:"Tem certeza que deseja cancelar sua assinatura? Voc perder todos os benefcios premium."})]}),n.jsxs(la,{children:[n.jsx(D,{variant:"outline","data-testid":"button-cancel-dialog",children:"Voltar"}),n.jsx(D,{variant:"destructive",onClick:()=>N.mutate(),disabled:N.isPending,"data-testid":"button-confirm-cancel",children:N.isPending?"Cancelando...":"Sim, Cancelar"})]})]})]}),n.jsx(Te,{href:"/configuraes",children:n.jsx(D,{variant:"outline","data-testid":"button-settings",children:n.jsx(fu,{className:"h-4 w-4"})})}),n.jsxs(Fo,{children:[n.jsx(Wh,{asChild:!0,children:n.jsx(D,{variant:"outline","data-testid":"button-menu",children:n.jsx(bw,{className:"h-4 w-4"})})}),n.jsxs(Ti,{children:[n.jsxs(Ai,{children:[n.jsx(Ri,{children:"Menu"}),n.jsx(sx,{children:"Acesse informaes e recursos adicionais"})]}),n.jsxs("div",{className:"mt-6 space-y-2",children:[n.jsx(Te,{href:"/donate",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-donate",children:[n.jsx(ss,{className:"h-4 w-4 mr-3 fill-current text-pink-600"}),"Doar"]})}),n.jsx(vs,{}),n.jsx(Te,{href:"/help",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-help",children:[n.jsx(Nf,{className:"h-4 w-4 mr-3"}),"Ajuda e Suporte"]})}),n.jsx(Te,{href:"/about",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-about",children:[n.jsx(yw,{className:"h-4 w-4 mr-3"}),"Sobre o BbliaFS"]})}),n.jsx(Te,{href:"/terms",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-terms",children:[n.jsx(Aa,{className:"h-4 w-4 mr-3"}),"Termos de Uso"]})}),n.jsx(Te,{href:"/privacy",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-privacy",children:[n.jsx(da,{className:"h-4 w-4 mr-3"}),"Poltica de Privacidade"]})}),n.jsx(Te,{href:"/contact",children:n.jsxs(D,{variant:"ghost",className:"w-full justify-start","data-testid":"menu-contact",children:[n.jsx(li,{className:"h-4 w-4 mr-3"}),"Fale Conosco"]})}),n.jsx(vs,{}),n.jsxs(D,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:async()=>{const{supabase:B}=await wj(async()=>{const{supabase:L}=await Promise.resolve().then(()=>uw);return{supabase:L}},void 0);await B.auth.signOut(),window.location.href="/login"},"data-testid":"menu-logout",children:[n.jsx(Sf,{className:"h-4 w-4 mr-3"}),r.profile.logout]})]})]})]})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm font-medium",children:[r.progress.level," ",_.name]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[k," / ",_.maxXP," ",r.progress.xp]})]}),n.jsx(ii,{value:Math.min(P,100),className:"h-2"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Prximo nvel: ",_.next]})]})]})})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:n.jsxs(cn,{value:a,onValueChange:i,className:"w-full",children:[n.jsxs(Ks,{className:"grid w-full grid-cols-3 h-auto bg-card/80 backdrop-blur-xl rounded-2xl p-1.5 shadow-lg border-none","data-testid":"tabs-profile",children:[n.jsxs(Ct,{value:"plans",className:"flex-col gap-1.5 py-3.5 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-plans",children:[n.jsx(Sr,{className:"h-5 w-5"}),n.jsx("span",{className:"text-xs font-medium",children:r.profile.my_plans})]}),n.jsxs(Ct,{value:"prayers",className:"flex-col gap-1.5 py-3.5 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-prayers",children:[n.jsx(rb,{className:"h-5 w-5"}),n.jsx("span",{className:"text-xs font-medium",children:r.nav.prayers})]}),n.jsxs(Ct,{value:"donate",className:"flex-col gap-1.5 py-3.5 rounded-xl data-[state=active]:bg-primary/10 data-[state=active]:shadow-md transition-all","data-testid":"tab-donate",children:[n.jsx(ss,{className:"h-5 w-5"}),n.jsx("span",{className:"text-xs font-medium",children:"Doar"})]})]}),n.jsx(Mt,{value:"donate",className:"space-y-6 mt-6",children:n.jsxs(Y,{className:"rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-start gap-2",children:[n.jsx(ss,{className:"h-5 w-5 text-pink-600 fill-current mt-1 shrink-0"}),n.jsx("span",{children:"Sua doao mantm o BbliaFS 100% gratuito e ajuda a levar a Palavra a mais pessoas, em mais idiomas."})]}),n.jsxs(qe,{className:"mt-3",children:["Mas no  s isso: cada contribuio sustenta os desenvolvedores que trabalham incansavelmente  dia e noite  para aprimorar a experincia, corrigir bugs, adicionar recursos e tornar o app mais leve, rpido e acessvel para todos.",n.jsx("br",{}),n.jsx("br",{}),"Voc no est s doando. Voc est sendo parte da histria de quem busca a Palavra, onde quer que esteja."]})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsx(Te,{href:"/donate",children:n.jsxs(D,{className:"w-full",size:"lg","data-testid":"button-go-donate",children:[n.jsx(ss,{className:"h-4 w-4 mr-2 fill-current"}),"Fazer uma Doao"]})}),n.jsxs("div",{className:"pt-4 border-t space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Suas doaes ajudam em:"}),n.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),n.jsx("span",{children:"Manter o aplicativo gratuito para todos"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),n.jsx("span",{children:"Traduzir a Bblia para mais idiomas"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),n.jsx("span",{children:"Desenvolver novos recursos e melhorias"})]})]})]})]})]})}),n.jsx(Mt,{value:"activity",className:"space-y-6 mt-6 hidden",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Qg,{className:"h-5 w-5 text-yellow-600"}),"Destaques"]}),n.jsxs(qe,{children:[g.length," versculos destacados"]})]}),n.jsx(re,{children:g.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum destaque ainda"}):n.jsxs("div",{className:"space-y-3",children:[g.slice(0,5).map(B=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:[B.book," ",B.chapter,":",B.verse]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:B.color}}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(B.createdAt).toLocaleDateString()})]})]},B.id)),g.length>5&&n.jsx(Te,{href:"/favorites",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"p-0 h-auto text-primary",children:["Ver todos (",g.length,")"]})})]})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Aa,{className:"h-5 w-5 text-blue-600"}),"Notas"]}),n.jsxs(qe,{children:[b.length," notas criadas"]})]}),n.jsx(re,{children:b.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma nota ainda"}):n.jsxs("div",{className:"space-y-3",children:[b.slice(0,5).map(B=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:[B.book," ",B.chapter,B.verse?`:${B.verse}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:B.content})]},B.id)),b.length>5&&n.jsx(Te,{href:"/favorites",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"p-0 h-auto text-primary",children:["Ver todas (",b.length,")"]})})]})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Ei,{className:"h-5 w-5 text-green-600"}),"Favoritos"]}),n.jsxs(qe,{children:[x.length," favoritos salvos"]})]}),n.jsx(re,{children:x.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum favorito ainda"}):n.jsxs("div",{className:"space-y-3",children:[x.slice(0,5).map(B=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:[B.book," ",B.chapter,":",B.verse]}),B.note&&n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:B.note})]},B.id)),x.length>5&&n.jsx(Te,{href:"/favorites",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"p-0 h-auto text-primary",children:["Ver todos (",x.length,")"]})})]})})]})]})}),n.jsx(Mt,{value:"plans",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(Di,{className:"h-5 w-5 text-primary"}),r.plans.activePlans]}),n.jsxs(qe,{children:[C.length," plano",C.length!==1?"s":""," em andamento"]})]}),n.jsx(re,{children:C.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:r.plans.noActivePlans}),n.jsx(Te,{href:"/plans",children:n.jsx(D,{children:"Explorar Planos"})})]}):n.jsx("div",{className:"space-y-4",children:C.map(B=>{const L=Math.round((B.currentDay||1)/B.totalDays*100);return n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:B.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.plans.day," ",B.currentDay||1," de ",B.totalDays]})]}),n.jsxs(ot,{variant:"secondary",children:[L,"%"]})]}),n.jsx(ii,{value:L,className:"h-2"})]},B.id)})})})]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-5 w-5 text-green-600"}),r.plans.completedPlans]}),n.jsxs(qe,{children:[T.length," plano",T.length!==1?"s":""," finalizado",T.length!==1?"s":""]})]}),n.jsx(re,{children:T.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Complete seu primeiro plano para ver aqui!"}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:T.map(B=>n.jsxs("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-950/20",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm",children:B.title}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[B.totalDays," ",r.plans.days]})]}),n.jsx(os,{className:"h-5 w-5 text-green-600 shrink-0"})]}),B.completedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[r.plans.completedOn," ",new Date(B.completedAt).toLocaleDateString()]})]},B.id))})})]})]})}),n.jsx(Mt,{value:"achievements",className:"space-y-6 mt-6 hidden",children:n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(Hl,{className:"h-5 w-5 text-primary"}),r.profile.achievements]}),n.jsxs(qe,{children:[y.length," conquista",y.length!==1?"s":""," desbloqueada",y.length!==1?"s":""]})]}),n.jsxs(re,{children:[y.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Hl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Continue lendo a Bblia para desbloquear conquistas!"})]}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:y.map(B=>n.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20","data-testid":`achievement-${B.id}`,children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/20 shrink-0",children:n.jsx(Hl,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold mb-1",children:B.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:B.description}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["+",B.xpReward," XP"]})]})]},B.id))}),n.jsx("div",{className:"mt-6 pt-6 border-t",children:n.jsx(Te,{href:"/progress",children:n.jsx(D,{variant:"outline",className:"w-full",children:"Ver Todas as Conquistas"})})})]})]})}),n.jsx(Mt,{value:"prayers",className:"space-y-6 mt-6",children:n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-2",children:[n.jsx(rb,{className:"h-5 w-5 text-pink-600"}),"Dirio de Oraes"]}),n.jsxs(qe,{children:[j.length," orao",j.length!==1?"es":""," registrada",j.length!==1?"s":""]})]}),n.jsx(re,{children:j.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(rb,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma orao registrada ainda"}),n.jsx(Te,{href:"/prayers",children:n.jsx(D,{children:"Criar Orao"})})]}):n.jsxs("div",{className:"space-y-4",children:[j.slice(0,10).map(B=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold mb-1",children:B.title}),B.content&&n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:B.content}),B.isAnswered&&n.jsx("div",{className:"mt-2",children:n.jsx(ot,{className:"bg-green-500/10 text-green-700 border-green-200 text-xs",children:"Respondida"})})]})}),n.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:new Date(B.createdAt).toLocaleDateString()})]},B.id)),n.jsx(Te,{href:"/prayers",children:n.jsx(D,{variant:"outline",className:"w-full",children:"Ver Todas as Oraes"})})]})})]})}),n.jsx(Mt,{value:"stats",className:"space-y-6 mt-6 hidden",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(Y,{children:[n.jsx(he,{children:n.jsx(ge,{children:"Resumo Geral"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Membro desde"}),n.jsx("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]}),n.jsx(vs,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Tema Atual"}),n.jsx(ot,{variant:"secondary",className:"capitalize",children:((W=t.selectedTheme)==null?void 0:W.replace("_"," "))||"Clssico"})]}),n.jsx(vs,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total de XP"}),n.jsx("span",{className:"font-bold text-primary",children:k})]})]})]}),n.jsxs(Y,{children:[n.jsx(he,{children:n.jsx(ge,{children:"Atividades"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qg,{className:"h-4 w-4 text-yellow-600"}),n.jsx("span",{className:"text-sm",children:"Destaques"})]}),n.jsx("span",{className:"font-bold",children:g.length})]}),n.jsx(vs,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Aa,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm",children:"Notas"})]}),n.jsx("span",{className:"font-bold",children:b.length})]}),n.jsx(vs,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ei,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Favoritos"})]}),n.jsx("span",{className:"font-bold",children:x.length})]}),n.jsx(vs,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 text-pink-600"}),n.jsx("span",{className:"text-sm",children:"Oraes"})]}),n.jsx("span",{className:"font-bold",children:j.length})]})]})]})]})})]})})]})]})}function ffe(){const{t}=Lr();nr();const{isOnline:e,downloadedChapters:r,getStorageStats:s,clearAllOffline:a}=dN(),[i,o]=m.useState(null),[l,c]=m.useState(!0);m.useEffect(()=>{d()},[r]);const d=async()=>{c(!0);try{const f=await s();o(f)}catch(f){console.error("Error loading stats:",f)}finally{c(!1)}},u=f=>{if(f===0)return"0 B";const g=1024,b=["B","KB","MB","GB"],x=Math.floor(Math.log(f)/Math.log(g));return`${(f/Math.pow(g,x)).toFixed(2)} ${b[x]}`},h=async()=>{window.confirm("Tem certeza que deseja remover todo o contedo offline?")&&(await a(),await d())};return n.jsxs("div",{className:"container max-w-4xl mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:t.offline.title}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie o contedo disponvel para leitura sem internet"})]}),n.jsxs(ot,{variant:e?"default":"destructive",className:"gap-2",children:[e?n.jsx(BG,{className:"h-4 w-4"}):n.jsx(VG,{className:"h-4 w-4"}),e?"Online":"Offline"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Y,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(ge,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(gw,{className:"h-4 w-4"}),t.offline.chapters_saved]})}),n.jsx(re,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-chapters",children:(i==null?void 0:i.totalChapters)||0})})]}),n.jsxs(Y,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(ge,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(NG,{className:"h-4 w-4"}),t.offline.space_used]})}),n.jsx(re,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-storage-size",children:u((i==null?void 0:i.totalSize)||0)})})]}),n.jsxs(Y,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(ge,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(B1,{className:"h-4 w-4"}),t.offline.books_downloaded]})}),n.jsx(re,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-books",children:i?Object.keys(i.byBook).length:0})})]})]}),n.jsxs(Y,{children:[n.jsx(he,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ge,{children:"Contedo Baixado"}),n.jsxs(D,{variant:"destructive",size:"sm",onClick:h,disabled:!i||i.totalChapters===0,"data-testid":"button-clear-all",children:[n.jsx(Ts,{className:"h-4 w-4 mr-2"}),t.offline.clear_all]})]})}),n.jsx(re,{children:l?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):i&&i.totalChapters>0?n.jsx(kn,{className:"h-[400px]",children:n.jsx("div",{className:"space-y-4",children:Object.entries(i.byBook).map(([f,g])=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-medium",children:f.toUpperCase()}),n.jsxs(ot,{variant:"secondary",children:[g," captulos"]})]}),n.jsx(vs,{})]},f))})}):n.jsxs("div",{className:"text-center py-12 space-y-4",children:[n.jsx(gw,{className:"h-12 w-12 mx-auto text-muted-foreground"}),n.jsx("div",{className:"text-muted-foreground",children:"Nenhum contedo baixado ainda"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Baixe captulos para ler sem internet na pgina da Bblia"})]})})]}),n.jsxs(Y,{children:[n.jsx(he,{children:n.jsx(ge,{className:"text-base",children:"Como funciona?"})}),n.jsxs(re,{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsx("p",{children:" O modo offline permite ler a Bblia sem conexo com a internet"}),n.jsx("p",{children:" Use o boto de nuvem na pgina da Bblia para baixar captulos"}),n.jsx("p",{children:" O contedo fica salvo no seu dispositivo at voc remov-lo"}),n.jsx("p",{children:" Quando offline, o app carrega automaticamente o contedo salvo"})]})]})]})}var V_="Checkbox",[mfe,xpe]=Mr(V_),[pfe,gfe]=mfe(V_),vz=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,g]=m.useState(null),b=Qe(e,_=>g(_)),x=m.useRef(!1),j=f?u||!!f.closest("form"):!0,[y=!1,v]=Ds({prop:a,defaultProp:i,onChange:d}),N=m.useRef(y);return m.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const k=()=>v(N.current);return _.addEventListener("reset",k),()=>_.removeEventListener("reset",k)}},[f,v]),n.jsxs(pfe,{scope:r,state:y,disabled:l,children:[n.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":Yo(y)?"mixed":y,"aria-required":o,"data-state":wz(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onKeyDown:ue(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ue(t.onClick,_=>{v(k=>Yo(k)?!0:!k),j&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),j&&n.jsx(xfe,{control:f,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Yo(i)?!1:i})]})});vz.displayName=V_;var yz="CheckboxIndicator",bz=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...a}=t,i=gfe(yz,r);return n.jsx(Yr,{present:s||Yo(i.state)||i.state===!0,children:n.jsx(Pe.span,{"data-state":wz(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});bz.displayName=yz;var xfe=t=>{const{control:e,checked:r,bubbles:s=!0,defaultChecked:a,...i}=t,o=m.useRef(null),l=Em(r),c=um(e);m.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&g){const b=new Event("click",{bubbles:s});u.indeterminate=Yo(r),g.call(u,Yo(r)?!1:r),u.dispatchEvent(b)}},[l,r,s]);const d=m.useRef(Yo(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Yo(t){return t==="indeterminate"}function wz(t){return Yo(t)?"indeterminate":t?"checked":"unchecked"}var jz=vz,vfe=bz;const Nz=m.forwardRef(({className:t,...e},r)=>n.jsx(jz,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx(vfe,{className:be("flex items-center justify-center text-current"),children:n.jsx(as,{className:"h-4 w-4"})})}));Nz.displayName=jz.displayName;const yfe=[10,25,50,100],bfe=yn({amount:vn().min(5,"Valor mnimo  R$ 5").max(1e3,"Valor mximo  R$ 1000"),customAmount:Be().optional(),type:Jf(["one_time","recurring"]),destination:Jf(["app_operations","bible_translation"]),isAnonymous:Ku().default(!1),message:Be().optional(),currency:Be().default("brl")});function zE(){const{t}=Lr(),{toast:e}=nr(),[r,s]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState(!1);m.useEffect(()=>{const g=new URLSearchParams(window.location.search);g.get("success")==="true"?(l(!0),e({title:t.donate.success_title,description:t.donate.success_message}),window.history.replaceState({},"","/doar")):g.get("canceled")==="true"&&(e({title:"Doao cancelada",description:"Voc pode tentar novamente quando quiser."}),window.history.replaceState({},"","/doar"))},[]);const c=dn({resolver:un(bfe),defaultValues:{amount:25,type:"one_time",destination:"app_operations",isAnonymous:!1,currency:"brl"}}),d=c.watch("type"),u=c.watch("customAmount"),h=it({mutationFn:async g=>(await Ze("POST","/api/donations/checkout",g)).json()}),f=async g=>{try{i(!0);const b=r===-1&&u?parseFloat(u):r||g.amount;if(!b||b<5){e({title:"Erro",description:"Valor mnimo para doao  R$ 5",variant:"destructive"});return}if(b>1e3){e({title:"Erro",description:"Valor mximo para doao  R$ 1000",variant:"destructive"});return}const{url:x,error:j}=await h.mutateAsync({amount:Math.round(b*100),currency:g.currency,type:g.type,destination:g.destination,isAnonymous:g.isAnonymous,message:g.message});if(j){e({title:t.donate.error_title,description:j,variant:"destructive"});return}x&&window.open(x,"_blank")}catch(b){console.error("Error creating checkout session:",b),e({title:t.donate.error_title,description:b.message||"Erro ao iniciar pagamento",variant:"destructive"})}finally{i(!1)}};return o?n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:n.jsxs(Y,{className:"max-w-md w-full",children:[n.jsxs(he,{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(os,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),n.jsx(ge,{children:t.donate.success_title}),n.jsx(qe,{children:t.donate.success_message})]}),n.jsx(re,{children:n.jsx(D,{onClick:()=>l(!1),className:"w-full","data-testid":"button-donate-another",children:"Fazer outra doao"})})]})}):n.jsx("div",{className:"min-h-screen p-4 sm:p-6 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(ss,{className:"h-8 w-8 text-primary fill-primary"})})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t.donate.title}),n.jsx("div",{className:"text-muted-foreground text-base space-y-3 max-w-2xl mx-auto",children:n.jsx("p",{className:"font-semibold text-foreground",children:"Faa parte dessa misso. Doe agora e transforme vidas atravs da Palavra!"})})]}),n.jsx(Y,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(da,{className:"h-6 w-6 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[n.jsx(Wi,{className:"h-4 w-4"}),"Pagamento 100% Seguro"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Seus dados de carto ",n.jsx("strong",{children:"nunca passam pelo nosso servidor"}),". O pagamento  processado diretamente pelo Stripe, a plataforma de pagamentos mais segura do mundo, usada por empresas como Amazon e Google."]}),n.jsxs("ul",{className:"text-xs text-muted-foreground mt-2 space-y-1",children:[n.jsx("li",{children:" Criptografia de ponta a ponta (SSL/TLS)"}),n.jsx("li",{children:" Certificao PCI DSS Nvel 1 (mxima segurana)"}),n.jsx("li",{children:" Valores validados no servidor (impossvel alterar)"}),n.jsx("li",{children:" Nenhum dado de carto armazenado"})]})]})]})})}),n.jsx("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:n.jsxs(Y,{"data-testid":"card-donation-form",children:[n.jsx(he,{children:n.jsx(ge,{children:t.donate.amount})}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs(vt,{children:[t.donate.one_time," / ",t.donate.recurring]}),n.jsxs(Om,{value:d,onValueChange:g=>c.setValue("type",g),className:"flex flex-wrap gap-4 sm:gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(wc,{value:"one_time",id:"one_time","data-testid":"radio-onetime"}),n.jsx(vt,{htmlFor:"one_time",className:"font-normal cursor-pointer",children:t.donate.one_time})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(wc,{value:"recurring",id:"recurring","data-testid":"radio-recurring"}),n.jsx(vt,{htmlFor:"recurring",className:"font-normal cursor-pointer",children:t.donate.monthly})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{children:"Escolha um valor"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-3",children:yfe.map(g=>n.jsxs(D,{type:"button",variant:r===g?"default":"outline",onClick:()=>{s(g),c.setValue("amount",g)},"data-testid":`button-amount-${g}`,className:"h-12 sm:h-16 text-sm sm:text-base",children:["R$ ",g]},g))}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{type:"button",variant:r===-1?"default":"outline",onClick:()=>s(-1),"data-testid":"button-custom-amount",className:"w-full",children:t.donate.custom_amount}),r===-1&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(ft,{type:"number",placeholder:"Digite o valor (R$ 5 - R$ 1000)",min:"5",max:"1000",step:"0.01",...c.register("customAmount"),"data-testid":"input-custom-amount"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor mnimo: R$ 5 | Valor mximo: R$ 1000"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{htmlFor:"destination",children:t.donate.destination}),n.jsxs(Mf,{value:c.watch("destination"),onValueChange:g=>c.setValue("destination",g),children:[n.jsx(ju,{"data-testid":"select-destination",children:n.jsx(Lf,{})}),n.jsxs(Nu,{children:[n.jsx(xc,{value:"app_operations","data-testid":"option-app-operations",children:t.donate.app_operations}),n.jsx(xc,{value:"bible_translation","data-testid":"option-bible-translation",children:t.donate.bible_translation})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nz,{id:"anonymous",checked:c.watch("isAnonymous"),onCheckedChange:g=>c.setValue("isAnonymous",g),"data-testid":"checkbox-anonymous"}),n.jsx(vt,{htmlFor:"anonymous",className:"font-normal cursor-pointer",children:t.donate.anonymous})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(vt,{htmlFor:"message",children:t.donate.message}),n.jsx(Gs,{id:"message",placeholder:t.donate.message_placeholder,...c.register("message"),"data-testid":"textarea-message",className:"resize-none",rows:3})]}),n.jsx(D,{type:"submit",className:"w-full",disabled:a||!r,"data-testid":"button-proceed-to-payment",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Preparando pagamento seguro..."]}):n.jsxs(n.Fragment,{children:[n.jsx(bG,{className:"mr-2 h-4 w-4"}),"Doar com Carto"]})}),n.jsxs("p",{className:"text-center text-xs text-muted-foreground flex items-center justify-center gap-1",children:[n.jsx(Wi,{className:"h-3 w-3"}),"Voc ser redirecionado para a pgina segura do Stripe"]})]})]})}),n.jsxs(Y,{children:[n.jsx(he,{children:n.jsx(ge,{className:"text-lg",children:"Sobre as doaes"})}),n.jsxs(re,{className:"space-y-4 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Operaes do aplicativo:"})," Sua doao ajuda a manter os servidores, desenvolvimento de novos recursos e melhorias contnuas."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Traduo bblica:"})," Apoia projetos de traduo da Bblia para idiomas e comunidades que ainda no tm acesso s Escrituras."]})]})]})]})})}const wfe=[{id:"free",name:"Gratuito",price:"R$ 0",period:"para sempre",description:"Comece sua jornada bblica",icon:Ma,iconBg:"bg-slate-500",features:["Bblia completa (4 verses)","Versculo do Dia","Destaques coloridos","Notas e anotaes","Dirio de oraes","3 perguntas IA/dia"],cta:"Plano Atual",popular:!1,priceId:null,planType:"free"},{id:"monthly",name:"Mensal",price:"R$ 19,90",period:"por ms",description:"Acesso premium completo",icon:_r,iconBg:"bg-primary",features:["Tudo do Gratuito","IA Teolgica: ~300 perguntas/ms","Podcasts integrados","Modo Professor","udio narrado","Temas personalizados","Suporte prioritrio"],cta:"Assinar",popular:!0,priceId:nK,planType:"monthly"},{id:"yearly",name:"Anual",price:"R$ 149,90",period:"por ano",description:"Economize 37%",icon:sc,iconBg:"bg-amber-500",features:["Tudo do Mensal","IA Teolgica: ~2.750 perguntas/ano","Economia de R$ 89/ano","Badge exclusivo","Comunidade VIP","Influencie recursos"],cta:"Assinar",popular:!1,priceId:aK,planType:"yearly"},{id:"premium_plus",name:"Premium Plus",price:"R$ 289",period:"por ano",description:"Mximo poder de IA",icon:gv,iconBg:"bg-purple-600",features:["Tudo do Anual","IA Teolgica: ~5.200 perguntas/ano","Dobro do limite comparado ao Anual","Acesso antecipado a recursos","Suporte VIP 24h"],cta:"Assinar",popular:!1,priceId:iK,planType:"premium_plus"}],jfe=[{question:"Posso cancelar a qualquer momento?",answer:"Sim! Cancele quando quiser, sem taxas. O acesso continua at o fim do perodo pago."},{question:"Quais formas de pagamento?",answer:"Carto de crdito, PIX e boleto via Stripe - a plataforma mais segura do mundo."},{question:"Funciona em vrios dispositivos?",answer:"Sim! Use em todos os seus dispositivos com sincronizao automtica."},{question:"Tem desconto para pastores?",answer:"Sim! 50% de desconto para estudantes de teologia, pastores e lderes. Entre em contato."}];function Op(){const{toast:t}=nr(),[e]=eo();m.useEffect(()=>{const d=new URLSearchParams(window.location.search);d.get("success")==="true"?(t({title:"Pagamento confirmado!",description:"Sua assinatura foi ativada. Aproveite o Premium!"}),window.history.replaceState({},"","/planos")):d.get("canceled")==="true"&&(t({title:"Pagamento cancelado",description:"Voc pode tentar novamente quando quiser.",variant:"destructive"}),window.history.replaceState({},"","/planos"))},[e,t]);const{data:r}=Et({queryKey:["/api/subscriptions/status"]}),s=it({mutationFn:async({priceId:d,planType:u})=>(await Ze("POST","/api/subscriptions/checkout",{priceId:d,planType:u})).json(),onSuccess:d=>{d.url&&window.open(d.url,"_blank")},onError:d=>{const u=d.message||"Erro ao processar pagamento";t({title:"Erro no pagamento",description:u.includes("No such price")?"Plano no configurado. Entre em contato conosco.":u,variant:"destructive"})}}),a=it({mutationFn:async()=>(await Ze("POST","/api/subscriptions/portal")).json(),onSuccess:d=>{d.url&&window.open(d.url,"_blank")},onError:d=>{t({title:"Erro",description:d.message||"Tente novamente",variant:"destructive"})}}),i=d=>{if(d.id!=="free"){if(!d.priceId){t({title:"Em breve",description:"Sistema de pagamentos em configurao. Tente novamente em breve.",variant:"destructive"});return}s.mutate({priceId:d.priceId,planType:d.planType})}},o=(r==null?void 0:r.plan)||"free",l=o!=="free",c=d=>d.id===o&&l?{text:"Gerenciar",disabled:!1,isPortal:!0}:d.id==="free"&&o==="free"?{text:"Plano Atual",disabled:!0,isPortal:!1}:d.id==="free"&&l?{text:"Gerenciar",disabled:!1,isPortal:!0}:l&&d.id!==o?{text:"Mudar Plano",disabled:!1,isPortal:!0}:{text:d.cta,disabled:!1,isPortal:!1};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-500/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"relative z-10 p-4 md:p-6",children:n.jsx(Te,{href:"/",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"rounded-2xl","data-testid":"button-back",children:[n.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Voltar"]})})}),n.jsx("section",{className:"relative z-10 px-4 pb-8 md:pb-12 text-center",children:n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("p",{className:"text-sm font-bold text-primary uppercase tracking-widest mb-3",children:"Planos Premium"}),n.jsx("h1",{className:"font-display text-4xl md:text-6xl font-extrabold mb-4 tracking-tight","data-testid":"text-page-title",children:"Escolha seu Plano"}),n.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto font-medium",children:"Transforme seu estudo bblico com recursos premium"}),l&&n.jsx(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},children:n.jsxs(ot,{className:"mt-6 bg-green-500/20 text-green-600 dark:text-green-400 border-green-500/30 px-4 py-2 rounded-full text-sm font-bold",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),"Assinante ",o==="monthly"?"Mensal":o==="yearly"?"Anual":"Premium Plus"]})})]})}),n.jsx("section",{className:"relative z-10 px-4 pb-12 md:pb-16",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:wfe.filter(d=>d.id!=="free").map((d,u)=>{const h=c(d),f=d.id===o,g=d.icon;return n.jsx(ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:u*.1,duration:.5},children:n.jsxs(Y,{className:`relative flex flex-col transition-all duration-500 rounded-3xl border-none backdrop-blur-sm hover:shadow-2xl hover:-translate-y-1 ${d.popular?"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-xl ring-2 ring-primary/30":"bg-card/80 shadow-lg"} ${f?"ring-2 ring-green-500/50":""}`,"data-testid":`card-plan-${d.id}`,children:[n.jsxs(he,{className:"pb-4 space-y-4 pt-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:`h-14 w-14 rounded-2xl ${d.iconBg} flex items-center justify-center shadow-lg`,children:n.jsx(g,{className:"h-7 w-7 text-white"})}),d.popular&&n.jsx(ot,{className:"bg-primary text-primary-foreground text-sm px-3 py-1 rounded-full font-bold shadow-lg shadow-primary/30",children:"Popular"}),f&&!d.popular&&n.jsxs(ot,{variant:"outline",className:"text-sm px-3 py-1 rounded-full font-bold border-green-500 text-green-600",children:[n.jsx(as,{className:"h-3 w-3 mr-1"}),"Atual"]})]}),n.jsxs("div",{children:[n.jsx(ge,{className:"text-2xl font-bold",children:d.name}),n.jsx(qe,{className:"text-base mt-2 font-medium",children:d.description})]}),n.jsxs("div",{className:"pt-3 flex items-baseline whitespace-nowrap overflow-hidden",children:[n.jsx("span",{className:"text-xl font-bold mr-1",children:"R$"}),n.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:d.price.replace("R$ ","")}),n.jsxs("span",{className:"text-muted-foreground text-sm ml-1 font-medium",children:["/",d.period]})]})]}),n.jsx(re,{className:"flex-1 pb-6",children:n.jsx("ul",{className:"space-y-3",children:d.features.map((b,x)=>n.jsxs("li",{className:"flex items-start gap-3 text-base","data-testid":`feature-${d.id}-${x}`,children:[n.jsx("div",{className:"p-1 rounded-full bg-primary/10 mt-0.5",children:n.jsx(as,{className:"h-3 w-3 text-primary"})}),n.jsx("span",{className:"font-medium",children:b})]},x))})}),n.jsx(or,{className:"pb-8",children:n.jsxs(D,{className:`w-full h-14 rounded-2xl font-bold text-lg shadow-lg transition-all ${d.popular?"shadow-primary/30 hover:shadow-primary/40":""}`,variant:d.popular?"default":"outline",disabled:h.disabled||s.isPending||a.isPending,onClick:()=>{h.isPortal?a.mutate():i(d)},"data-testid":`button-cta-${d.id}`,children:[(s.isPending||a.isPending)&&n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),h.text,h.isPortal&&n.jsx(fu,{className:"h-4 w-4 ml-2"})]})})]})},d.id)})})})}),n.jsx("section",{className:"relative z-10 px-4 pb-12",children:n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"flex flex-wrap justify-center gap-6 md:gap-10",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-card/60 backdrop-blur-sm px-5 py-3 rounded-2xl border border-border/50 shadow-sm",children:[n.jsx(da,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Pagamento seguro"})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-card/60 backdrop-blur-sm px-5 py-3 rounded-2xl border border-border/50 shadow-sm",children:[n.jsx(as,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Cancele quando quiser"})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-card/60 backdrop-blur-sm px-5 py-3 rounded-2xl border border-border/50 shadow-sm",children:[n.jsx(Ma,{className:"h-5 w-5 text-amber-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Garantia de 30 dias"})]})]})})}),n.jsx("section",{className:"relative z-10 px-4 pb-16",children:n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"max-w-2xl mx-auto",children:[n.jsx("h2",{className:"font-display text-3xl font-bold text-center mb-8",children:"Perguntas Frequentes"}),n.jsx(PN,{type:"single",collapsible:!0,className:"w-full bg-card/60 backdrop-blur-sm rounded-3xl border border-border/50 shadow-lg overflow-hidden",children:jfe.map((d,u)=>n.jsxs($v,{value:`item-${u}`,className:"border-b-border/30 last:border-b-0 px-6",children:[n.jsx(Fv,{className:"text-left py-5 text-base font-medium hover:no-underline","data-testid":`faq-question-${u}`,children:d.question}),n.jsx(Vv,{className:"text-muted-foreground pb-5 text-base",children:d.answer})]},u))})]})}),n.jsx("section",{className:"relative z-10 px-4 pb-16",children:n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"max-w-2xl mx-auto text-center",children:[n.jsx("p",{className:"text-muted-foreground mb-6 text-lg font-medium",children:"Dvidas? Estamos aqui para ajudar"}),n.jsx(Te,{href:"/contact",children:n.jsx(D,{variant:"outline",size:"lg",className:"rounded-2xl px-8 h-12 font-bold","data-testid":"button-contact",children:"Fale Conosco"})})]})})]})}function Nfe(){const t=[{q:"Como criar um plano de leitura?",a:"Acesse a seo 'Planos' no menu lateral ou na navegao inferior. Voc ver uma lista de planos disponveis organizados por durao. Clique em 'Iniciar Plano' no plano que desejar e ele ser automaticamente adicionado aos seus planos ativos.",icon:Hs},{q:"Como funciona o modo offline?",a:"No leitor da Bblia, voc ver um cone de nuvem no canto superior. Clique nele para baixar o captulo atual e poder l-lo mesmo sem internet. Voc pode gerenciar todos os captulos baixados acessando a pgina 'Offline' no menu lateral.",icon:ww},{q:"Posso destacar e fazer anotaes nos versculos?",a:"Sim! Ao ler a Bblia, clique em qualquer versculo para abrir um menu com opes. Voc pode escolher entre 6 cores de destaque, adicionar notas pessoais ou salvar como favorito. Todas as marcaes ficam sincronizadas na nuvem.",icon:_r},{q:"Como funciona o sistema de gamificao?",a:"Cada vez que voc l captulos ou completa planos, ganha XP. Ao acumular XP, voc sobe de nvel: Iniciante  Aprendiz  Conhecedor  Sbio  Mestre. Alm disso, pode conquistar insgnias por atingir marcos especiais.",icon:ss},{q:"Como usar o dirio de oraes?",a:"Acesse 'Oraes' no menu e clique em 'Nova Orao'. Voc pode escrever sua orao e at gravar um udio. Quando a orao for respondida, marque-a como 'Respondida' para manter um histrico das bnos.",icon:Di},{q:"O aplicativo  realmente 100% gratuito?",a:"Sim! O BbliaFS  completamente gratuito e sempre ser. O aplicativo  mantido por doaes voluntrias de usurios que desejam apoiar o desenvolvimento e manter o app acessvel para todos.",icon:ss}];return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-amber-500/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-4 md:p-8 space-y-8",children:[n.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[n.jsx(Te,{href:"/about","data-testid":"link-back-help",children:n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-back-help",children:n.jsx(Ms,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-muted-foreground",children:"Voltar para Sobre"})]}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-xl shadow-amber-500/20",children:n.jsx(Nf,{className:"h-10 w-10 text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-amber-500 to-amber-600 bg-clip-text text-transparent",children:"Ajuda e Suporte"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Estamos aqui para ajudar voc a aproveitar ao mximo o BbliaFS"})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(Y,{"data-testid":"card-faq",className:"rounded-[2.5rem] border-none bg-card/80 backdrop-blur-xl shadow-lg overflow-hidden",children:[n.jsxs(he,{className:"bg-primary/5 p-8 border-b border-primary/10",children:[n.jsxs(ge,{className:"flex items-center gap-3 text-2xl font-bold",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10 text-primary",children:n.jsx(Hs,{className:"h-6 w-6"})}),"Perguntas Frequentes"]}),n.jsx(qe,{className:"text-base",children:"Clique nas perguntas para ver as respostas"})]}),n.jsx(re,{className:"p-8",children:n.jsx(PN,{type:"single",collapsible:!0,className:"w-full space-y-4",children:t.map((e,r)=>n.jsxs($v,{value:`item-${r}`,className:"border-none bg-muted/30 rounded-2xl px-6","data-testid":`accordion-faq-${r}`,children:[n.jsx(Fv,{className:"hover:no-underline py-6 font-bold text-lg text-left","data-testid":`trigger-faq-${r}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(e.icon,{className:"h-5 w-5 text-primary shrink-0"}),n.jsx("span",{children:e.q})]})}),n.jsx(Vv,{className:"text-muted-foreground text-base leading-relaxed pb-6",children:e.a})]},r))})})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:n.jsxs(Y,{"data-testid":"card-tutorials",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg h-full",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 text-purple-600",children:n.jsx(d2,{className:"h-6 w-6"})}),"Tutoriais em Vdeo"]}),n.jsx(qe,{className:"text-base",children:"Aprenda a usar todos os recursos"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Em breve disponibilizaremos tutoriais em vdeo para ajud-lo a explorar todos os recursos do BbliaFS de forma visual e prtica."}),n.jsxs(D,{variant:"outline",className:"w-full rounded-xl h-12",disabled:!0,children:[n.jsx(d2,{className:"h-4 w-4 mr-2"}),"Ver Tutoriais (Em Breve)"]})]})]})}),n.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},children:n.jsxs(Y,{"data-testid":"card-contact-support",className:"rounded-2xl border-none bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-xl shadow-lg h-full",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10 text-primary",children:n.jsx(So,{className:"h-6 w-6"})}),"Precisa de Mais Ajuda?"]}),n.jsx(qe,{className:"text-base",children:"Nossa equipe est pronta para atend-lo"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Se voc no encontrou a resposta para sua dvida nas FAQs acima, entre em contato conosco diretamente. Responderemos o mais breve possvel!"}),n.jsx(Te,{href:"/contact","data-testid":"link-contact-help",children:n.jsxs(D,{className:"w-full rounded-xl h-12 shadow-lg shadow-primary/20","data-testid":"button-contact-us",children:[n.jsx(li,{className:"h-4 w-4 mr-2"}),"Fale Conosco"]})})]})]})})]}),n.jsxs("footer",{className:"text-center text-sm text-muted-foreground py-8 border-t border-border/50",children:[n.jsx("p",{children:" 2026 - BbliaFS. Todos os direitos reservados."}),n.jsxs("p",{className:"mt-1",children:["Desenvolvido por"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"FabriSite"})]})]})]})]})}function UE(){Lr();const[,t]=eo(),[e,r]=m.useState(!1);m.useEffect(()=>{const l=()=>{r(window.scrollY>400)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=[{title:"Poltica de Privacidade",description:"Como coletamos, usamos e protegemos seus dados",icon:da,href:"/privacy",color:"text-blue-600",bgColor:"bg-blue-500/10"},{title:"Termos de Uso",description:"Regras e condies de uso do aplicativo",icon:Aa,href:"/terms",color:"text-purple-600",bgColor:"bg-purple-500/10"},{title:"Poltica de Segurana",description:"Medidas de segurana e proteo de dados",icon:Wi,href:"/security",color:"text-green-600",bgColor:"bg-green-500/10"},{title:"Perguntas Frequentes",description:"Dvidas comuns e como usar o app",icon:Nf,href:"/help",color:"text-amber-600",bgColor:"bg-amber-500/10"},{title:"Fale Conosco",description:"Entre em contato com nossa equipe",icon:li,href:"/contact",color:"text-pink-600",bgColor:"bg-pink-500/10"}],i=["Leitura offline para estudar em qualquer lugar","4 tradues bblicas (NVI, ACF, ARC, RA)","Planos de leitura personalizados","Destaques e anotaes coloridas (6 cores)","Dirio de oraes com gravao de udio","Gamificao com 50 nveis e conquistas","Assistente teolgico com IA (GPT-4o)","Comunidade para compartilhar insights","Podcasts integrados","Modo Professor para criar aulas"],o=[{name:"Web",icon:l2,status:"Disponvel"},{name:"Desktop",icon:l2,status:"Disponvel"},{name:"Android",icon:ww,status:"Disponvel"},{name:"iOS",icon:LG,status:"Disponvel"}];return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto p-4 md:p-8 space-y-10",children:[n.jsx("div",{className:"flex justify-start mb-6",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"rounded-xl gap-2 hover:bg-primary/10 transition-colors",onClick:()=>t("/"),children:[n.jsx(Ms,{className:"h-4 w-4"}),"Voltar"]})}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-xl shadow-primary/20",children:n.jsx(Sr,{className:"h-10 w-10 text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Sobre o BbliaFS"}),n.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Transformando o estudo bblico com tecnologia, inteligncia artificial e uma comunidade apaixonada pela Palavra de Deus."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Verso 2.0 - Nova Gerao"})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(Y,{"data-testid":"card-mission",className:"rounded-2xl border-none bg-gradient-to-br from-pink-500/10 to-pink-500/5 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-pink-500/10 flex items-center justify-center",children:n.jsx(ss,{className:"h-6 w-6 text-pink-600"})}),"Nossa Misso"]})}),n.jsxs(re,{className:"space-y-4 text-muted-foreground",children:[n.jsx("p",{className:"leading-relaxed text-lg",children:"O BbliaFS nasceu com o propsito de tornar o estudo da Palavra de Deus mais acessvel, personalizado e envolvente para pessoas ao redor do mundo."}),n.jsx("p",{className:"leading-relaxed",children:"Acreditamos que a tecnologia pode ser uma ferramenta poderosa para aproximar as pessoas das Escrituras Sagradas, oferecendo recursos modernos como inteligncia artificial, gamificao e comunidade, sem perder a essncia e reverncia que a Palavra merece."})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},children:n.jsxs(Y,{"data-testid":"card-features",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg h-full",children:[n.jsxs(he,{children:[n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(_r,{className:"h-6 w-6 text-amber-600"})}),"Recursos Principais"]}),n.jsx(qe,{className:"text-base",children:"Tudo que voc precisa para um estudo bblico completo"})]}),n.jsx(re,{children:n.jsx("ul",{className:"space-y-3",children:i.map((l,c)=>n.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[n.jsx("span",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary"})}),n.jsx("span",{children:l})]},c))})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:n.jsxs(Y,{"data-testid":"card-languages",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(Pi,{className:"h-6 w-6 text-blue-600"})}),"Multilngue"]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"Disponvel em mltiplos idiomas:"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{flag:"",name:"Portugus"},{flag:"",name:"English"},{flag:"",name:"Nederlands"},{flag:"",name:"Espaol"}].map((l,c)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-muted/50",children:[n.jsx("span",{className:"text-2xl",children:l.flag}),n.jsx("span",{className:"font-medium",children:l.name})]},c))})]})]})}),n.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},children:n.jsxs(Y,{"data-testid":"card-platforms",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(ww,{className:"h-6 w-6 text-green-600"})}),"Plataformas"]})}),n.jsx(re,{children:n.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((l,c)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50","data-testid":`platform-${l.name.toLowerCase()}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(l.icon,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:l.name})]}),n.jsx("span",{className:"text-xs px-2.5 py-1 rounded-full bg-green-500/10 text-green-600 font-bold","data-testid":`status-platform-${l.name.toLowerCase()}`,children:l.status})]},c))})})]})})]})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(Y,{"data-testid":"card-team",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(As,{className:"h-6 w-6 text-green-600"})}),"100% Gratuito"]})}),n.jsxs(re,{className:"space-y-4 text-muted-foreground",children:[n.jsx("p",{className:"leading-relaxed text-lg",children:"O BbliaFS  mantido por doaes de usurios como voc. Nosso compromisso  manter o aplicativo 100% gratuito e acessvel para todos que desejam se aproximar da Palavra de Deus."}),n.jsx("p",{className:"leading-relaxed",children:"Desenvolvido com dedicao pela equipe FabriSite, trabalhamos continuamente para melhorar sua experincia e adicionar novos recursos."}),n.jsx("div",{className:"pt-2",children:n.jsx(Te,{href:"/donate","data-testid":"link-donate-about",children:n.jsxs(D,{className:"rounded-xl gap-2 shadow-lg shadow-primary/20","data-testid":"button-donate-about",children:[n.jsx(ss,{className:"h-4 w-4"}),"Apoiar o Projeto"]})})})]})]})}),n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Informaes Legais e Ajuda"}),n.jsx("p",{className:"text-muted-foreground",children:"Acesse nossas polticas, termos e suporte"})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((l,c)=>n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4+c*.05},children:n.jsx(Te,{href:l.href,children:n.jsx(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg cursor-pointer h-full transition-all hover:shadow-xl group","data-testid":`card-link-${l.href.slice(1)}`,children:n.jsxs(re,{className:"p-5 flex items-center gap-4",children:[n.jsx("div",{className:`h-14 w-14 rounded-xl ${l.bgColor} flex items-center justify-center flex-shrink-0`,children:n.jsx(l.icon,{className:`h-7 w-7 ${l.color}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold group-hover:text-primary transition-colors",children:l.title}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.description})]}),n.jsx(Da,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 group-hover:text-primary transition-colors"})]})})})},c))})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsx(Y,{"data-testid":"card-fabrisite",className:"rounded-2xl border-none bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-xl shadow-lg",children:n.jsxs(re,{className:"p-8 text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"h-14 w-14 rounded-xl bg-primary/20 flex items-center justify-center",children:n.jsx(vw,{className:"h-7 w-7 text-primary"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-xl","data-testid":"text-fabrisite-title",children:"Desenvolvido por FabriSite"}),n.jsx("p",{className:"text-muted-foreground",children:"Solues tecnolgicas para transformar ideias em realidade"})]}),n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"inline-block","data-testid":"link-fabrisite",children:n.jsxs(D,{variant:"outline",className:"rounded-xl gap-2","data-testid":"button-fabrisite",children:["Visitar FabriSite",n.jsx(vw,{className:"h-4 w-4"})]})})]})})}),n.jsxs("footer",{className:"text-center text-sm text-muted-foreground py-8 border-t border-border/50",children:[n.jsx("p",{children:" 2026 - BbliaFS. Todos os direitos reservados."}),n.jsxs("p",{className:"mt-1",children:["Desenvolvido por"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"FabriSite"})]})]})]}),n.jsx(na,{children:e&&n.jsx(ne.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-6 right-6 z-50",children:n.jsx(D,{size:"icon",className:"h-12 w-12 rounded-full shadow-2xl shadow-primary/40 hover-elevate active-elevate-2",onClick:s,children:n.jsx(LD,{className:"h-6 w-6"})})})})]})}function qE(){const t=[{title:"1. Aceitao dos Termos",icon:os,content:"Ao acessar e usar o BbliaFS, voc concorda em cumprir e estar vinculado a estes Termos de Uso. Se voc no concordar com alguma parte destes termos, no dever usar nosso aplicativo."},{title:"2. Uso do Servio",icon:Sr,intro:"O BbliaFS  um aplicativo gratuito de estudo bblico. Voc concorda em usar o servio apenas para fins legais e de acordo com estes Termos.",forbidden:["Usar o servio para qualquer finalidade ilegal ou no autorizada","Tentar acessar dados de outros usurios","Interferir ou interromper o servio ou servidores","Usar o contedo para fins comerciais sem autorizao","Publicar contedo ofensivo, difamatrio ou inadequado"]},{title:"3. Contedo do Usurio",icon:Aa,content:"Voc mantm todos os direitos sobre o contedo que cria no aplicativo (notas, oraes, posts). No entanto, ao compartilhar contedo publicamente na comunidade, voc concede ao BbliaFS uma licena no exclusiva para exibir esse contedo. Reservamo-nos o direito de remover qualquer contedo que viole estes termos ou seja considerado inadequado."},{title:"4. Propriedade Intelectual",icon:RG,content:"O aplicativo BbliaFS e todo seu contedo original so propriedade do BbliaFS e so protegidos por leis de direitos autorais internacionais. Os textos bblicos disponibilizados so de domnio pblico ou usados com permisso de seus respectivos detentores de direitos."},{title:"5. Limitao de Responsabilidade",icon:mv,content:"O BbliaFS  fornecido 'como est'. No garantimos que o servio ser ininterrupto ou livre de erros. No nos responsabilizamos por quaisquer danos resultantes do uso ou incapacidade de usar o servio."},{title:"6. Modificaes",icon:TG,content:"Reservamo-nos o direito de modificar ou substituir estes Termos a qualquer momento. Mudanas significativas sero notificadas atravs do aplicativo."}];return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-purple-500/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-4 md:p-8 space-y-8",children:[n.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[n.jsx(Te,{href:"/about","data-testid":"link-back-terms",children:n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-back-terms",children:n.jsx(Ms,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-muted-foreground",children:"Voltar para Sobre"})]}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-xl shadow-purple-500/20",children:n.jsx(Aa,{className:"h-10 w-10 text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-500 to-purple-600 bg-clip-text text-transparent",children:"Termos de Uso"}),n.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]})]}),t.map((e,r)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+r*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:n.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),e.title]})}),n.jsxs(re,{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.content&&n.jsx("p",{children:e.content}),e.intro&&n.jsx("p",{children:e.intro}),e.forbidden&&n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsx("p",{className:"font-bold text-foreground",children:"Voc concorda em NO:"}),n.jsx("ul",{className:"space-y-2",children:e.forbidden.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-destructive mt-2 flex-shrink-0"}),n.jsx("span",{children:s})]},a))})]})]})]})},e.title)),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(li,{className:"h-5 w-5 text-green-600"})}),"7. Contato"]})}),n.jsx(re,{className:"text-muted-foreground",children:n.jsx("p",{children:'Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da pgina "Fale Conosco".'})})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},className:"grid md:grid-cols-3 gap-4 py-8",children:[{href:"/about",title:"Sobre",desc:"Conhea o BbliaFS"},{href:"/privacy",title:"Privacidade",desc:"Proteo de dados"},{href:"/security",title:"Segurana",desc:"Medidas de segurana"}].map((e,r)=>n.jsx(Te,{href:e.href,children:n.jsx(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg cursor-pointer h-full transition-all hover:shadow-xl",children:n.jsxs(re,{className:"p-5 text-center",children:[n.jsx("h3",{className:"font-bold mb-1",children:e.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]})})},r))}),n.jsxs("footer",{className:"text-center text-sm text-muted-foreground py-8 border-t border-border/50",children:[n.jsx("p",{children:" 2026 - BbliaFS. Todos os direitos reservados."}),n.jsxs("p",{className:"mt-1",children:["Desenvolvido por"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"FabriSite"})]})]})]})]})}function HE(){const t=[{title:"1. Informaes que Coletamos",icon:xw,content:[{label:"Informaes de Conta",desc:"Nome, e-mail e foto de perfil (quando voc se registra)"},{label:"Contedo do Usurio",desc:"Notas, destaques, oraes, planos de leitura e posts na comunidade"},{label:"Dados de Uso",desc:"Estatsticas de leitura, progresso em planos, conquistas e atividades"},{label:"Informaes Tcnicas",desc:"Tipo de dispositivo, sistema operacional e dados de navegao"},{label:"Dados de Pagamento",desc:"Informaes de doao processadas de forma segura pelo Stripe"}]},{title:"2. Como Usamos Suas Informaes",icon:fc,items:["Fornecer e melhorar nossos servios","Personalizar sua experincia de estudo bblico","Sincronizar seus dados entre dispositivos","Processar doaes de forma segura","Enviar notificaes sobre planos de leitura (se ativado)","Analisar padres de uso para melhorar o aplicativo","Comunicar atualizaes importantes do servio"]},{title:"3. Compartilhamento de Informaes",icon:As,intro:"Nunca vendemos suas informaes pessoais. Compartilhamos dados apenas:",items:["Com outros usurios, quando voc publica na comunidade","Com processadores de pagamento (Stripe) para doaes seguras","Quando exigido por lei ou ordem judicial","Com seu consentimento explcito"]},{title:"4. Segurana dos Dados",icon:Wi,items:["Criptografia de dados em trnsito (HTTPS/SSL)","Armazenamento seguro em servidores protegidos","Senhas criptografadas com bcrypt","Acesso restrito a dados pessoais","Backups regulares e seguros"]},{title:"5. Seus Direitos",icon:da,items:["Acessar suas informaes pessoais","Corrigir dados incorretos","Solicitar excluso de sua conta e dados","Exportar seus dados","Optar por no receber notificaes","Revogar consentimentos a qualquer momento"]},{title:"6. Cookies e Armazenamento Local",icon:yG,items:["Manter voc conectado","Lembrar suas preferncias (idioma, tema)","Armazenar contedo offline","Melhorar o desempenho do aplicativo"]}];return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-blue-500/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-4 md:p-8 space-y-8",children:[n.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[n.jsx(Te,{href:"/about","data-testid":"link-back-privacy",children:n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-back-privacy",children:n.jsx(Ms,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-muted-foreground",children:"Voltar para Sobre"})]}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-xl shadow-blue-500/20",children:n.jsx(da,{className:"h-10 w-10 text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Poltica de Privacidade"}),n.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(Y,{"data-testid":"card-intro",className:"rounded-2xl border-none bg-gradient-to-br from-blue-500/10 to-blue-500/5 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsx(ge,{className:"text-xl",children:"Introduo"})}),n.jsx(re,{className:"text-muted-foreground text-lg",children:n.jsx("p",{children:"No BbliaFS, levamos sua privacidade a srio. Esta Poltica de Privacidade explica como coletamos, usamos, armazenamos e protegemos suas informaes pessoais."})})]})}),t.map((e,r)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15+r*.05},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:n.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),e.title]})}),n.jsxs(re,{className:"space-y-3 text-muted-foreground",children:[e.intro&&n.jsx("p",{className:"font-medium text-foreground",children:e.intro}),e.content&&n.jsx("ul",{className:"space-y-3",children:e.content.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsxs("strong",{className:"text-foreground",children:[s.label,":"]})," ",s.desc]})]},a))}),e.items&&n.jsx("ul",{className:"space-y-2",children:e.items.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:s})]},a))})]})]})},e.title)),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-pink-500/10",children:n.jsx(gG,{className:"h-5 w-5 text-pink-600"})}),"7. Privacidade de Menores"]})}),n.jsx(re,{className:"text-muted-foreground",children:n.jsx("p",{children:"O BbliaFS pode ser usado por menores de idade, mas recomendamos superviso parental. No coletamos intencionalmente informaes de crianas menores de 13 anos sem consentimento dos pais."})})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-amber-500/10",children:n.jsx(BD,{className:"h-5 w-5 text-amber-600"})}),"8. Alteraes nesta Poltica"]})}),n.jsx(re,{className:"text-muted-foreground",children:n.jsx("p",{children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos sobre mudanas significativas atravs do aplicativo ou por e-mail."})})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:n.jsxs(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(li,{className:"h-5 w-5 text-green-600"})}),"9. Contato"]})}),n.jsx(re,{className:"text-muted-foreground",children:n.jsx("p",{children:'Para questes sobre privacidade ou para exercer seus direitos, entre em contato atravs da pgina "Fale Conosco".'})})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"grid md:grid-cols-3 gap-4 py-8",children:[{href:"/about",title:"Sobre",desc:"Conhea o BbliaFS"},{href:"/terms",title:"Termos de Uso",desc:"Regras e condies"},{href:"/security",title:"Segurana",desc:"Proteo de dados"}].map((e,r)=>n.jsx(Te,{href:e.href,children:n.jsx(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg cursor-pointer h-full transition-all hover:shadow-xl",children:n.jsxs(re,{className:"p-5 text-center",children:[n.jsx("h3",{className:"font-bold mb-1",children:e.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]})})},r))}),n.jsxs("footer",{className:"text-center text-sm text-muted-foreground py-8 border-t border-border/50",children:[n.jsx("p",{children:" 2026 - BbliaFS. Todos os direitos reservados."}),n.jsxs("p",{className:"mt-1",children:["Desenvolvido por"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"FabriSite"})]})]})]})]})}function WE(){const t=[{icon:Wi,title:"Criptografia HTTPS/TLS",description:"Todas as comunicaes entre seu dispositivo e nossos servidores so criptografadas usando protocolo TLS 1.3, garantindo que seus dados no sejam interceptados."},{icon:xw,title:"Banco de Dados Seguro",description:"Utilizamos PostgreSQL com criptografia em repouso. Seus dados pessoais, notas e oraes so armazenados de forma segura em servidores protegidos."},{icon:_G,title:"Autenticao Segura",description:"Login com email e senha protegido por criptografia bcrypt, garantindo autenticao segura e proteo de credenciais."},{icon:da,title:"Proteo de Sesso",description:"Sesses gerenciadas com cookies httpOnly e secure, com expirao automtica e renovao segura de tokens."},{icon:fc,title:"Privacidade por Design",description:"Nunca vendemos ou compartilhamos seus dados com terceiros para fins de marketing. Seus dados so usados exclusivamente para melhorar sua experincia."},{icon:AG,title:"Infraestrutura Cloud",description:"Hospedagem em infraestrutura de nuvem com alta disponibilidade, backups automticos e proteo contra DDoS."}],e=[{title:"Dados Criptografados",description:"Criptografia AES-256 para dados sensveis"},{title:"Backups Automticos",description:"Backups dirios com reteno de 30 dias"},{title:"Acesso Restrito",description:"Apenas equipe autorizada acessa dados"},{title:"Logs de Auditoria",description:"Registro de acessos para monitoramento"},{title:"Recuperao de Desastres",description:"Plano de contingncia para incidentes"},{title:"Testes de Segurana",description:"Verificaes peridicas de vulnerabilidades"}],r=["Mantenha seu navegador sempre atualizado","No compartilhe sua conta com terceiros","Use uma conexo segura (evite Wi-Fi pblico sem VPN)","Faa logout ao usar dispositivos compartilhados","Verifique se o endereo comea com https://","Reporte qualquer atividade suspeita imediatamente"];return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-green-500/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-4 md:p-8 space-y-8",children:[n.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[n.jsx(Te,{href:"/about","data-testid":"link-back-security",children:n.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl","data-testid":"button-back-security",children:n.jsx(Ms,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-muted-foreground",children:"Voltar para Sobre"})]}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-xl shadow-green-500/20",children:n.jsx(OG,{className:"h-10 w-10 text-white"})})}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:"Segurana"}),n.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Conhea as medidas que tomamos para proteger seus dados e garantir uma experincia segura no BbliaFS."})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsx(Y,{"data-testid":"card-commitment",className:"rounded-2xl border-none bg-gradient-to-br from-green-500/10 to-green-500/5 backdrop-blur-xl shadow-lg",children:n.jsx(re,{className:"p-8",children:n.jsxs("div",{className:"flex items-start gap-6",children:[n.jsx("div",{className:"h-14 w-14 rounded-2xl bg-green-500/10 flex items-center justify-center flex-shrink-0",children:n.jsx(da,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-xl mb-3 text-green-600",children:"Nosso Compromisso"}),n.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"O BbliaFS foi desenvolvido com segurana em mente desde o incio. Utilizamos as melhores prticas da indstria para proteger seus dados pessoais, suas oraes, notas e toda sua jornada espiritual registrada em nosso aplicativo."})]})]})})})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:n.jsx(Wi,{className:"h-6 w-6 text-primary"})}),"Medidas de Segurana"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map((s,a)=>n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.15+a*.05},children:n.jsx(Y,{"data-testid":`card-security-${a}`,className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg h-full",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(s.icon,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-2",children:s.title}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description})]})]})})})},a))})]}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:n.jsxs(Y,{"data-testid":"card-data-protection",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(xw,{className:"h-6 w-6 text-blue-600"})}),"Proteo de Dados"]})}),n.jsx(re,{children:n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((s,a)=>n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-muted/50 border border-border/50",children:[n.jsx(jf,{className:"h-6 w-6 text-green-600 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-base",children:s.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},a))})})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsxs(Y,{"data-testid":"card-ai-security",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10",children:n.jsx(jG,{className:"h-6 w-6 text-purple-600"})}),"Segurana da IA"]})}),n.jsxs(re,{className:"space-y-4 text-muted-foreground",children:[n.jsx("p",{className:"text-lg",children:"O BbliaFS utiliza a API da OpenAI para fornecer assistncia teolgica. Garantimos que:"}),n.jsx("ul",{className:"grid sm:grid-cols-2 gap-4",children:["Suas conversas com a IA no so usadas para treinar modelos","Dados so transmitidos de forma criptografada","No armazenamos histrico alm do necessrio","Chaves de API so protegidas rigorosamente"].map((s,a)=>n.jsxs("li",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(jf,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm font-medium",children:s})]},a))})]})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},children:n.jsxs(Y,{"data-testid":"card-best-practices",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-amber-500/10",children:n.jsx(mv,{className:"h-6 w-6 text-amber-600"})}),"Boas Prticas para Usurios"]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"Recomendamos que voc siga estas prticas para manter sua conta segura:"}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:r.map((s,a)=>n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-muted/30",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-500/10 flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-amber-600 font-bold",children:a+1})}),n.jsx("span",{className:"text-sm font-medium leading-tight pt-1",children:s})]},a))})]})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:n.jsxs(Y,{"data-testid":"card-incident",className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg border-l-4 border-l-red-500",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-red-500/10",children:n.jsx(BD,{className:"h-6 w-6 text-red-600"})}),"Resposta a Incidentes"]})}),n.jsxs(re,{className:"space-y-4 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium text-foreground",children:"Em caso de qualquer incidente de segurana:"}),n.jsx("div",{className:"grid gap-3",children:["Notificaremos usurios afetados em at 72 horas","Tomaremos medidas imediatas para conter o incidente","Investigaremos a causa raiz e corrigiremos","Forneceremos orientaes sobre aes preventivas"].map((s,a)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/5",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),n.jsx("span",{className:"text-sm",children:s})]},a))})]})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},children:n.jsxs(Y,{"data-testid":"card-contact-security",className:"rounded-2xl border-none bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-xl shadow-lg",children:[n.jsx(he,{children:n.jsxs(ge,{className:"flex items-center gap-3 text-xl",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:n.jsx(Pi,{className:"h-6 w-6 text-primary"})}),"Reportar Vulnerabilidades"]})}),n.jsxs(re,{className:"space-y-6",children:[n.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"Se voc descobrir uma vulnerabilidade de segurana, por favor nos informe imediatamente atravs da pgina de contato. Valorizamos pesquisadores de segurana que nos ajudam a manter o BbliaFS seguro."}),n.jsx(Te,{href:"/contact",children:n.jsxs(D,{className:"rounded-xl h-12 px-8 gap-2 shadow-lg shadow-primary/20","data-testid":"button-report-vulnerability",children:["Reportar Vulnerabilidade",n.jsx(da,{className:"h-4 w-4"})]})})]})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"grid md:grid-cols-3 gap-4 py-8",children:[{href:"/about",title:"Sobre",desc:"Conhea o BbliaFS"},{href:"/privacy",title:"Privacidade",desc:"Proteo de dados"},{href:"/terms",title:"Termos",desc:"Regras e condies"}].map((s,a)=>n.jsx(Te,{href:s.href,children:n.jsx(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg cursor-pointer h-full transition-all hover:shadow-xl",children:n.jsxs(re,{className:"p-5 text-center",children:[n.jsx("h3",{className:"font-bold mb-1",children:s.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.desc})]})})},a))}),n.jsxs("footer",{className:"text-center text-sm text-muted-foreground py-8 border-t border-border/50",children:[n.jsx("p",{children:" 2026 - BbliaFS. Todos os direitos reservados."}),n.jsxs("p",{className:"mt-1",children:["Desenvolvido por"," ",n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"FabriSite"})]})]})]})]})}const _fe=yn({name:Be().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Be().email("E-mail invlido"),subject:Be().min(5,"Assunto deve ter pelo menos 5 caracteres"),message:Be().min(20,"Mensagem deve ter pelo menos 20 caracteres")});function KE(){const{t}=Lr(),{toast:e}=nr(),[r,s]=m.useState(!1),a=dn({resolver:un(_fe),defaultValues:{name:"",email:"",subject:"",message:""}}),i=async o=>{console.log("Contact form:",o),e({title:t.contact.success,description:"Retornaremos em breve. Obrigado pelo contato!"}),s(!0)};return n.jsxs("div",{className:"min-h-screen bg-background relative",children:[n.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] rounded-full bg-primary/5 blur-[120px] animate-pulse"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-primary/5 blur-[120px] animate-pulse"})]}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-12 md:py-20",children:[n.jsxs("div",{className:"text-center space-y-4 mb-16",children:[n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-bold mb-4",children:[n.jsx(li,{className:"h-4 w-4"}),n.jsx("span",{children:"Fale Conosco"})]}),n.jsxs(ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-6xl font-black tracking-tight text-foreground",children:["Como podemos ",n.jsx("span",{className:"text-primary",children:"ajudar voc?"})]}),n.jsx(ne.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Tem dvidas, sugestes ou feedback? Adoraramos ouvir voc! Nossa equipe est pronta para oferecer suporte e ouvir suas ideias."})]}),n.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 items-start",children:[n.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[n.jsx("div",{className:"grid gap-4",children:[{icon:Ki,label:"Suporte Tcnico",desc:"Dvidas sobre o funcionamento do app",color:"bg-blue-500/10 text-blue-600"},{icon:ss,label:"Doaes & Apoio",desc:"Apoie o BbliaFS gratuitamente",color:"bg-rose-500/10 text-rose-600"},{icon:Di,label:"Tempo de Resposta",desc:"Normalmente em at 48 horas teis",color:"bg-amber-500/10 text-amber-600"}].map((o,l)=>n.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+l*.1},className:"group flex items-center gap-4 p-6 rounded-3xl bg-card border border-border/50 hover:border-primary/50 transition-all shadow-sm",children:[n.jsx("div",{className:`h-14 w-14 rounded-2xl ${o.color} flex items-center justify-center transition-transform group-hover:scale-110`,children:n.jsx(o.icon,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-lg",children:o.label}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.desc})]})]},l))}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:n.jsxs(Y,{className:"rounded-[2.5rem] border-none bg-primary text-primary-foreground shadow-2xl shadow-primary/20 overflow-hidden relative",children:[n.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:n.jsx(ss,{className:"h-32 w-32 -mr-16 -mt-16"})}),n.jsxs(re,{className:"p-6 sm:p-8 space-y-6 relative z-10",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-black text-2xl tracking-tight",children:"Sua voz importa!"}),n.jsx("p",{className:"text-primary-foreground/80 text-sm",children:"O quanto voc recomendaria o BbliaFS para um amigo? (0-10)"})]}),n.jsx("div",{className:"flex justify-start sm:justify-between gap-2 sm:gap-1.5 flex-wrap",children:[0,1,2,3,4,5,6,7,8,9,10].map(o=>n.jsx("button",{type:"button",onClick:()=>{const l=new CustomEvent("open-nps-score",{detail:{score:o}});window.dispatchEvent(l)},className:"w-9 h-9 sm:w-10 sm:h-10 rounded-2xl text-sm font-black bg-primary-foreground/10 hover:bg-primary-foreground hover:text-primary transition-all transform hover:scale-110 active:scale-95 border border-primary-foreground/20",children:o},o))}),n.jsx("div",{className:"pt-2",children:n.jsx(D,{variant:"secondary",className:"w-full rounded-2xl h-14 font-black shadow-lg",onClick:()=>{const o=new CustomEvent("open-nps-dialog");window.dispatchEvent(o)},children:"Enviar feedback detalhado"})})]})]})})]}),n.jsx("div",{className:"lg:col-span-7",children:n.jsx(na,{mode:"wait",children:r?n.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-12",children:n.jsxs(Y,{className:"rounded-[4rem] border-none bg-card/80 backdrop-blur-2xl shadow-2xl text-center overflow-hidden",children:[n.jsx("div",{className:"h-4 w-full bg-green-500"}),n.jsxs(he,{className:"pt-12 sm:pt-16 pb-6 sm:pb-8 px-4 sm:px-8",children:[n.jsx("div",{className:"flex justify-center mb-6 sm:mb-10",children:n.jsx("div",{className:"h-24 sm:h-32 w-24 sm:w-32 rounded-[2.5rem] bg-green-500/10 flex items-center justify-center animate-bounce",children:n.jsx(os,{className:"h-12 sm:h-16 w-12 sm:w-16 text-green-600"})})}),n.jsx(ge,{className:"text-2xl sm:text-4xl font-black",children:"Mensagem Enviada!"}),n.jsx(qe,{className:"text-base sm:text-xl px-4 sm:px-8 mt-4",children:"Recebemos seu contato com sucesso. Nossa equipe analisar sua mensagem e retornaremos em at 48 horas."})]}),n.jsx(re,{className:"pb-12 sm:pb-16 px-4 sm:px-8",children:n.jsx(D,{onClick:()=>s(!1),variant:"outline",className:"w-full rounded-[2rem] h-16 text-xl font-black border-2",children:"Enviar Outra Mensagem"})})]})},"success"):n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:n.jsxs(Y,{className:"rounded-[3rem] border-none bg-card/50 backdrop-blur-2xl shadow-2xl border border-border/50 overflow-hidden",children:[n.jsxs(he,{className:"p-6 sm:p-8 md:p-12 pb-0",children:[n.jsx(ge,{className:"text-2xl sm:text-3xl font-black tracking-tight",children:"Envie sua Mensagem"}),n.jsx(qe,{className:"text-base sm:text-lg",children:"Preencha os campos abaixo e entraremos em contato."})]}),n.jsx(re,{className:"p-6 sm:p-8 md:p-12",children:n.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-8",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{htmlFor:"name",className:"text-sm font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Nome Completo"}),n.jsx(ft,{id:"name",placeholder:"Como devemos te chamar?",className:"rounded-2xl h-14 bg-background border-border/50 focus:border-primary transition-all px-6 text-lg",...a.register("name")}),a.formState.errors.name&&n.jsx("p",{className:"text-xs text-destructive font-bold ml-1",children:a.formState.errors.name.message})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{htmlFor:"email",className:"text-sm font-black uppercase tracking-widest text-muted-foreground ml-1",children:"E-mail de Contato"}),n.jsx(ft,{id:"email",type:"email",placeholder:"exemplo@email.com",className:"rounded-2xl h-14 bg-background border-border/50 focus:border-primary transition-all px-6 text-lg",...a.register("email")}),a.formState.errors.email&&n.jsx("p",{className:"text-xs text-destructive font-bold ml-1",children:a.formState.errors.email.message})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{htmlFor:"subject",className:"text-sm font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Assunto"}),n.jsx(ft,{id:"subject",placeholder:"Sobre o que voc gostaria de falar?",className:"rounded-2xl h-14 bg-background border-border/50 focus:border-primary transition-all px-6 text-lg",...a.register("subject")}),a.formState.errors.subject&&n.jsx("p",{className:"text-xs text-destructive font-bold ml-1",children:a.formState.errors.subject.message})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(vt,{htmlFor:"message",className:"text-sm font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Sua Mensagem"}),n.jsx(Gs,{id:"message",placeholder:"Conte-nos os detalhes...",className:"rounded-3xl min-h-[200px] bg-background border-border/50 focus:border-primary transition-all p-6 text-lg resize-none",...a.register("message")}),a.formState.errors.message&&n.jsx("p",{className:"text-xs text-destructive font-bold ml-1",children:a.formState.errors.message.message})]}),n.jsxs(D,{type:"submit",disabled:a.formState.isSubmitting,className:"w-full rounded-[2rem] h-16 text-xl font-black shadow-2xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[n.jsx(hu,{className:"h-6 w-6 mr-3"}),"Enviar agora"]})]})})]})},"form")})})]}),n.jsxs("footer",{className:"mt-20 text-center space-y-4 py-12 px-4 border-t border-border/50",children:[n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 sm:gap-6 text-muted-foreground text-sm sm:text-base",children:[n.jsx("a",{href:"https://fabrisite.com.br/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors font-bold",children:"FabriSite"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-border"}),n.jsx("a",{href:"#",className:"hover:text-primary transition-colors font-bold",children:"Termos de Uso"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-border"}),n.jsx("a",{href:"#",className:"hover:text-primary transition-colors font-bold",children:"Privacidade"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground/60 font-medium",children:" 2026 BbliaFS. Criado com dedicao para sua jornada espiritual."})]})]})]})}const Sfe=yn({email:Be().email("Email invlido"),password:Be().min(6,"Senha deve ter pelo menos 6 caracteres")});function Fb(){const[,t]=eo(),{toast:e}=nr(),{isAuthenticated:r,isLoading:s}=Vn(),[a,i]=m.useState(!1);m.useEffect(()=>{if(!s&&r&&!a){const h=setTimeout(()=>t("/"),100);return()=>clearTimeout(h)}},[r,s,t,a]);const[o,l]=m.useState(!1),c=dn({resolver:un(Sfe),defaultValues:{email:"",password:""}}),d=it({mutationFn:async h=>{const{data:f,error:g}=await bs.auth.signInWithPassword({email:h.email,password:h.password});if(g)throw new Error(g.message==="Invalid login credentials"?"E-mail ou senha incorretos.":g.message);return f},onSuccess:async()=>{t("/",{replace:!0}),Ke.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Login realizado!",description:"Bem-vindo de volta!"})},onError:h=>{e({title:"Erro no login",description:h.message||"Email ou senha incorretos",variant:"destructive"})}});it({mutationFn:async()=>{const h=du?"https://bibliafs.com.br/":`${window.location.origin}/`,{data:f,error:g}=await bs.auth.signInWithOAuth({provider:"google",options:{redirectTo:h}});if(g)throw g;return f},onError:h=>{e({title:"Erro no login com Google",description:h.message||"No foi possvel entrar com Google",variant:"destructive"})}});const u=h=>{i(!0),d.mutate(h)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-purple-50/10 to-amber-50/10 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[120px]"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-accent/5 rounded-full blur-[120px]"}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md relative z-10",children:n.jsxs(Y,{className:"border-none shadow-2xl rounded-3xl backdrop-blur-sm bg-card/90",children:[n.jsxs(he,{className:"text-center space-y-2 pt-6",children:[n.jsx(ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"mx-auto",children:n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"w-16 h-16 object-cover rounded-2xl shadow-xl hover:scale-105 transition-transform duration-300"})}),n.jsx(ge,{className:"text-2xl font-extrabold tracking-tight",children:"Bem-vindo"}),n.jsx(qe,{className:"text-sm font-medium",children:"Acesse sua conta para continuar sua jornada"})]}),n.jsx(re,{className:"px-8 pb-6",children:n.jsx(aa,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[n.jsx(Gt,{control:c.control,name:"email",render:({field:h})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Email"}),n.jsx(qt,{children:n.jsx(ft,{type:"email",placeholder:"seu@email.com",className:"h-11 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary text-base","data-testid":"input-email",...h})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:c.control,name:"password",render:({field:h})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Senha"}),n.jsx(qt,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ft,{type:o?"text":"password",placeholder:"Sua senha",className:"h-11 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary text-base pr-10","data-testid":"input-password",...h}),n.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>l(!o),"data-testid":"button-toggle-password",children:o?n.jsx(_f,{className:"h-4 w-4"}):n.jsx(fc,{className:"h-4 w-4"})})]})}),n.jsx(ir,{})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Te,{href:"/forgot-password",className:"text-xs font-bold text-primary hover:text-primary/80 transition-colors","data-testid":"link-forgot-password",children:"Esqueceu sua senha?"})}),n.jsx(D,{type:"submit",className:"w-full h-12 rounded-xl font-bold text-base shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar agora"}),n.jsxs("div",{className:"relative py-2",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border/50"})}),n.jsx("div",{className:"relative flex justify-center text-[10px] uppercase",children:n.jsx("span",{className:"bg-card px-2 text-muted-foreground font-medium",children:"Ou continue com"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(D,{type:"button",variant:"outline",className:"w-full h-11 rounded-xl font-bold text-base border-primary/10 hover:bg-muted/50 transition-all flex items-center justify-center gap-2 opacity-50 cursor-not-allowed",onClick:()=>{e({title:"Login com Google indisponvel",description:"Estamos trabalhando nisso! Essa funcionalidade ser liberada em breve."})},"data-testid":"button-google-login",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),n.jsx("p",{className:"text-[10px] text-center text-muted-foreground animate-pulse font-medium",children:"O login com Google estar disponvel em breve!"}),n.jsx("div",{className:"pt-2 flex justify-center",children:n.jsx(Te,{href:"/",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-primary gap-2 transition-colors text-[10px] h-auto py-1 px-2",children:[n.jsx(Ms,{className:"h-3 w-3"}),"Voltar ao incio"]})})})]})]})})}),n.jsx(or,{className:"flex flex-col gap-4 px-8 pb-6 bg-muted/20 rounded-b-3xl border-t border-border/50",children:n.jsxs("p",{className:"text-xs text-center text-muted-foreground pt-4 font-medium",children:["No tem uma conta?"," ",n.jsx(Te,{href:"/register",className:"text-primary font-bold hover:underline underline-offset-4","data-testid":"link-register",children:"Criar uma conta grtis"})]})})]})})]})}const kfe=yn({email:Be().email("Email invlido"),firstName:Be().min(2,"Nome deve ter pelo menos 2 caracteres"),lastName:Be().min(2,"Sobrenome deve ter pelo menos 2 caracteres"),password:Be().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Be()}).refine(t=>t.password===t.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function GE(){const[,t]=eo(),{toast:e}=nr(),[r,s]=m.useState(!1),[a,i]=m.useState(!1),o=dn({resolver:un(kfe),defaultValues:{email:"",firstName:"",lastName:"",password:"",confirmPassword:""}}),l=it({mutationFn:async d=>{const u=await Xs("/api/auth/register-with-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password,firstName:d.firstName,lastName:d.lastName})}),h=await u.json();if(!u.ok)throw new Error(h.message||"Erro ao criar conta");return h.code&&console.log("[DEV] Cdigo OTP:",h.code),h},onSuccess:d=>{Ke.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Conta criada com sucesso!",description:"Voc pode fazer login agora."}),t("/login")},onError:d=>{e({title:"Erro ao criar conta",description:d.message||"No foi possvel criar sua conta",variant:"destructive"})}}),c=d=>{l.mutate(d)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-purple-50/10 to-amber-50/10 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[120px]"}),n.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-accent/5 rounded-full blur-[120px]"}),n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md relative z-10",children:n.jsxs(Y,{className:"border-none shadow-2xl rounded-3xl backdrop-blur-sm bg-card/90",children:[n.jsxs(he,{className:"text-center space-y-2 pt-6",children:[n.jsx(ne.div,{initial:{rotate:-10,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.2,duration:.5},className:"mx-auto",children:n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"w-16 h-16 object-cover rounded-2xl shadow-xl hover:scale-105 transition-transform duration-300"})}),n.jsx(ge,{className:"text-2xl font-extrabold tracking-tight",children:"Criar Conta"}),n.jsx(qe,{className:"text-sm font-medium",children:"Junte-se  nossa comunidade de estudo bblico"})]}),n.jsx(re,{className:"px-8 pb-6",children:n.jsx(aa,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Gt,{control:o.control,name:"firstName",render:({field:d})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Nome"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Joo",className:"h-10 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary font-medium text-sm","data-testid":"input-firstName",...d})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:o.control,name:"lastName",render:({field:d})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Sobrenome"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Silva",className:"h-10 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary font-medium text-sm","data-testid":"input-lastName",...d})}),n.jsx(ir,{})]})})]}),n.jsx(Gt,{control:o.control,name:"email",render:({field:d})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Email"}),n.jsx(qt,{children:n.jsx(ft,{type:"email",placeholder:"seu@email.com",className:"h-10 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary font-medium text-sm","data-testid":"input-email",...d})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:o.control,name:"password",render:({field:d})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Senha"}),n.jsx(qt,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ft,{type:r?"text":"password",placeholder:"Mnimo 6 caracteres",className:"h-10 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary font-medium pr-10 text-sm","data-testid":"input-password",...d}),n.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>s(!r),"data-testid":"button-toggle-password",children:r?n.jsx(_f,{className:"h-4 w-4"}):n.jsx(fc,{className:"h-4 w-4"})})]})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:o.control,name:"confirmPassword",render:({field:d})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-xs",children:"Confirmar Senha"}),n.jsx(qt,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ft,{type:a?"text":"password",placeholder:"Confirme sua senha",className:"h-10 rounded-xl bg-muted/50 border-primary/5 focus-visible:ring-primary font-medium pr-10 text-sm","data-testid":"input-confirmPassword",...d}),n.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>i(!a),"data-testid":"button-toggle-confirmPassword",children:a?n.jsx(_f,{className:"h-4 w-4"}):n.jsx(fc,{className:"h-4 w-4"})})]})}),n.jsx(ir,{})]})}),n.jsx(D,{type:"submit",className:"w-full h-12 rounded-xl font-bold text-base shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all mt-2",disabled:l.isPending,"data-testid":"button-register",children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Comear agora"})]})})}),n.jsxs(or,{className:"flex flex-col gap-4 px-8 pb-6 bg-muted/20 rounded-b-3xl border-t border-border/50",children:[n.jsxs("div",{className:"w-full space-y-3 pt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-[10px] uppercase",children:n.jsx("span",{className:"bg-muted px-2 text-muted-foreground font-bold",children:"Ou continue com"})})]}),n.jsxs(D,{variant:"outline",type:"button",className:"w-full h-10 rounded-xl font-bold text-sm flex items-center justify-center gap-2 border-border/50 bg-card hover:bg-muted/50 transition-all shadow-sm",onClick:()=>window.location.href="/api/auth/login","data-testid":"button-register-google",children:[n.jsx(moe,{className:"h-4 w-4 text-[#4285F4]"}),"Google"]}),n.jsx("div",{className:"pt-1 flex justify-center",children:n.jsx(Te,{href:"/",children:n.jsxs(D,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-primary gap-2 transition-colors text-[10px] h-auto py-1 px-2",children:[n.jsx(Ms,{className:"h-3 w-3"}),"Voltar ao incio"]})})})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground font-medium",children:["J tem uma conta?"," ",n.jsx(Te,{href:"/login",className:"text-primary font-bold hover:underline underline-offset-4","data-testid":"link-login",children:"Fazer login"})]})]})]})})]})}const Cfe=yn({email:Be().email("Email invlido")});function Efe(){const{toast:t}=nr(),[e,r]=m.useState(!1),s=dn({resolver:un(Cfe),defaultValues:{email:""}}),a=it({mutationFn:async o=>(await Ze("POST","/api/auth/forgot-password",o)).json(),onSuccess:()=>{r(!0),t({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})},onError:o=>{t({title:"Erro",description:o.message||"No foi possvel enviar o email de recuperao",variant:"destructive"})}}),i=o=>{a.mutate(o)};return e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(he,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:n.jsx(jf,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),n.jsx(ge,{className:"text-2xl font-bold",children:"Email Enviado!"}),n.jsx(qe,{children:"Enviamos um link de recuperao para o email informado. Verifique sua caixa de entrada e spam."})]}),n.jsx(re,{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-muted rounded-md",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(li,{className:"w-4 h-4"}),n.jsx("span",{children:"O link expira em 1 hora"})]})})}),n.jsx(or,{className:"flex flex-col gap-4",children:n.jsx(Te,{href:"/login",className:"w-full",children:n.jsxs(D,{variant:"outline",className:"w-full","data-testid":"button-back-login",children:[n.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Voltar para o login"]})})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(he,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx(Hs,{className:"w-8 h-8 text-primary"})}),n.jsx(ge,{className:"text-2xl font-bold",children:"Esqueceu sua senha?"}),n.jsx(qe,{children:"Digite seu email e enviaremos um link para voc criar uma nova senha."})]}),n.jsx(re,{children:n.jsx(aa,{...s,children:n.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[n.jsx(Gt,{control:s.control,name:"email",render:({field:o})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Email"}),n.jsx(qt,{children:n.jsx(ft,{type:"email",placeholder:"seu@email.com","data-testid":"input-email",...o})}),n.jsx(ir,{})]})}),n.jsx(D,{type:"submit",className:"w-full",disabled:a.isPending,"data-testid":"button-send-reset",children:a.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar link de recuperao"})]})})}),n.jsx(or,{className:"flex flex-col gap-4",children:n.jsx(Te,{href:"/login",className:"w-full",children:n.jsxs(D,{variant:"ghost",className:"w-full","data-testid":"button-back-login",children:[n.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Voltar para o login"]})})})]})})}const Pfe=yn({password:Be().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Be().min(6,"Confirme sua senha")}).refine(t=>t.password===t.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function Tfe(){eo();const t=s7(),{toast:e}=nr(),[r,s]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(!1),d=new URLSearchParams(t).get("token"),u=dn({resolver:un(Pfe),defaultValues:{password:"",confirmPassword:""}}),h=it({mutationFn:async g=>(await Ze("POST","/api/auth/reset-password",{token:d,password:g.password})).json(),onSuccess:()=>{l(!0),e({title:"Senha redefinida!",description:"Sua senha foi alterada com sucesso."})},onError:g=>{e({title:"Erro",description:g.message||"No foi possvel redefinir a senha. O link pode ter expirado.",variant:"destructive"})}}),f=g=>{if(!d){e({title:"Link invlido",description:"O link de recuperao  invlido ou expirou.",variant:"destructive"});return}h.mutate(g)};return d?o?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(he,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:n.jsx(jf,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),n.jsx(ge,{className:"text-2xl font-bold",children:"Senha Redefinida!"}),n.jsx(qe,{children:"Sua senha foi alterada com sucesso. Agora voc pode fazer login com sua nova senha."})]}),n.jsx(or,{className:"flex flex-col gap-4",children:n.jsx(Te,{href:"/login",className:"w-full",children:n.jsx(D,{className:"w-full","data-testid":"button-go-login",children:"Ir para o login"})})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(he,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx(Hs,{className:"w-8 h-8 text-primary"})}),n.jsx(ge,{className:"text-2xl font-bold",children:"Nova Senha"}),n.jsx(qe,{children:"Digite sua nova senha abaixo."})]}),n.jsx(re,{children:n.jsx(aa,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[n.jsx(Gt,{control:u.control,name:"password",render:({field:g})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Nova Senha"}),n.jsx(qt,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ft,{type:r?"text":"password",placeholder:"Mnimo 6 caracteres","data-testid":"input-password",...g}),n.jsx(D,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>s(!r),"data-testid":"button-toggle-password",children:r?n.jsx(_f,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(fc,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:u.control,name:"confirmPassword",render:({field:g})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Confirmar Senha"}),n.jsx(qt,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ft,{type:a?"text":"password",placeholder:"Digite novamente","data-testid":"input-confirm-password",...g}),n.jsx(D,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>i(!a),"data-testid":"button-toggle-confirm-password",children:a?n.jsx(_f,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(fc,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(ir,{})]})}),n.jsx(D,{type:"submit",className:"w-full",disabled:h.isPending,"data-testid":"button-reset-password",children:h.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Redefinindo..."]}):"Redefinir Senha"})]})})}),n.jsx(or,{className:"flex flex-col gap-4",children:n.jsx(Te,{href:"/login",className:"w-full",children:n.jsxs(D,{variant:"ghost",className:"w-full","data-testid":"button-back-login",children:[n.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Voltar para o login"]})})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(he,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:n.jsx(Hs,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),n.jsx(ge,{className:"text-2xl font-bold",children:"Link Invlido"}),n.jsx(qe,{children:"O link de recuperao  invlido ou expirou. Por favor, solicite um novo link."})]}),n.jsxs(or,{className:"flex flex-col gap-4",children:[n.jsx(Te,{href:"/forgot-password",className:"w-full",children:n.jsx(D,{className:"w-full","data-testid":"button-request-new",children:"Solicitar novo link"})}),n.jsx(Te,{href:"/login",className:"w-full",children:n.jsxs(D,{variant:"ghost",className:"w-full","data-testid":"button-back-login",children:[n.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Voltar para o login"]})})]})]})})}function Afe(){const[t]=eo();return n.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-b from-background via-purple-50/5 to-amber-50/5 dark:from-background dark:via-purple-950/10 dark:to-amber-950/10 p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[150px]"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-amber-500/5 rounded-full blur-[150px]"}),n.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10",children:[n.jsxs(Y,{className:"w-full max-w-md mx-4 rounded-3xl border-none bg-card/80 backdrop-blur-xl shadow-2xl",children:[n.jsxs(re,{className:"pt-8 pb-6 px-8 text-center",children:[n.jsx(ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"mx-auto mb-6",children:n.jsx("img",{src:gu,alt:"BbliaFS Logo",className:"w-20 h-20 object-cover rounded-2xl shadow-xl mx-auto",loading:"lazy","data-testid":"img-logo"})}),n.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx($D,{className:"h-6 w-6 text-destructive"})})}),n.jsx("h1",{className:"text-4xl font-black text-foreground mb-2","data-testid":"text-404-title",children:"404"}),n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4","data-testid":"text-404-subtitle",children:"Pgina No Encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-2","data-testid":"text-404-description",children:"A pgina que voc est procurando no existe ou foi movida."}),t&&t!=="/"&&n.jsx("p",{className:"text-xs text-muted-foreground/70 font-mono bg-muted/50 rounded-lg px-3 py-2 mb-4 break-all","data-testid":"text-404-path",children:t})]}),n.jsxs(or,{className:"flex flex-col gap-3 px-8 pb-8",children:[n.jsx(Te,{href:"/",className:"w-full","data-testid":"link-go-home",children:n.jsxs(D,{size:"lg",className:"w-full rounded-xl font-bold shadow-lg shadow-primary/20","data-testid":"button-go-home",children:[n.jsx(z1,{className:"h-5 w-5 mr-2"}),"Voltar ao Incio"]})}),n.jsxs("div",{className:"flex gap-3 w-full",children:[n.jsxs(D,{variant:"outline",size:"lg",className:"flex-1 rounded-xl",onClick:()=>window.history.back(),"data-testid":"button-go-back",children:[n.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Voltar"]}),n.jsx(Te,{href:"/bible",className:"flex-1","data-testid":"link-go-bible",children:n.jsxs(D,{variant:"outline",size:"lg",className:"w-full rounded-xl","data-testid":"button-go-bible",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),"Bblia"]})})]})]})]}),n.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6","data-testid":"text-help-message",children:["Se o problema persistir, entre em"," ",n.jsx(Te,{href:"/contact",className:"text-primary underline-offset-4","data-testid":"link-contact",children:"contato conosco"})]})]})]})}const Rfe=yn({name:Be().min(3,"Nome deve ter pelo menos 3 caracteres").max(100),description:Be().max(500).optional(),isPublic:Ku().default(!1)}),Ofe=yn({email:Be().email("Email invlido").optional().or(IV("")),phone:Be().optional()}),Ife=yn({content:Be().min(1,"Mensagem no pode estar vazia").max(2e3)}),Dfe=yn({title:Be().min(3,"Ttulo deve ter pelo menos 3 caracteres").max(200),description:Be().max(500).optional(),question:Be().max(500).optional(),verseReference:Be().max(100).optional(),verseText:Be().max(1e3).optional(),useAI:Ku().default(!0)}),Mfe=yn({content:Be().min(10,"Resposta deve ter pelo menos 10 caracteres").max(2e3),verseReference:Be().max(100).optional()});function XE(){var Jt,se,rt,I;const{user:t}=Vn(),{toast:e}=nr();Lr();const[r,s]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState("chat"),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,g]=m.useState(""),[b,x]=m.useState(null),[j,y]=m.useState(!1),[v,N]=m.useState(null),[_,k]=m.useState(!1),{data:P=[],isLoading:C}=Et({queryKey:["/api/groups"],retry:0}),{data:T=[],isLoading:M}=Et({queryKey:["/api/groups/my"],retry:0,enabled:!!t}),{data:A=[]}=Et({queryKey:["/api/groups",a==null?void 0:a.id,"members"],enabled:!!a}),{data:W=[],isLoading:B}=Et({queryKey:["/api/groups",a==null?void 0:a.id,"messages"],enabled:!!a,refetchInterval:5e3}),{data:L=[]}=Et({queryKey:["/api/groups",a==null?void 0:a.id,"invites"],enabled:!!a&&(a.role==="leader"||a.role==="moderator")}),{data:K=[],isLoading:X}=Et({queryKey:["/api/groups",a==null?void 0:a.id,"discussions"],enabled:!!a}),{data:G}=Et({queryKey:["/api/discussions",v==null?void 0:v.id],enabled:!!v,refetchInterval:1e4}),ae=dn({resolver:un(Rfe),defaultValues:{name:"",description:"",isPublic:!1}}),H=dn({resolver:un(Ofe),defaultValues:{email:"",phone:""}}),z=dn({resolver:un(Ife),defaultValues:{content:""}}),Z=dn({resolver:un(Dfe),defaultValues:{title:"",description:"",question:"",verseReference:"",verseText:"",useAI:!0}}),me=dn({resolver:un(Mfe),defaultValues:{content:"",verseReference:""}}),Se=it({mutationFn:async R=>(await Ze("POST","/api/groups",R)).json(),onSuccess:R=>{Ke.setQueryData(["/api/groups"],(O=[])=>[R,...O]),Ke.setQueryData(["/api/groups/my"],(O=[])=>[{...R,role:R.role||"leader",joinedAt:R.joinedAt||new Date().toISOString()},...O]),s(!1),ae.reset(),e({title:"Grupo criado!",description:"Seu grupo de estudo foi criado com sucesso."}),setTimeout(()=>{Ke.invalidateQueries({queryKey:["/api/groups"]}),Ke.invalidateQueries({queryKey:["/api/groups/my"]})},500)},onError:R=>{e({title:"Erro ao criar grupo",description:R.message,variant:"destructive"})}}),tt=it({mutationFn:async R=>await Ze("POST",`/api/groups/${R}/join`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/groups"]}),Ke.invalidateQueries({queryKey:["/api/groups/my"]}),e({title:"Bem-vindo ao grupo!",description:"Voc agora  membro deste grupo."})},onError:R=>{e({title:"Erro ao entrar no grupo",description:R.message,variant:"destructive"})}}),Pt=it({mutationFn:async R=>await Ze("POST",`/api/groups/${R}/leave`),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/groups"]}),Ke.invalidateQueries({queryKey:["/api/groups/my"]}),i(null),e({title:"Voc saiu do grupo",description:"Voc no  mais membro deste grupo."})},onError:R=>{e({title:"Erro ao sair do grupo",description:R.message,variant:"destructive"})}}),Ae=it({mutationFn:async R=>await Ze("POST",`/api/groups/${a==null?void 0:a.id}/messages`,R),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/groups",a==null?void 0:a.id,"messages"]}),z.reset()},onError:R=>{e({title:"Erro ao enviar mensagem",description:R.message,variant:"destructive"})}}),wt=it({mutationFn:async R=>(await Ze("POST",`/api/groups/${a==null?void 0:a.id}/invites`,R)).json(),onSuccess:R=>{Ke.invalidateQueries({queryKey:["/api/groups",a==null?void 0:a.id,"invites"]}),H.reset(),d(!1),e({title:"Convite criado!",description:`Cdigo: ${R.inviteCode} - Compartilhe com quem deseja convidar.`})},onError:R=>{e({title:"Erro ao criar convite",description:R.message,variant:"destructive"})}}),we=it({mutationFn:async R=>await Ze("POST","/api/invites/accept",{code:R}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/groups"]}),Ke.invalidateQueries({queryKey:["/api/groups/my"]}),h(!1),g(""),e({title:"Bem-vindo ao grupo!",description:"Voc agora  membro deste grupo."})},onError:R=>{e({title:"Erro ao usar cdigo",description:R.message,variant:"destructive"})}}),ht=it({mutationFn:async R=>(await Ze("POST",`/api/groups/${a==null?void 0:a.id}/discussions`,R)).json(),onSuccess:R=>{Ke.invalidateQueries({queryKey:["/api/groups",a==null?void 0:a.id,"discussions"]}),Z.reset(),y(!1),e({title:"Discusso criada!",description:R.question?"Pergunta gerada com sucesso":"Discusso iniciada"})},onError:R=>{e({title:"Erro ao criar discusso",description:R.message,variant:"destructive"})}}),ct=it({mutationFn:async R=>await Ze("POST",`/api/discussions/${v==null?void 0:v.id}/answers`,R),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/discussions",v==null?void 0:v.id]}),me.reset(),e({title:"Resposta enviada!",description:"Sua resposta foi registrada."})},onError:R=>{e({title:"Erro ao enviar resposta",description:R.message,variant:"destructive"})}}),mt=it({mutationFn:async R=>(k(!0),(await Ze("POST",`/api/discussions/${R}/synthesize`,{})).json()),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/discussions",v==null?void 0:v.id]}),k(!1),e({title:"Sntese gerada!",description:"A IA analisou todas as respostas."})},onError:R=>{k(!1),e({title:"Erro ao sintetizar",description:R.message,variant:"destructive"})}}),ut=it({mutationFn:async({answerId:R,status:O,comment:de})=>await Ze("PATCH",`/api/answers/${R}/review`,{status:O,comment:de}),onSuccess:()=>{Ke.invalidateQueries({queryKey:["/api/discussions",v==null?void 0:v.id]}),e({title:"Avaliao salva!"})},onError:R=>{e({title:"Erro ao avaliar",description:R.message,variant:"destructive"})}}),Je=R=>{Se.mutate(R)},ar=R=>{Ae.mutate(R)},jt=R=>{if(!R.email&&!R.phone){e({title:"Erro",description:"Informe um email ou telefone",variant:"destructive"});return}wt.mutate(R)},qr=R=>{navigator.clipboard.writeText(R),x(R),setTimeout(()=>x(null),2e3),e({title:"Cdigo copiado!",description:"Compartilhe este cdigo com quem deseja convidar."})},xt=C||M,Pr=P.filter(R=>R.isPublic),Hr=new Set(T.map(R=>R.id));if(a){const R=a.role==="leader"||a.role==="moderator";return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 md:p-8",children:[n.jsxs(D,{variant:"ghost",onClick:()=>i(null),className:"mb-4","data-testid":"button-back",children:[n.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Voltar aos grupos"]}),n.jsxs(Y,{children:[n.jsx(he,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs(ge,{className:"flex items-center gap-2 text-xl sm:text-2xl flex-wrap",children:[a.name,a.role==="leader"&&n.jsx(sc,{className:"h-5 w-5 text-yellow-500"})]}),n.jsx(qe,{className:"mt-1",children:a.description||"Grupo de estudo bblico"})]}),n.jsx(ot,{variant:a.isPublic?"secondary":"outline",children:a.isPublic?n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"h-3 w-3 mr-1"})," Pblico"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wi,{className:"h-3 w-3 mr-1"})," Privado"]})})]})}),n.jsx(re,{children:n.jsxs(cn,{value:o,onValueChange:O=>l(O),children:[n.jsxs(Ks,{className:"w-full justify-start mb-4 flex-wrap gap-1 h-auto",children:[n.jsxs(Ct,{value:"chat","data-testid":"tab-chat",children:[n.jsx(So,{className:"h-4 w-4 mr-2"}),"Discusso"]}),n.jsxs(Ct,{value:"members","data-testid":"tab-members",children:[n.jsx(As,{className:"h-4 w-4 mr-2"}),"Membros (",A.length,")"]}),R&&n.jsxs(Ct,{value:"invites","data-testid":"tab-invites",children:[n.jsx(xh,{className:"h-4 w-4 mr-2"}),"Convites"]}),n.jsxs(Ct,{value:"discussions","data-testid":"tab-discussions",children:[n.jsx(uu,{className:"h-4 w-4 mr-2"}),"Estudos (",K.length,")"]})]}),n.jsxs(Mt,{value:"chat",className:"space-y-4",children:[n.jsx(kn,{className:"h-[400px] border rounded-lg p-4",children:B?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Ge,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):W.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[n.jsx(So,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma mensagem ainda"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a iniciar a discusso!"})]}):n.jsx("div",{className:"space-y-4",children:[...W].reverse().map(O=>{var ve,oe,Ne,pt,Bt;const de=((ve=O.user)==null?void 0:ve.id)===(t==null?void 0:t.id);return n.jsxs("div",{className:`flex gap-3 ${de?"flex-row-reverse":""}`,"data-testid":`message-${O.id}`,children:[n.jsxs(Li,{className:"h-8 w-8 flex-shrink-0",children:[n.jsx(Go,{src:((oe=O.user)==null?void 0:oe.profileImageUrl)||""}),n.jsx($i,{children:((pt=(Ne=O.user)==null?void 0:Ne.displayName)==null?void 0:pt.charAt(0))||"U"})]}),n.jsxs("div",{className:`flex-1 max-w-[80%] ${de?"text-right":""}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:((Bt=O.user)==null?void 0:Bt.displayName)||"Usurio"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Ld(new Date(O.createdAt),{addSuffix:!0,locale:$d})})]}),n.jsxs("div",{className:`rounded-lg p-3 ${de?"bg-primary text-primary-foreground":"bg-muted"}`,children:[O.verseReference&&n.jsxs("div",{className:"text-xs opacity-80 mb-1 flex items-center gap-1",children:[n.jsx(Sr,{className:"h-3 w-3"}),O.verseReference]}),n.jsx("p",{className:"text-sm",children:O.content})]})]})]},O.id)})})}),n.jsx(aa,{...z,children:n.jsxs("form",{onSubmit:z.handleSubmit(ar),className:"flex flex-col sm:flex-row gap-2",children:[n.jsx(Gt,{control:z.control,name:"content",render:({field:O})=>n.jsx(Ut,{className:"flex-1 min-w-0",children:n.jsx(qt,{children:n.jsx(ft,{placeholder:"Digite sua mensagem...","data-testid":"input-message",...O})})})}),n.jsx(D,{type:"submit",disabled:Ae.isPending,"data-testid":"button-send-message",children:Ae.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(hu,{className:"h-4 w-4"})})]})})]}),n.jsx(Mt,{value:"members",children:n.jsx("div",{className:"space-y-2",children:A.map(O=>{var de;return n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":`member-${O.id}`,children:[n.jsxs(Li,{className:"h-10 w-10",children:[n.jsx(Go,{src:O.userImage||""}),n.jsx($i,{children:((de=O.userName)==null?void 0:de.charAt(0))||"U"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:O.userName||"Usurio"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:O.userEmail})]}),n.jsxs(ot,{variant:O.role==="leader"?"default":"secondary",children:[O.role==="leader"&&n.jsx(sc,{className:"h-3 w-3 mr-1"}),O.role==="leader"?"Lder":O.role==="moderator"?"Moderador":"Membro"]})]},O.id)})})}),R&&n.jsx(Mt,{value:"invites",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"font-medium",children:"Convites pendentes"}),n.jsxs(oa,{open:c,onOpenChange:d,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{size:"sm","data-testid":"button-new-invite",children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Novo Convite"]})}),n.jsxs(Pn,{children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Convidar para o grupo"}),n.jsx(Rn,{children:"Envie um convite por email ou telefone"})]}),n.jsx(aa,{...H,children:n.jsxs("form",{onSubmit:H.handleSubmit(jt),className:"space-y-4",children:[n.jsx(Gt,{control:H.control,name:"email",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Email"}),n.jsx(qt,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(li,{className:"h-4 w-4 mt-3 text-muted-foreground"}),n.jsx(ft,{placeholder:"email@exemplo.com","data-testid":"input-invite-email",...O})]})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:H.control,name:"phone",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Telefone (opcional)"}),n.jsx(qt,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(c2,{className:"h-4 w-4 mt-3 text-muted-foreground"}),n.jsx(ft,{placeholder:"(11) 99999-9999","data-testid":"input-invite-phone",...O})]})}),n.jsx(ir,{})]})}),n.jsx(la,{children:n.jsxs(D,{type:"submit",disabled:wt.isPending,"data-testid":"button-create-invite",children:[wt.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(xh,{className:"h-4 w-4 mr-2"}),"Criar Convite"]})})]})})]})]})]}),L.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(xh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum convite pendente"}),n.jsx("p",{className:"text-sm",children:"Crie um convite para adicionar membros"})]}):n.jsx("div",{className:"space-y-3",children:L.map(O=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 gap-4 rounded-2xl border bg-card/50 shadow-sm","data-testid":`invite-${O.id}`,children:[n.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[O.invitedEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(li,{className:"h-4 w-4 text-primary/70"}),n.jsx("span",{className:"truncate max-w-[180px] xs:max-w-none",children:O.invitedEmail})]}),O.invitedPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(c2,{className:"h-4 w-4 text-primary/70"}),n.jsx("span",{children:O.invitedPhone})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"text-[10px] uppercase font-bold tracking-wider text-muted-foreground/60 bg-muted px-2 py-0.5 rounded-md",children:["Cdigo: ",n.jsx("span",{className:"font-mono text-primary",children:O.inviteCode})]})})]}),n.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-3 pt-3 sm:pt-0 border-t sm:border-t-0 border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ot,{variant:O.status==="pending"?"outline":O.status==="accepted"?"default":"secondary",className:"capitalize font-bold text-[10px] tracking-tight",children:O.status==="pending"?"Pendente":O.status==="accepted"?"Aceito":"Expirado"}),n.jsx(D,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-xl text-muted-foreground hover:text-primary transition-all",onClick:()=>qr(O.inviteCode),"data-testid":`button-copy-${O.id}`,children:b===O.inviteCode?n.jsx(as,{className:"h-4 w-4 text-green-500"}):n.jsx(V1,{className:"h-4 w-4"})})]})})]},O.id))})]})}),n.jsx(Mt,{value:"discussions",className:"space-y-4",children:v?n.jsxs("div",{className:"space-y-4",children:[n.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>N(null),"data-testid":"button-back-discussions",children:[n.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Voltar s discusses"]}),n.jsxs(Y,{children:[n.jsxs(he,{children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(ge,{className:"text-lg",children:(G==null?void 0:G.title)||v.title}),n.jsx(qe,{children:(G==null?void 0:G.description)||v.description})]}),n.jsx(ot,{variant:(G==null?void 0:G.status)==="open"?"default":(G==null?void 0:G.status)==="synthesized"?"secondary":"outline",children:(G==null?void 0:G.status)==="open"?"Aberta":(G==null?void 0:G.status)==="synthesized"?"Sintetizada":"Encerrada"})]}),(G==null?void 0:G.verseReference)&&n.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-lg",children:[n.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[n.jsx(Sr,{className:"h-4 w-4"}),G.verseReference]}),G.verseText&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-1 italic",children:['"',G.verseText,'"']})]})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[n.jsxs("p",{className:"font-medium flex items-center gap-2 mb-2",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),"Pergunta para Reflexo"]}),n.jsx("p",{className:"text-lg",children:(G==null?void 0:G.question)||v.question})]}),(G==null?void 0:G.status)==="open"&&n.jsx(aa,{...me,children:n.jsxs("form",{onSubmit:me.handleSubmit(O=>ct.mutate(O)),className:"space-y-3",children:[n.jsx(Gt,{control:me.control,name:"content",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Sua Resposta"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Compartilhe sua reflexo...",rows:4,"data-testid":"input-answer",...O})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:me.control,name:"verseReference",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Referncia Bblica (opcional)"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Joo 3:16","data-testid":"input-answer-verse",...O})})]})}),n.jsxs(D,{type:"submit",disabled:ct.isPending,"data-testid":"button-submit-answer",children:[ct.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(hu,{className:"h-4 w-4 mr-2"}),"Enviar Resposta"]})]})}),n.jsx(vs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[n.jsx(So,{className:"h-4 w-4"}),"Respostas (",((Jt=G==null?void 0:G.answers)==null?void 0:Jt.length)||0,")"]}),((se=G==null?void 0:G.answers)==null?void 0:se.length)===0?n.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[n.jsx(So,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhuma resposta ainda"}),n.jsx("p",{className:"text-sm",children:"Seja o primeiro a compartilhar!"})]}):n.jsx("div",{className:"space-y-3",children:(rt=G==null?void 0:G.answers)==null?void 0:rt.map(O=>{var de,ve,oe,Ne;return n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(Li,{className:"h-8 w-8",children:[n.jsx(Go,{src:O.isAnonymous?"":((de=O.user)==null?void 0:de.profileImageUrl)||""}),n.jsx($i,{children:O.isAnonymous?"?":((oe=(ve=O.user)==null?void 0:ve.displayName)==null?void 0:oe.charAt(0))||"U"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-sm",children:O.isAnonymous?"Annimo":((Ne=O.user)==null?void 0:Ne.displayName)||"Membro"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Ld(new Date(O.createdAt),{addSuffix:!0,locale:$d})}),O.reviewStatus==="excellent"&&n.jsxs(ot,{variant:"default",className:"text-xs",children:[n.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Excelente"]}),O.reviewStatus==="approved"&&n.jsxs(ot,{variant:"secondary",className:"text-xs",children:[n.jsx(os,{className:"h-3 w-3 mr-1"}),"Aprovada"]}),O.reviewStatus==="needs_review"&&n.jsxs(ot,{variant:"outline",className:"text-xs",children:[n.jsx($D,{className:"h-3 w-3 mr-1"}),"Revisar"]})]}),n.jsx("p",{className:"text-sm",children:O.content}),O.verseReference&&n.jsxs("p",{className:"text-xs text-primary mt-1 flex items-center gap-1",children:[n.jsx(Sr,{className:"h-3 w-3"}),O.verseReference]}),O.reviewComment&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2 italic bg-muted p-2 rounded",children:["Comentrio do lder: ",O.reviewComment]}),R&&O.reviewStatus==="pending"&&n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsxs(D,{size:"sm",variant:"outline",onClick:()=>ut.mutate({answerId:O.id,status:"excellent"}),"data-testid":`button-review-excellent-${O.id}`,children:[n.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Excelente"]}),n.jsxs(D,{size:"sm",variant:"outline",onClick:()=>ut.mutate({answerId:O.id,status:"approved"}),"data-testid":`button-review-approve-${O.id}`,children:[n.jsx(os,{className:"h-3 w-3 mr-1"}),"Aprovar"]})]})]})]})},O.id)})})]}),(G==null?void 0:G.aiSynthesis)&&n.jsxs(n.Fragment,{children:[n.jsx(vs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),"Sntese da IA"]}),n.jsx("div",{className:"prose prose-sm max-w-none p-4 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"whitespace-pre-wrap",children:G.aiSynthesis})})]})]}),R&&(G==null?void 0:G.status)==="open"&&(((I=G==null?void 0:G.answers)==null?void 0:I.length)||0)>=1&&n.jsx("div",{className:"flex gap-2 pt-4",children:n.jsxs(D,{onClick:()=>mt.mutate(v.id),disabled:_,"data-testid":"button-synthesize",children:[_?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(_r,{className:"h-4 w-4 mr-2"}),"Gerar Sntese com IA"]})})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[R&&n.jsx("div",{className:"flex justify-end",children:n.jsxs(oa,{open:j,onOpenChange:y,children:[n.jsx(Ji,{asChild:!0,children:n.jsxs(D,{"data-testid":"button-new-discussion",children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Nova Discusso"]})}),n.jsxs(Pn,{className:"max-w-lg",children:[n.jsxs(Tn,{children:[n.jsx(An,{children:"Criar Discusso Estruturada"}),n.jsx(Rn,{children:"A IA vai gerar uma pergunta reflexiva baseada no tema e versculo"})]}),n.jsx(aa,{...Z,children:n.jsxs("form",{onSubmit:Z.handleSubmit(O=>ht.mutate(O)),className:"space-y-4",children:[n.jsx(Gt,{control:Z.control,name:"title",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Tema da Discusso"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: A importncia da orao","data-testid":"input-discussion-title",...O})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:Z.control,name:"description",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Descrio (opcional)"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Breve contexto para a discusso...",rows:2,"data-testid":"input-discussion-description",...O})})]})}),n.jsx(Gt,{control:Z.control,name:"verseReference",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Referncia Bblica"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Mateus 6:5-15","data-testid":"input-discussion-verse",...O})})]})}),n.jsx(Gt,{control:Z.control,name:"verseText",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Texto do Versculo (opcional)"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Cole aqui o texto do versculo...",rows:3,"data-testid":"input-discussion-verse-text",...O})})]})}),n.jsx(Gt,{control:Z.control,name:"useAI",render:({field:O})=>n.jsxs(Ut,{className:"flex items-center gap-3 space-y-0 p-3 bg-muted rounded-lg",children:[n.jsx(qt,{children:n.jsx(Qn,{checked:O.value,onCheckedChange:O.onChange,"data-testid":"switch-use-ai"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(Lt,{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),"Gerar pergunta com IA"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"A IA criar uma pergunta reflexiva baseada no tema"})]})]})}),!Z.watch("useAI")&&n.jsx(Gt,{control:Z.control,name:"question",render:({field:O})=>n.jsxs(Ut,{children:[n.jsx(Lt,{children:"Sua Pergunta"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Digite a pergunta para discusso...",rows:2,"data-testid":"input-discussion-question",...O})}),n.jsx(ir,{})]})}),n.jsx(la,{children:n.jsxs(D,{type:"submit",disabled:ht.isPending,"data-testid":"button-create-discussion",children:[ht.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(_r,{className:"h-4 w-4 mr-2"}),"Criar Discusso"]})})]})})]})]})}),X?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ge,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):K.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(uu,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-lg",children:"Nenhuma discusso ainda"}),n.jsx("p",{className:"text-sm",children:R?"Crie uma discusso estruturada com IA":"O lder do grupo pode criar discusses"})]}):n.jsx("div",{className:"space-y-3",children:K.map(O=>{var de;return n.jsxs(Y,{className:"cursor-pointer hover-elevate",onClick:()=>N(O),"data-testid":`discussion-${O.id}`,children:[n.jsxs(he,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(ge,{className:"text-base",children:O.title}),n.jsx(ot,{variant:O.status==="open"?"default":O.status==="synthesized"?"secondary":"outline",children:O.status==="open"?"Aberta":O.status==="synthesized"?"Sintetizada":"Encerrada"})]}),O.verseReference&&n.jsxs("p",{className:"text-sm text-primary flex items-center gap-1",children:[n.jsx(Sr,{className:"h-3 w-3"}),O.verseReference]})]}),n.jsxs(re,{className:"pt-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.question}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(So,{className:"h-3 w-3"}),((de=O.answers)==null?void 0:de.length)||0," respostas"]}),n.jsx("span",{children:Ld(new Date(O.createdAt),{addSuffix:!0,locale:$d})}),O.aiSynthesis&&n.jsxs("span",{className:"flex items-center gap-1 text-primary",children:[n.jsx(_r,{className:"h-3 w-3"}),"Sntese disponvel"]})]})]})]},O.id)})})]})})]})}),n.jsxs(or,{className:"justify-between",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.length," membro",A.length!==1?"s":""]}),a.role!=="leader"&&n.jsxs(D,{variant:"outline",size:"sm",onClick:()=>Pt.mutate(a.id),disabled:Pt.isPending,"data-testid":"button-leave-group",children:[n.jsx(Sf,{className:"h-4 w-4 mr-2"}),"Sair do Grupo"]})]})]})]})})}return xt&&P.length===0?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),n.jsx("div",{className:"absolute inset-0 blur-xl bg-primary/20 animate-pulse rounded-full"})]}),n.jsx("p",{className:"text-muted-foreground font-medium animate-pulse tracking-wide",children:"Preparando seus grupos..."})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:[n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10 space-y-10",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[n.jsx(As,{className:"h-24 w-24 text-primary mb-6"}),n.jsx("h1",{className:"text-4xl font-extrabold text-center tracking-tight",children:"Grupos de Estudo"}),n.jsx("p",{className:"text-lg text-muted-foreground text-center max-w-md mt-2 font-medium",children:"Compartilhe sua jornada de f e estudo bblico com sua comunidade."})]}),n.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h1",{className:"font-display text-4xl sm:text-5xl font-extrabold text-foreground tracking-tight","data-testid":"text-page-title",children:["Grupos de ",n.jsxs("span",{className:"text-primary relative inline-block",children:["Estudo",n.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-primary/20 rounded-full"})]})]}),n.jsx("p",{className:"text-lg text-muted-foreground font-medium max-w-xl",children:"Compartilhe sua f e cresa em conhecimento bblico com sua comunidade."})]}),n.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[n.jsxs(D,{variant:"outline",size:"lg",onClick:()=>h(!0),className:"rounded-2xl h-14 px-8 border-primary/20 hover:bg-primary/5 hover:border-primary/40 transition-all font-bold flex-1 sm:flex-none shadow-sm","data-testid":"button-use-code",children:[n.jsx(xh,{className:"h-5 w-5 mr-2.5 text-primary"}),"Usar Cdigo"]}),n.jsxs(D,{size:"lg",onClick:()=>s(!0),className:"rounded-2xl h-14 px-8 font-bold shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all flex-1 sm:flex-none","data-testid":"button-create-group",children:[n.jsx(ls,{className:"h-5 w-5 mr-2.5"}),"Criar Grupo"]})]})]}),n.jsxs(cn,{defaultValue:"my-groups",className:"space-y-8",children:[n.jsxs(Ks,{className:"bg-muted/30 p-1.5 rounded-2xl border border-primary/5",children:[n.jsxs(Ct,{value:"my-groups",className:"rounded-xl px-8 py-2.5 data-[state=active]:bg-background data-[state=active]:shadow-lg font-bold transition-all","data-testid":"tab-my-groups",children:["Meus Grupos (",T.length,")"]}),n.jsxs(Ct,{value:"discover",className:"rounded-xl px-8 py-2.5 data-[state=active]:bg-background data-[state=active]:shadow-lg font-bold transition-all","data-testid":"tab-discover",children:["Descobrir (",Pr.length,")"]})]}),n.jsx(Mt,{value:"my-groups",className:"mt-0",children:T.length===0?n.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:n.jsx(Y,{className:"border-none bg-card/40 backdrop-blur-sm shadow-xl rounded-3xl",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-3xl bg-primary/10 mb-6 rotate-3",children:n.jsx(As,{className:"h-10 w-10 text-primary"})}),n.jsx("h3",{className:"font-bold text-2xl text-foreground mb-3",children:"Sua jornada comea aqui"}),n.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm font-medium",children:"Voc ainda no participa de nenhum grupo. Comece criando o seu ou explorando comunidades existentes."}),n.jsxs(D,{size:"lg",className:"rounded-2xl h-14 px-10 font-bold shadow-lg shadow-primary/20",onClick:()=>s(!0),"data-testid":"button-create-first-group",children:[n.jsx(ls,{className:"h-5 w-5 mr-2.5"}),"Criar Primeiro Grupo"]})]})})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((R,O)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},children:n.jsxs(Y,{className:"group relative overflow-hidden border-none bg-card/40 backdrop-blur-sm hover:bg-card/60 shadow-lg hover:shadow-2xl transition-all duration-500 rounded-3xl cursor-pointer",onClick:()=>i(R),"data-testid":`card-group-${R.id}`,children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary/80 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsxs(he,{className:"pb-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"p-3.5 rounded-2xl bg-primary/5 group-hover:bg-primary/10 transition-colors",children:n.jsx(As,{className:"h-7 w-7 text-primary"})}),n.jsx(ot,{variant:"secondary",className:"bg-primary/5 text-primary border-none rounded-xl px-3 py-1 text-xs font-bold uppercase tracking-wider",children:R.role==="leader"?n.jsxs(n.Fragment,{children:[n.jsx(sc,{className:"h-3 w-3 mr-1.5 text-amber-500"})," Lder"]}):"Membro"})]}),n.jsx(ge,{className:"text-2xl font-bold group-hover:text-primary transition-colors leading-tight",children:R.name}),n.jsx(qe,{className:"line-clamp-2 text-sm font-medium leading-relaxed mt-2 text-muted-foreground/80",children:R.description||"Nenhuma descrio fornecida para este grupo."})]}),n.jsxs(or,{className:"pt-4 border-t border-primary/5 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-1.5 text-xs font-bold text-primary/60 uppercase tracking-widest",children:R.isPublic?n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"h-3.5 w-3.5"})," Pblico"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wi,{className:"h-3.5 w-3.5"})," Privado"]})}),n.jsxs("div",{className:"flex items-center gap-1.5 text-primary font-bold text-sm group-hover:translate-x-1 transition-transform",children:["Acessar ",n.jsx(Da,{className:"h-4 w-4"})]})]})]})},R.id))})}),n.jsx(Mt,{value:"discover",className:"mt-0",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Pr.map((R,O)=>n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},children:n.jsxs(Y,{className:"group border-none bg-card/40 backdrop-blur-sm rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[n.jsxs(he,{className:"pb-4",children:[n.jsx("div",{className:"p-3.5 rounded-2xl bg-blue-500/5 group-hover:bg-blue-500/10 transition-colors w-fit mb-4",children:n.jsx(Pi,{className:"h-7 w-7 text-blue-500"})}),n.jsx(ge,{className:"text-2xl font-bold",children:R.name}),n.jsx(qe,{className:"line-clamp-2 min-h-[3rem] mt-2 text-sm font-medium text-muted-foreground/80",children:R.description})]}),n.jsx(or,{className:"bg-primary/5 p-5 group-hover:bg-primary/10 transition-colors",children:t?Hr.has(R.id)?n.jsxs(D,{className:"w-full rounded-2xl font-bold h-12 shadow-md shadow-primary/10",variant:"outline",onClick:()=>i(R),children:[n.jsx(os,{className:"mr-2 h-5 w-5"})," J  membro"]}):n.jsx(D,{className:"w-full rounded-2xl font-bold h-12 shadow-md shadow-primary/10",onClick:()=>tt.mutate(R.id),disabled:tt.isPending,children:tt.isPending?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):"Participar agora"}):n.jsx(Te,{href:"/login",children:n.jsx(D,{className:"w-full rounded-2xl font-bold h-12 shadow-md shadow-primary/10",children:"Entrar para participar"})})})]})},R.id))})})]})]}),n.jsx(oa,{open:u,onOpenChange:h,children:n.jsxs(Pn,{className:"rounded-3xl border-none shadow-2xl",children:[n.jsxs(Tn,{children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10 w-fit mb-4",children:n.jsx(xh,{className:"h-6 w-6 text-primary"})}),n.jsx(An,{className:"text-2xl font-bold",children:"Usar Cdigo de Convite"}),n.jsx(Rn,{className:"text-base",children:"Digite o cdigo que voc recebeu para entrar em um grupo privado"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx(ft,{placeholder:"Digite o cdigo (ex: ABC12345)",value:f,onChange:R=>g(R.target.value.toUpperCase()),className:"h-14 font-mono text-center text-xl rounded-2xl bg-muted/50 border-primary/10 focus-visible:ring-primary tracking-widest","data-testid":"input-invite-code"})}),n.jsxs(la,{className:"gap-3 sm:gap-0",children:[n.jsx(D,{variant:"outline",className:"rounded-xl",onClick:()=>{h(!1),g("")},children:"Cancelar"}),n.jsxs(D,{onClick:()=>we.mutate(f),disabled:!f||we.isPending,className:"rounded-xl font-bold shadow-lg shadow-primary/20","data-testid":"button-accept-invite",children:[we.isPending?n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(as,{className:"h-4 w-4 mr-2"}),"Entrar no Grupo"]})]})]})}),n.jsx(oa,{open:r,onOpenChange:s,children:n.jsxs(Pn,{className:"rounded-3xl border-none shadow-2xl max-w-xl",children:[n.jsxs(Tn,{children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10 w-fit mb-4",children:n.jsx(ls,{className:"h-6 w-6 text-primary"})}),n.jsx(An,{className:"text-3xl font-bold",children:"Novo Grupo"}),n.jsx(Rn,{className:"text-base",children:"Crie um ambiente seguro para compartilhar conhecimento bblico."})]}),n.jsx(aa,{...ae,children:n.jsxs("form",{onSubmit:ae.handleSubmit(Je),className:"space-y-6 pt-4",children:[n.jsx(Gt,{control:ae.control,name:"name",render:({field:R})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-sm",children:"Nome do Grupo"}),n.jsx(qt,{children:n.jsx(ft,{placeholder:"Ex: Jovens em Cristo",className:"h-14 rounded-2xl bg-muted/50 border-primary/10 focus-visible:ring-primary text-lg","data-testid":"input-group-name",...R})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:ae.control,name:"description",render:({field:R})=>n.jsxs(Ut,{children:[n.jsx(Lt,{className:"font-bold text-sm",children:"Descrio"}),n.jsx(qt,{children:n.jsx(Gs,{placeholder:"Qual o objetivo principal deste grupo?",rows:3,className:"rounded-2xl bg-muted/50 border-primary/10 focus-visible:ring-primary resize-none p-4","data-testid":"textarea-group-description",...R})}),n.jsx(ir,{})]})}),n.jsx(Gt,{control:ae.control,name:"isPublic",render:({field:R})=>n.jsxs(Ut,{className:"flex items-center justify-between p-4 rounded-2xl bg-muted/30 border border-primary/5",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Lt,{className:"font-bold text-base flex items-center gap-2",children:[n.jsx(Pi,{className:"h-4 w-4 text-primary"}),"Grupo Pblico"]}),n.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Outras pessoas podero encontrar e entrar no grupo"})]}),n.jsx(qt,{children:n.jsx(Qn,{checked:R.value,onCheckedChange:R.onChange,"data-testid":"switch-is-public"})})]})}),n.jsx(la,{className:"pt-4",children:n.jsxs(D,{type:"submit",disabled:Se.isPending,className:"w-full h-14 rounded-2xl font-bold text-lg shadow-lg shadow-primary/20","data-testid":"button-save-group",children:[Se.isPending?n.jsx(Ge,{className:"h-5 w-5 mr-2 animate-spin"}):n.jsx(as,{className:"h-5 w-5 mr-2"}),"Criar Comunidade"]})})]})})]})})]})}const QE={pt:["Gnesis","xodo","Levtico","Nmeros","Deuteronmio","Josu","Juzes","Rute","1 Samuel","2 Samuel","1 Reis","2 Reis","1 Crnicas","2 Crnicas","Esdras","Neemias","Ester","J","Salmos","Provrbios","Eclesiastes","Cantares","Isaas","Jeremias","Lamentaes","Ezequiel","Daniel","Osias","Joel","Ams","Obadias","Jonas","Miquias","Naum","Habacuque","Sofonias","Ageu","Zacarias","Malaquias","Mateus","Marcos","Lucas","Joo","Atos","Romanos","1 Corntios","2 Corntios","Glatas","Efsios","Filipenses","Colossenses","1 Tessalonicenses","2 Tessalonicenses","1 Timteo","2 Timteo","Tito","Filemom","Hebreus","Tiago","1 Pedro","2 Pedro","1 Joo","2 Joo","3 Joo","Judas","Apocalipse"],en:["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],nl:["Genesis","Exodus","Leviticus","Numeri","Deuteronomium","Jozua","Richteren","Ruth","1 Samuel","2 Samuel","1 Koningen","2 Koningen","1 Kronieken","2 Kronieken","Ezra","Nehemia","Esther","Job","Psalmen","Spreuken","Prediker","Hooglied","Jesaja","Jeremia","Klaagliederen","Ezechil","Danil","Hosea","Jol","Amos","Obadja","Jona","Micha","Nahum","Habakuk","Zefanja","Hagga","Zacharia","Maleachi","Mattheus","Markus","Lukas","Johannes","Handelingen","Romeinen","1 Corinthirs","2 Corinthirs","Galaten","Efezirs","Filippenzen","Colossenzen","1 Thessalonicenzen","2 Thessalonicenzen","1 Timotes","2 Timotes","Titus","Filemon","Hebreen","Jakobus","1 Petrus","2 Petrus","1 Johannes","2 Johannes","3 Johannes","Judas","Openbaring"],es:["Gnesis","xodo","Levtico","Nmeros","Deuteronomio","Josu","Jueces","Rut","1 Samuel","2 Samuel","1 Reyes","2 Reyes","1 Crnicas","2 Crnicas","Esdras","Nehemas","Ester","Job","Salmos","Proverbios","Eclesiasts","Cantar de los Cantares","Isaas","Jeremas","Lamentaciones","Ezequiel","Daniel","Oseas","Joel","Ams","Abdas","Jons","Miqueas","Nahm","Habacuc","Sofonas","Ageo","Zacaras","Malaquas","Mateo","Marcos","Lucas","Juan","Hechos","Romanos","1 Corintios","2 Corintios","Glatas","Efesios","Filipenses","Colosenses","1 Tesalonicenses","2 Tesalonicenses","1 Timoteo","2 Timoteo","Tito","Filemn","Hebreos","Santiago","1 Pedro","2 Pedro","1 Juan","2 Juan","3 Juan","Judas","Apocalipsis"]},JE={pt:{Gnesis:"gn",xodo:"ex",Levtico:"lv",Nmeros:"nm",Deuteronmio:"dt",Josu:"js",Juzes:"jz",Rute:"rt","1 Samuel":"1sm","2 Samuel":"2sm","1 Reis":"1rs","2 Reis":"2rs","1 Crnicas":"1cr","2 Crnicas":"2cr",Esdras:"esd",Neemias:"ne",Ester:"et",J:"j",Salmos:"sl",Provrbios:"pv",Eclesiastes:"ec",Cantares:"ct",Isaas:"is",Jeremias:"jr",Lamentaes:"lm",Ezequiel:"ez",Daniel:"dn",Osias:"os",Joel:"jl",Ams:"am",Obadias:"ob",Jonas:"jn",Miquias:"mq",Naum:"na",Habacuque:"hc",Sofonias:"sf",Ageu:"ag",Zacarias:"zc",Malaquias:"ml",Mateus:"mt",Marcos:"mc",Lucas:"lc",Joo:"jo",Atos:"at",Romanos:"rm","1 Corntios":"1co","2 Corntios":"2co",Glatas:"gl",Efsios:"ef",Filipenses:"fp",Colossenses:"cl","1 Tessalonicenses":"1ts","2 Tessalonicenses":"2ts","1 Timteo":"1tm","2 Timteo":"2tm",Tito:"tt",Filemom:"fm",Hebreus:"hb",Tiago:"tg","1 Pedro":"1pd","2 Pedro":"2pd","1 Joo":"1jo","2 Joo":"2jo","3 Joo":"3jo",Judas:"jd",Apocalipse:"ap"},en:{Genesis:"gn",Exodus:"ex",Leviticus:"lv",Numbers:"nm",Deuteronomy:"dt",Joshua:"js",Judges:"jz",Ruth:"rt","1 Samuel":"1sm","2 Samuel":"2sm","1 Kings":"1rs","2 Kings":"2rs","1 Chronicles":"1cr","2 Chronicles":"2cr",Ezra:"esd",Nehemiah:"ne",Esther:"et",Job:"j",Psalms:"sl",Proverbs:"pv",Ecclesiastes:"ec","Song of Songs":"ct",Isaiah:"is",Jeremiah:"jr",Lamentations:"lm",Ezekiel:"ez",Daniel:"dn",Hosea:"os",Joel:"jl",Amos:"am",Obadiah:"ob",Jonah:"jn",Micah:"mq",Nahum:"na",Habakkuk:"hc",Zephaniah:"sf",Haggai:"ag",Zechariah:"zc",Malachi:"ml",Matthew:"mt",Mark:"mc",Luke:"lc",John:"jo",Acts:"at",Romans:"rm","1 Corinthians":"1co","2 Corinthians":"2co",Galatians:"gl",Ephesians:"ef",Philippians:"fp",Colossians:"cl","1 Thessalonians":"1ts","2 Thessalonians":"2ts","1 Timothy":"1tm","2 Timothy":"2tm",Titus:"tt",Philemon:"fm",Hebrews:"hb",James:"tg","1 Peter":"1pd","2 Peter":"2pd","1 John":"1jo","2 John":"2jo","3 John":"3jo",Jude:"jd",Revelation:"ap"},nl:{Genesis:"gn",Exodus:"ex",Leviticus:"lv",Numeri:"nm",Deuteronomium:"dt",Jozua:"js",Richteren:"jz",Ruth:"rt","1 Samuel":"1sm","2 Samuel":"2sm","1 Koningen":"1rs","2 Koningen":"2rs","1 Kronieken":"1cr","2 Kronieken":"2cr",Ezra:"esd",Nehemia:"ne",Esther:"et",Job:"j",Psalmen:"sl",Spreuken:"pv",Prediker:"ec",Hooglied:"ct",Jesaja:"is",Jeremia:"jr",Klaagliederen:"lm",Ezechil:"ez",Danil:"dn",Hosea:"os",Jol:"jl",Amos:"am",Obadja:"ob",Jona:"jn",Micha:"mq",Nahum:"na",Habakuk:"hc",Zefanja:"sf",Hagga:"ag",Zacharia:"zc",Maleachi:"ml",Mattheus:"mt",Markus:"mc",Lukas:"lc",Johannes:"jo",Handelingen:"at",Romeinen:"rm","1 Corinthirs":"1co","2 Corinthirs":"2co",Galaten:"gl",Efezirs:"ef",Filippenzen:"fp",Colossenzen:"cl","1 Thessalonicenzen":"1ts","2 Thessalonicenzen":"2ts","1 Timotes":"1tm","2 Timotes":"2tm",Titus:"tt",Filemon:"fm",Hebreen:"hb",Jakobus:"tg","1 Petrus":"1pd","2 Petrus":"2pd","1 Johannes":"1jo","2 Johannes":"2jo","3 Johannes":"3jo",Judas:"jd",Openbaring:"ap"},es:{Gnesis:"gn",xodo:"ex",Levtico:"lv",Nmeros:"nm",Deuteronomio:"dt",Josu:"js",Jueces:"jz",Rut:"rt","1 Samuel":"1sm","2 Samuel":"2sm","1 Reyes":"1rs","2 Reyes":"2rs","1 Crnicas":"1cr","2 Crnicas":"2cr",Esdras:"esd",Nehemas:"ne",Ester:"et",Job:"j",Salmos:"sl",Proverbios:"pv",Eclesiasts:"ec","Cantar de los Cantares":"ct",Isaas:"is",Jeremas:"jr",Lamentaciones:"lm",Ezequiel:"ez",Daniel:"dn",Oseas:"os",Joel:"jl",Ams:"am",Abdas:"ob",Jons:"jn",Miqueas:"mq",Nahm:"na",Habacuc:"hc",Sofonas:"sf",Ageo:"ag",Zacaras:"zc",Malaquas:"ml",Mateo:"mt",Marcos:"mc",Lucas:"lc",Juan:"jo",Hechos:"at",Romanos:"rm","1 Corintios":"1co","2 Corintios":"2co",Glatas:"gl",Efesios:"ef",Filipenses:"fp",Colosenses:"cl","1 Tesalonicenses":"1ts","2 Tesalonicenses":"2ts","1 Timoteo":"1tm","2 Timoteo":"2tm",Tito:"tt",Filemn:"fm",Hebreos:"hb",Santiago:"tg","1 Pedro":"1pd","2 Pedro":"2pd","1 Juan":"1jo","2 Juan":"2jo","3 Juan":"3jo",Judas:"jd",Apocalipsis:"ap"}},Ip=[{id:"nvi",name:"NVI",fullName:"Nova Verso Internacional"},{id:"acf",name:"ACF",fullName:"Almeida Corrigida Fiel"},{id:"arc",name:"ARC",fullName:"Almeida Revista e Corrigida"},{id:"ra",name:"RA",fullName:"Almeida Revista e Atualizada"}];function YE(){const{toast:t}=nr(),{language:e}=Lr(),{sqliteReady:r,getSqliteChapter:s}=dN(),a=QE[e]||QE.pt,i=JE[e]||JE.pt,[o,l]=m.useState(a[42]),[c,d]=m.useState(3),[u,h]=m.useState(["nvi","acf"]),[f,g]=m.useState([]),[b,x]=m.useState(!1),[j,y]=m.useState(21),v=async(C,T,M)=>{try{const A=await Xs(`/api/bible/${C}/${T}/${M}`);if(!A.ok)throw new Error("API fetch failed");return await A.json()}catch{return console.warn(`[VersionCompare] API fallback failed for ${C}/${T}/${M}`),null}},N=async()=>{var T,M,A;x(!0);const C=[];for(const W of u)try{const B=i[o]||o.toLowerCase();let L=null;r&&(L=await s(B,c)),L!=null&&L.verses||(L=await v(W,B,c)),L!=null&&L.verses?C.push({versionId:W,versionName:((T=Ip.find(K=>K.id===W))==null?void 0:T.name)||W.toUpperCase(),verses:L.verses.map((K,X)=>({number:K.verse||K.number||X+1,text:typeof K=="string"?K:K.text||""})),isLoading:!1}):C.push({versionId:W,versionName:((M=Ip.find(K=>K.id===W))==null?void 0:M.name)||W.toUpperCase(),verses:[],isLoading:!1,error:"Captulo no encontrado"})}catch{C.push({versionId:W,versionName:((A=Ip.find(L=>L.id===W))==null?void 0:A.name)||W.toUpperCase(),verses:[],isLoading:!1,error:"Erro ao carregar"})}g(C),x(!1)};m.useEffect(()=>{N()},[o,c,u,r,e]),m.useEffect(()=>{l(a[42])},[e]);const _=C=>{u.includes(C)?u.length>1&&h(u.filter(T=>T!==C)):u.length<3?h([...u,C]):t({title:"Limite atingido",description:"Voc pode comparar at 3 verses simultaneamente"})},k=C=>{const T=c+C;T>=1&&T<=j&&d(T)},P=Math.max(...f.map(C=>C.verses.length),0);return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"font-display text-4xl font-bold mb-2 flex items-center gap-3","data-testid":"text-page-title",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-700",children:n.jsx(VD,{className:"h-6 w-6 text-white"})}),"Comparar Verses"]}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Compare versculos em diferentes tradues lado a lado"})]})}),n.jsx(Y,{className:"mb-6",children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("div",{className:"flex-1 min-w-48",children:n.jsxs(Mf,{value:o,onValueChange:l,children:[n.jsx(ju,{"data-testid":"select-book",children:n.jsx(Lf,{placeholder:"Livro"})}),n.jsx(Nu,{children:a.map(C=>n.jsx(xc,{value:C,children:C},C))})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{variant:"outline",size:"icon",onClick:()=>k(-1),disabled:c<=1,"data-testid":"button-prev-chapter",children:n.jsx(MD,{className:"h-4 w-4"})}),n.jsx(ft,{type:"number",value:c,onChange:C=>d(parseInt(C.target.value)||1),className:"w-20 text-center",min:1,max:j,"data-testid":"input-chapter"}),n.jsx(D,{variant:"outline",size:"icon",onClick:()=>k(1),disabled:c>=j,"data-testid":"button-next-chapter",children:n.jsx(Da,{className:"h-4 w-4"})})]}),n.jsx(vs,{orientation:"vertical",className:"h-8"}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:Ip.map(C=>n.jsx(ot,{variant:u.includes(C.id)?"default":"outline",className:"cursor-pointer toggle-elevate px-3 py-1",onClick:()=>_(C.id),"data-testid":`badge-version-${C.id}`,children:C.name},C.id))})]})})}),!r||b?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:r?"Carregando versculos...":"Inicializando banco de dados..."})]})}):n.jsx("div",{className:`grid gap-4 ${u.length===1?"":u.length===2?"md:grid-cols-2":"md:grid-cols-3"}`,children:f.map(C=>n.jsxs(Y,{"data-testid":`card-version-${C.versionId}`,children:[n.jsx(he,{className:"py-3 px-4 bg-muted/50 sticky top-0 z-10",children:n.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sr,{className:"h-4 w-4"}),C.versionName]})}),n.jsx(re,{className:"p-0",children:n.jsx(kn,{className:"h-[60vh]",children:n.jsx("div",{className:"p-4 space-y-4",children:C.error?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:C.error}):C.verses.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nenhum versculo encontrado"}):C.verses.map(T=>n.jsxs("div",{className:"group","data-testid":`verse-${C.versionId}-${T.number}`,children:[n.jsx("span",{className:"text-primary font-bold mr-2",children:T.number}),n.jsx("span",{className:"text-foreground leading-relaxed",children:T.text})]},T.number))})})})]},C.versionId))}),f.length>0&&!b&&n.jsx(Y,{className:"mt-6",children:n.jsx(re,{className:"py-4",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:[o," ",c,"  ",P," versculos"]}),n.jsxs("span",{children:["Comparando ",u.length," ",u.length===1?"verso":"verses"]})]})})})]})})}function ZE(){Lr();const{data:t,isLoading:e}=Et({queryKey:["/api/achievements/user"]});if(e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary"})});const r=(t==null?void 0:t.filter(i=>i.unlockedAt).length)||0,s=(t==null?void 0:t.length)||0,a=s>0?r/s*100:0;return n.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 h-96 w-96 rounded-full bg-amber-500/5 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-primary/5 blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto py-8 px-4",children:[n.jsx(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-6 mb-10",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-lg shadow-amber-500/20",children:n.jsx(ci,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-amber-500 to-amber-600 bg-clip-text text-transparent",children:"Conquistas"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Acompanhe seu progresso e desbloqueie recompensas"})]})]})}),n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsx(Y,{className:"rounded-2xl border-none bg-card/80 backdrop-blur-xl shadow-lg mb-8",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{className:"text-lg font-bold",children:"Progresso Geral"})]}),n.jsxs(ot,{variant:"outline",className:"rounded-full px-4 py-2 bg-background/50 border-primary/20 font-bold text-primary",children:[r," de ",s," concludas"]})]}),n.jsx(ii,{value:a,className:"h-3 rounded-full"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:[a.toFixed(0),"% das conquistas desbloqueadas"]})]})})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsx(na,{mode:"popLayout",children:t==null?void 0:t.map((i,o)=>{const l=!!i.unlockedAt,c=i.currentValue/i.requirementValue*100;return n.jsx(ne.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:o*.05},children:n.jsxs(Y,{className:`rounded-2xl border-none backdrop-blur-xl shadow-lg h-full transition-all ${l?"bg-gradient-to-br from-amber-500/10 to-amber-500/5":"bg-card/60 opacity-80"}`,children:[n.jsxs(he,{className:"flex flex-row items-center gap-4 space-y-0 pb-3",children:[n.jsx("div",{className:`p-3 rounded-xl ${l?"bg-gradient-to-br from-amber-500 to-amber-600 shadow-lg shadow-amber-500/20":"bg-muted"}`,children:l?n.jsx(ci,{className:"h-6 w-6 text-white"}):n.jsx(Wi,{className:"h-6 w-6 text-muted-foreground"})}),n.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[n.jsx(ge,{className:`text-lg ${l?"text-amber-600":""}`,children:i.name}),n.jsx(qe,{children:i.description})]})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-medium",children:[i.currentValue," / ",i.requirementValue]}),l?n.jsx(ot,{className:"rounded-full px-3 py-1 bg-green-500/10 text-green-600 border-none font-bold text-[10px] uppercase tracking-widest",children:"Desbloqueado"}):n.jsxs("span",{className:"font-bold text-primary",children:[Math.round(c),"%"]})]}),!l&&n.jsx(ii,{value:c,className:"h-2 rounded-full"})]})})]})},i.id)})})}),(!t||t.length===0)&&n.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsx(Y,{className:"rounded-2xl border-dashed border-none bg-muted/30",children:n.jsxs(re,{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-[2rem] bg-muted/50 mb-6",children:n.jsx(Ma,{className:"h-10 w-10 text-muted-foreground"})}),n.jsx("h3",{className:"font-bold text-xl mb-2",children:"Nenhuma conquista ainda"}),n.jsx("p",{className:"text-muted-foreground max-w-md",children:"Continue lendo a Bblia para desbloquear conquistas e ganhar recompensas!"})]})})})]})]})}function eP(){const{isAuthenticated:t,isLoading:e}=Vn();Lr();const[r,s]=eo();return m.useEffect(()=>{!e&&!t&&du&&(r==="/"||(r==="/perfil"||r==="/profile"||r==="/configuraes"||r==="/settings"))&&s("/login",{replace:!0})},[e,t,r,s]),m.useEffect(()=>{t&&(r==="/login"||r==="/register")&&s("/",{replace:!0})},[t,r,s]),m.useEffect(()=>{},[e,t]),e?n.jsx("div",{className:"fixed inset-0 bg-[#6B21F0] z-[9999] flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white border-t-transparent"})}):n.jsxs(i7,{children:[t?n.jsxs(n.Fragment,{children:[n.jsx(gt,{path:"/",component:bie}),n.jsx(gt,{path:"/login",component:Fb}),n.jsx(gt,{path:"/register",component:GE}),n.jsx(gt,{path:"/bible",component:cE}),n.jsx(gt,{path:"/bible-reader",component:cE}),n.jsx(gt,{path:"/compare",component:YE}),n.jsx(gt,{path:"/comparar",component:YE}),n.jsx(gt,{path:"/favorites",component:Soe}),n.jsx(gt,{path:"/plans",component:ale}),n.jsx(gt,{path:"/progress",component:ole}),n.jsx(gt,{path:"/prayers",component:bhe}),n.jsx(gt,{path:"/podcasts",component:Fhe}),n.jsx(gt,{path:"/teacher",component:zhe}),n.jsx(gt,{path:"/groups",component:XE}),n.jsx(gt,{path:"/community",component:qhe}),n.jsx(gt,{path:"/achievements",component:ZE}),n.jsx(gt,{path:"/conquistas",component:ZE}),n.jsx(gt,{path:"/configuraes",component:FE}),n.jsx(gt,{path:"/settings",component:FE}),n.jsx(gt,{path:"/perfil",component:BE}),n.jsx(gt,{path:"/profile",component:BE}),n.jsx(gt,{path:"/offline",component:ffe}),n.jsx(gt,{path:"/donate",component:zE}),n.jsx(gt,{path:"/doar",component:zE}),n.jsx(gt,{path:"/planos",component:Op}),n.jsx(gt,{path:"/pricing",component:Op}),n.jsx(gt,{path:"/help",component:Nfe}),n.jsx(gt,{path:"/about",component:UE}),n.jsx(gt,{path:"/terms",component:qE}),n.jsx(gt,{path:"/privacy",component:HE}),n.jsx(gt,{path:"/security",component:WE}),n.jsx(gt,{path:"/contact",component:KE})]}):n.jsxs(n.Fragment,{children:[n.jsx(gt,{path:"/",component:du?Fb:sae}),n.jsx(gt,{path:"/login",component:Fb}),n.jsx(gt,{path:"/register",component:GE}),n.jsx(gt,{path:"/forgot-password",component:Efe}),n.jsx(gt,{path:"/reset-password",component:Tfe}),n.jsx(gt,{path:"/planos",component:Op}),n.jsx(gt,{path:"/pricing",component:Op}),n.jsx(gt,{path:"/terms",component:qE}),n.jsx(gt,{path:"/privacy",component:HE}),n.jsx(gt,{path:"/security",component:WE}),n.jsx(gt,{path:"/about",component:UE}),n.jsx(gt,{path:"/contact",component:KE}),n.jsx(gt,{path:"/groups",component:XE})]}),n.jsx(gt,{component:Afe})]})}function tP(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!e)return"0 0% 0%";let r=parseInt(e[1],16)/255,s=parseInt(e[2],16)/255,a=parseInt(e[3],16)/255;const i=Math.max(r,s,a),o=Math.min(r,s,a);let l=0,c=0;const d=(i+o)/2;if(i!==o){const u=i-o;switch(c=d>.5?u/(2-i-o):u/(i+o),i){case r:l=((s-a)/u+(s<a?6:0))/6;break;case s:l=((a-r)/u+2)/6;break;case a:l=((r-s)/u+4)/6;break}}return`${Math.round(l*360)} ${Math.round(c*100)}% ${Math.round(d*100)}%`}function Lfe(){const{isAuthenticated:t,isLoading:e,user:r}=Vn();Lr(),m.useEffect(()=>{if(r!=null&&r.selectedTheme){const a=document.documentElement;if(r.selectedTheme==="custom"&&r.customTheme){const i=tP(r.customTheme.primaryColor);a.style.setProperty("--primary",i),a.style.setProperty("--sidebar-primary",i),a.style.setProperty("--sidebar-accent-foreground",i),a.style.setProperty("--primary-foreground","0 0% 100%")}else{const i={classico:{primary:"#5711D9",foreground:"0 0% 100%"},noite_sagrada:{primary:"#9D44C0",foreground:"0 0% 100%"},luz_do_dia:{primary:"#00A0E3",foreground:"0 0% 100%"},terra_santa:{primary:"#8B4513",foreground:"0 0% 100%"}},o=i[r.selectedTheme]||i.classico,l=tP(o.primary);a.style.setProperty("--primary",l),a.style.setProperty("--sidebar-primary",l),a.style.setProperty("--sidebar-accent-foreground",l),a.style.setProperty("--primary-foreground",o.foreground)}}},[r==null?void 0:r.selectedTheme,r==null?void 0:r.customTheme]);const s={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return e?n.jsx("div",{className:"fixed inset-0 bg-[#6B21F0] z-[9999] flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white border-t-transparent"})}):t?n.jsx(uY,{style:s,children:n.jsxs("div",{className:"flex h-screen w-full",children:[n.jsx(bY,{}),n.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[n.jsxs("header",{className:"flex items-center justify-between gap-2 p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 shrink-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(fY,{"data-testid":"button-sidebar-toggle"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[n.jsx(aee,{}),n.jsx(IY,{})]}),n.jsx(uee,{})]})]}),n.jsx("main",{className:"flex-1 overflow-y-auto pb-16 md:pb-0 transition-opacity duration-200 ease-in-out",children:n.jsx(eP,{})}),n.jsx(hee,{})]})]})}):n.jsx(eP,{})}function $fe(){return n.jsx(k7,{client:Ke,children:n.jsx(jY,{children:n.jsx(yY,{children:n.jsx(OY,{children:n.jsxs(EM,{children:[n.jsx(Lfe,{}),n.jsx(NX,{})]})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const Vb=document.getElementById("root");if(Vb)try{pI(Vb).render(n.jsx($fe,{}))}catch(t){console.error("[BbliaFS] Error rendering app:",t),Vb.innerHTML=`
      <div style="padding:20px;font-family:sans-serif;max-width:400px;margin:0 auto;text-align:center;">
        <h2 style="color:#c00;">Erro ao carregar</h2>
        <p style="color:#666;">${t instanceof Error?t.message:String(t)}</p>
        <button onclick="location.reload()" style="padding:10px 20px;background:#8B4513;color:white;border:none;border-radius:5px;cursor:pointer;margin-top:15px;">
          Tentar novamente
        </button>
      </div>
    `}
